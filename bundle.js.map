{"version":3,"file":"bundle.js","sources":["../node_modules/svelte/internal/index.mjs","../node_modules/deep-chat-dev/dist/deepChat.js","../App.svelte","../index.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\nfunction is_promise(value) {\n    return !!value && (typeof value === 'object' || typeof value === 'function') && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\nfunction split_css_unit(value) {\n    const split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n    return split ? [parseFloat(split[1]), split[2] || 'px'] : [value, 'px'];\n}\nconst contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\n/**\n * Resize observer singleton.\n * One listener per element only!\n * https://groups.google.com/a/chromium.org/g/blink-dev/c/z6ienONUb5A/m/F5-VcUZtBAAJ\n */\nclass ResizeObserverSingleton {\n    constructor(options) {\n        this.options = options;\n        this._listeners = 'WeakMap' in globals ? new WeakMap() : undefined;\n    }\n    observe(element, listener) {\n        this._listeners.set(element, listener);\n        this._getObserver().observe(element, this.options);\n        return () => {\n            this._listeners.delete(element);\n            this._observer.unobserve(element); // this line can probably be removed\n        };\n    }\n    _getObserver() {\n        var _a;\n        return (_a = this._observer) !== null && _a !== void 0 ? _a : (this._observer = new ResizeObserver((entries) => {\n            var _a;\n            for (const entry of entries) {\n                ResizeObserverSingleton.entries.set(entry.target, entry);\n                (_a = this._listeners.get(entry.target)) === null || _a === void 0 ? void 0 : _a(entry);\n            }\n        }));\n    }\n}\n// Needs to be written like this to pass the tree-shake-test\nResizeObserverSingleton.entries = 'WeakMap' in globals ? new WeakMap() : undefined;\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n    return style.sheet;\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentNode !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    if (node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction comment(content) {\n    return document.createComment(content);\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_immediate_propagation(fn) {\n    return function (event) {\n        event.stopImmediatePropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set && always_set_through_set_attribute.indexOf(key) === -1) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data_map(node, data_map) {\n    Object.keys(data_map).forEach((key) => {\n        set_custom_element_data(node, key, data_map[key]);\n    });\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction set_dynamic_element_data(tag) {\n    return (/-/.test(tag)) ? set_custom_element_data_map : set_attributes;\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction init_binding_group(group) {\n    let _inputs;\n    return {\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            _inputs.forEach(input => group.push(input));\n        },\n        /* remove */ r() {\n            _inputs.forEach(input => group.splice(group.indexOf(input), 1));\n        }\n    };\n}\nfunction init_binding_group_dynamic(group, indexes) {\n    let _group = get_binding_group(group);\n    let _inputs;\n    function get_binding_group(group) {\n        for (let i = 0; i < indexes.length; i++) {\n            group = group[indexes[i]] = group[indexes[i]] || [];\n        }\n        return group;\n    }\n    function push() {\n        _inputs.forEach(input => _group.push(input));\n    }\n    function remove() {\n        _inputs.forEach(input => _group.splice(_group.indexOf(input), 1));\n    }\n    return {\n        /* update */ u(new_indexes) {\n            indexes = new_indexes;\n            const new_group = get_binding_group(group);\n            if (new_group !== _group) {\n                remove();\n                _group = new_group;\n                push();\n            }\n        },\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            push();\n        },\n        /* remove */ r: remove\n    };\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction claim_comment(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 8, (node) => {\n        node.data = '' + data;\n        return undefined;\n    }, () => comment(data), true);\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes, is_svg) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration(undefined, is_svg);\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes, is_svg);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    text.data = data;\n}\nfunction set_data_contenteditable(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable(text, data);\n    }\n    else {\n        set_data(text, data);\n    }\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value == null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value, mounting) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    if (!mounting || value !== undefined) {\n        select.selectedIndex = -1; // no option should be selected\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked');\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_iframe_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n            // make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n            // see https://github.com/sveltejs/svelte/issues/4233\n            fn();\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nconst resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'content-box' });\nconst resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'border-box' });\nconst resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'device-pixel-content-box' });\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, cancelable, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nfunction head_selector(nodeId, head) {\n    const result = [];\n    let started = 0;\n    for (const node of head.childNodes) {\n        if (node.nodeType === 8 /* comment node */) {\n            const comment = node.textContent.trim();\n            if (comment === `HEAD_${nodeId}_END`) {\n                started -= 1;\n                result.push(node);\n            }\n            else if (comment === `HEAD_${nodeId}_START`) {\n                started += 1;\n                result.push(node);\n            }\n        }\n        else if (started > 0) {\n            result.push(node);\n        }\n    }\n    return result;\n}\nclass HtmlTag {\n    constructor(is_svg = false) {\n        this.is_svg = false;\n        this.is_svg = is_svg;\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            if (this.is_svg)\n                this.e = svg_element(target.nodeName);\n            /** #7364  target for <template> may be provided as #document-fragment(11) */\n            else\n                this.e = element((target.nodeType === 11 ? 'TEMPLATE' : target.nodeName));\n            this.t = target.tagName !== 'TEMPLATE' ? target : target.content;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes, is_svg = false) {\n        super(is_svg);\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\nfunction construct_svelte_component(component, props) {\n    return new component(props);\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { ownerNode } = info.stylesheet;\n            // there is no ownerNode if it runs on jsdom.\n            if (ownerNode)\n                detach(ownerNode);\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs#run-time-svelte-beforeupdate\n */\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs#run-time-svelte-onmount\n */\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n */\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs#run-time-svelte-ondestroy\n */\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * https://svelte.dev/docs#run-time-svelte-createeventdispatcher\n */\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail, { cancelable = false } = {}) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail, { cancelable });\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n            return !event.defaultPrevented;\n        }\n        return true;\n    };\n}\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-setcontext\n */\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n    return context;\n}\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-getcontext\n */\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs#run-time-svelte-getallcontexts\n */\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-hascontext\n */\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    // Do not reenter flush while dirty components are updated, as this can\n    // result in an infinite loop. Instead, let the inner flush handle it.\n    // Reentrancy is ok afterwards for bindings etc.\n    if (flushidx !== 0) {\n        return;\n    }\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        try {\n            while (flushidx < dirty_components.length) {\n                const component = dirty_components[flushidx];\n                flushidx++;\n                set_current_component(component);\n                update(component.$$);\n            }\n        }\n        catch (e) {\n            // reset dirty state to not end up in a deadlocked state and then rethrow\n            dirty_components.length = 0;\n            flushidx = 0;\n            throw e;\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n */\nfunction flush_render_callbacks(fns) {\n    const filtered = [];\n    const targets = [];\n    render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n    targets.forEach((c) => c());\n    render_callbacks = filtered;\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n    else if (callback) {\n        callback();\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    const options = { direction: 'in' };\n    let config = fn(node, params, options);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config(options);\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    const options = { direction: 'out' };\n    let config = fn(node, params, options);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config(options);\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    const options = { direction: 'both' };\n    let config = fn(node, params, options);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config(options);\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    const updates = [];\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            // defer updates until all the DOM shuffling is done\n            updates.push(() => block.p(child_ctx, dirty));\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    run_all(updates);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\nconst _boolean_attributes = [\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'inert',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n];\n/**\n * List of HTML boolean attributes (e.g. `<input disabled>`).\n * Source: https://html.spec.whatwg.org/multipage/indices.html\n */\nconst boolean_attributes = new Set([..._boolean_attributes]);\n\n/** regex of all html void element names */\nconst void_element_names = /^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;\nfunction is_void(name) {\n    return void_element_names.test(name) || name.toLowerCase() === '!doctype';\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst ATTR_REGEX = /[&\"]/g;\nconst CONTENT_REGEX = /[&<]/g;\n/**\n * Note: this method is performance sensitive and has been optimized\n * https://github.com/sveltejs/svelte/pull/5701\n */\nfunction escape(value, is_attr = false) {\n    const str = String(value);\n    const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n    pattern.lastIndex = 0;\n    let escaped = '';\n    let last = 0;\n    while (pattern.test(str)) {\n        const i = pattern.lastIndex - 1;\n        const ch = str[i];\n        escaped += str.substring(last, i) + (ch === '&' ? '&amp;' : (ch === '\"' ? '&quot;' : '&lt;'));\n        last = i + 1;\n    }\n    return escaped + str.substring(last);\n}\nfunction escape_attribute_value(value) {\n    // keep booleans, null, and undefined for the sake of `spread`\n    const should_escape = typeof value === 'string' || (value && typeof value === 'object');\n    return should_escape ? escape(value, true) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    const assignment = (boolean && value === true) ? '' : `=\"${escape(value, true)}\"`;\n    return ` ${name}${assignment}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${escape_attribute_value(style_object[key])};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n            // if the component was destroyed immediately\n            // it will update the `$$.on_destroy` reference to `null`.\n            // the destructured on_destroy may still reference to the old array\n            if (component.$$.on_destroy) {\n                component.$$.on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        flush_render_callbacks($$.after_update);\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: [],\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            if (!is_function(callback)) {\n                return noop;\n            }\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        if (!is_function(callback)) {\n            return noop;\n        }\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.59.2' }, detail), { bubbles: true }));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation, has_stop_immediate_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    if (has_stop_immediate_propagation)\n        modifiers.push('stopImmediatePropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_contenteditable_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable_dev(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable_dev(text, data);\n    }\n    else {\n        set_data_dev(text, data);\n    }\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nfunction validate_dynamic_element(tag) {\n    const is_string = typeof tag === 'string';\n    if (tag && !is_string) {\n        throw new Error('<svelte:element> expects \"this\" attribute to be a string.');\n    }\n}\nfunction validate_void_dynamic_element(tag) {\n    if (tag && is_void(tag)) {\n        console.warn(`<svelte:element this=\"${tag}\"> is self-closing and cannot have content.`);\n    }\n}\nfunction construct_svelte_component_dev(component, props) {\n    const error_message = 'this={...} of <svelte:component> should specify a Svelte component.';\n    try {\n        const instance = new component(props);\n        if (!instance.$$ || !instance.$set || !instance.$on || !instance.$destroy) {\n            throw new Error(error_message);\n        }\n        return instance;\n    }\n    catch (err) {\n        const { message } = err;\n        if (typeof message === 'string' && message.indexOf('is not a constructor') !== -1) {\n            throw new Error(error_message);\n        }\n        else {\n            throw err;\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, ResizeObserverSingleton, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_iframe_resize_listener, add_location, add_render_callback, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_comment, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, comment, component_subscribe, compute_rest_props, compute_slots, construct_svelte_component, construct_svelte_component_dev, contenteditable_truthy_values, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, flush_render_callbacks, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, head_selector, identity, init, init_binding_group, init_binding_group_dynamic, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, is_void, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, resize_observer_border_box, resize_observer_content_box, resize_observer_device_pixel_content_box, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_custom_element_data_map, set_data, set_data_contenteditable, set_data_contenteditable_dev, set_data_dev, set_data_maybe_contenteditable, set_data_maybe_contenteditable_dev, set_dynamic_element_data, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, split_css_unit, spread, src_url_equal, start_hydrating, stop_immediate_propagation, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_dynamic_element, validate_each_argument, validate_each_keys, validate_slots, validate_store, validate_void_dynamic_element, xlink_attr };\n","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\nfunction _isNativeFunction(fn) { try { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; } catch (e) { return typeof fn === \"function\"; } }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = \"function\" == typeof Symbol ? Symbol : {}, a = i.iterator || \"@@iterator\", c = i.asyncIterator || \"@@asyncIterator\", u = i.toStringTag || \"@@toStringTag\"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, \"\"); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, \"_invoke\", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: \"normal\", arg: t.call(e, r) }; } catch (t) { return { type: \"throw\", arg: t }; } } e.wrap = wrap; var h = \"suspendedStart\", l = \"suspendedYield\", f = \"executing\", s = \"completed\", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { [\"next\", \"throw\", \"return\"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if (\"throw\" !== c.type) { var u = c.arg, h = u.value; return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) { invoke(\"next\", t, i, a); }, function (t) { invoke(\"throw\", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke(\"throw\", t, i, a); }); } a(c.arg); } var r; o(this, \"_invoke\", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error(\"Generator is already running\"); if (o === s) { if (\"throw\" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else \"return\" === n.method && n.abrupt(\"return\", n.arg); o = f; var p = tryCatch(e, r, n); if (\"normal\" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y; var i = tryCatch(o, e.iterator, r.arg); if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = \"normal\", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: \"root\" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || \"\" === e) { var r = e[a]; if (r) return r.call(e); if (\"function\" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + \" is not iterable\"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) { var e = \"function\" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () { return this; }), define(g, \"toString\", function () { return \"[object Generator]\"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if (\"throw\" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if (\"root\" === i.tryLoc) return handle(\"end\"); if (i.tryLoc <= this.prev) { var c = n.call(i, \"catchLoc\"), u = n.call(i, \"finallyLoc\"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error(\"try statement without catch or finally\"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) { var i = o; break; } } i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if (\"throw\" === t.type) throw t.arg; return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, \"catch\": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if (\"throw\" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, \"next\" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar bs = /*#__PURE__*/function () {\n  function bs() {\n    _classCallCheck(this, bs);\n  }\n  _createClass(bs, null, [{\n    key: \"render\",\n    value: function render(e, t) {\n      var i = document.createElement(\"div\");\n      i.id = \"error-view\", i.innerText = t, e.replaceChildren(i);\n    }\n  }]);\n  return bs;\n}();\nvar Dt = /*#__PURE__*/function () {\n  function Dt() {\n    _classCallCheck(this, Dt);\n  }\n  _createClass(Dt, null, [{\n    key: \"onLoad\",\n    value: function onLoad(e) {\n      e.innerHTML = '<div id=\"large-loading-ring\"></div>';\n    }\n  }, {\n    key: \"createElements\",\n    value: function createElements() {\n      var e = document.createElement(\"div\");\n      return e.id = \"validate-property-key-view\", e;\n    }\n  }, {\n    key: \"render\",\n    value: function render(e, t, i) {\n      var n = Dt.createElements(),\n        r = {\n          onSuccess: t,\n          onFail: bs.render.bind(this, e, \"Your 'key' has failed authentication\"),\n          onLoad: Dt.onLoad.bind(this, n)\n        };\n      i.key && i.verifyKey(i.key, r), e.replaceChildren(n);\n    }\n  }]);\n  return Dt;\n}();\nvar T = /*#__PURE__*/function () {\n  function T() {\n    _classCallCheck(this, T);\n  }\n  _createClass(T, null, [{\n    key: \"unsetStyle\",\n    value: function unsetStyle(e, t) {\n      var i = Object.keys(t).reduce(function (n, r) {\n        return n[r] = \"\", n;\n      }, {});\n      Object.assign(e.style, i);\n    }\n  }, {\n    key: \"unsetActivityCSSMouseStates\",\n    value: function unsetActivityCSSMouseStates(e, t) {\n      t.click && T.unsetStyle(e, t.click), t.hover && T.unsetStyle(e, t.hover);\n    }\n  }, {\n    key: \"unsetAllCSSMouseStates\",\n    value: function unsetAllCSSMouseStates(e, t) {\n      T.unsetActivityCSSMouseStates(e, t), t[\"default\"] && T.unsetStyle(e, t[\"default\"]);\n    }\n  }, {\n    key: \"processStateful\",\n    value: function processStateful(e, t, i) {\n      var n = e[\"default\"] || {},\n        r = Object.assign(JSON.parse(JSON.stringify(_objectSpread(_objectSpread({}, n), t))), e == null ? void 0 : e.hover),\n        o = Object.assign(JSON.parse(JSON.stringify(_objectSpread(_objectSpread({}, r), i))), e == null ? void 0 : e.click);\n      return {\n        \"default\": n,\n        hover: r,\n        click: o\n      };\n    }\n  }, {\n    key: \"mergeStatefulStyles\",\n    value: function mergeStatefulStyles(e) {\n      var t = {\n        \"default\": {},\n        hover: {},\n        click: {}\n      };\n      return e.forEach(function (i) {\n        t[\"default\"] = Object.assign(t[\"default\"], i[\"default\"]), t.hover = Object.assign(t.hover, i.hover), t.click = Object.assign(t.click, i.click);\n      }), t;\n    }\n  }, {\n    key: \"overwriteDefaultWithAlreadyApplied\",\n    value: function overwriteDefaultWithAlreadyApplied(e, t) {\n      Object.keys(e[\"default\"] || []).forEach(function (i) {\n        var r;\n        var n = i;\n        t.style[n] && (r = e[\"default\"]) != null && r[n] && (e[\"default\"][i] = t.style[n]);\n      });\n    }\n  }, {\n    key: \"applyToStyleIfNotDefined\",\n    value: function applyToStyleIfNotDefined(e, t) {\n      for (var i in t) {\n        var n = t[i];\n        e[i] === \"\" && n && (e[i] = n);\n      }\n    }\n  }]);\n  return T;\n}();\nvar Bn = /*#__PURE__*/function () {\n  function Ot() {\n    _classCallCheck(this, Ot);\n  }\n  _createClass(Ot, null, [{\n    key: \"apply\",\n    value: function apply(e, t) {\n      if (t) try {\n        Ot.applyStyleSheet(e, t);\n      } catch (_unused) {\n        Ot.addStyleElement(e, t);\n      }\n    }\n  }, {\n    key: \"applyStyleSheet\",\n    value: function applyStyleSheet(e, t) {\n      var i = new CSSStyleSheet();\n      i.replaceSync(e), t.adoptedStyleSheets.push(i);\n    }\n  }, {\n    key: \"addStyleElement\",\n    value: function addStyleElement(e, t) {\n      var i = document.createElement(\"style\");\n      i.innerHTML = e, t.appendChild(i);\n    }\n  }, {\n    key: \"applyDefaultStyleToComponent\",\n    value: function applyDefaultStyleToComponent(e, t) {\n      t && T.applyToStyleIfNotDefined(e, t), T.applyToStyleIfNotDefined(e, Ot.DEFAULT_COMPONENT_STYLE);\n    }\n  }]);\n  return Ot;\n}();\nBn.DEFAULT_COMPONENT_STYLE = {\n  height: \"350px\",\n  width: \"320px\",\n  border: \"1px solid #cacaca\",\n  fontFamily: \"'Inter', sans-serif, Avenir, Helvetica, Arial\",\n  fontSize: \"0.9rem\",\n  backgroundColor: \"white\",\n  position: \"relative\",\n  // this is used to prevent inputAreaStyle background color from going beyond the container's rounded border\n  // it will cause issues if there are elements that are meant to be outside of the chat component and in\n  // that instance they should overwrite this\n  // this is also causing the chat to squeeze when there is no space\n  overflow: \"hidden\"\n};\nvar Ei = Bn;\nvar R = /* @__PURE__ */function (s) {\n  return s.ESCAPE = \"Escape\", s.ENTER = \"Enter\", s.TAB = \"Tab\", s.ARROW_UP = \"ArrowUp\", s.ARROW_DOWN = \"ArrowDown\", s.ARROW_RIGHT = \"ArrowRight\", s.ARROW_LEFT = \"ArrowLeft\", s.BACKSPACE = \"Backspace\", s.DELETE = \"Delete\", s.META = \"Meta\", s.CONTROL = \"Control\", s;\n}(R || {});\nvar ge = /*#__PURE__*/_createClass(function ge() {\n  _classCallCheck(this, ge);\n});\nge.IS_SAFARI = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\nge.IS_CHROMIUM = window.chrome;\nvar zn = /*#__PURE__*/function () {\n  function nt() {\n    _classCallCheck(this, nt);\n  }\n  _createClass(nt, null, [{\n    key: \"add\",\n    value: function add(e, t, i) {\n      t !== void 0 && e.addEventListener(\"keydown\", nt.onKeyDown.bind(this, t)), e.oninput = nt.onInput.bind(this, t, i);\n    }\n    // preventing insertion early for a nicer UX\n    // prettier-ignore\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e, t) {\n      var n = t.target.textContent;\n      n && n.length >= e && !nt.PERMITTED_KEYS.has(t.key) && !nt.isKeyCombinationPermitted(t) && t.preventDefault();\n    }\n  }, {\n    key: \"isKeyCombinationPermitted\",\n    value: function isKeyCombinationPermitted(e) {\n      return e.key === \"a\" ? e.ctrlKey || e.metaKey : !1;\n    }\n  }, {\n    key: \"onInput\",\n    value: function onInput(e, t, i) {\n      var n = i.target,\n        r = n.textContent || \"\";\n      e !== void 0 && r.length > e && (n.textContent = r.substring(0, e), Qt.focusEndOfInput(n)), t == null || t();\n    }\n  }]);\n  return nt;\n}();\nzn.PERMITTED_KEYS = /* @__PURE__ */new Set([R.BACKSPACE, R.DELETE, R.ARROW_RIGHT, R.ARROW_LEFT, R.ARROW_DOWN, R.ARROW_UP, R.META, R.CONTROL, R.ENTER]);\nvar vs = zn;\nvar ys = /*#__PURE__*/function () {\n  function ys() {\n    _classCallCheck(this, ys);\n  }\n  _createClass(ys, null, [{\n    key: \"sanitizePastedTextContent\",\n    value: function sanitizePastedTextContent(e) {\n      var i, n;\n      e.preventDefault();\n      var t = (i = e.clipboardData) == null ? void 0 : i.getData(\"text/plain\");\n      (n = document.execCommand) == null || n.call(document, \"insertHTML\", !1, t);\n    }\n  }]);\n  return ys;\n}();\nvar Un = /*#__PURE__*/function () {\n  function qe(e, t) {\n    var _this = this;\n    _classCallCheck(this, qe);\n    var n;\n    var i = qe.processConfig(t, e.textInput);\n    this.elementRef = qe.createContainerElement((n = i == null ? void 0 : i.styles) == null ? void 0 : n.container), this.inputElementRef = this.createInputElement(i), this._config = i, this.elementRef.appendChild(this.inputElementRef), setTimeout(function () {\n      var r;\n      vs.add(_this.inputElementRef, (r = e.textInput) == null ? void 0 : r.characterLimit, e._validationHandler);\n    });\n  }\n  _createClass(qe, [{\n    key: \"createInputElement\",\n    value: function createInputElement(e) {\n      var i, n, r;\n      var t = document.createElement(\"div\");\n      return t.id = qe.TEXT_INPUT_ID, t.classList.add(\"text-input-styling\", \"text-input-placeholder\"), t.innerText = ((i = e == null ? void 0 : e.placeholder) == null ? void 0 : i.text) || \"Ask me anything!\", ge.IS_CHROMIUM && qe.preventAutomaticScrollUpOnNewLine(t), typeof (e == null ? void 0 : e.disabled) == \"boolean\" && e.disabled === !0 ? (t.contentEditable = \"false\", t.classList.add(\"text-input-disabled\")) : (t.contentEditable = \"true\", this.addEventListeners(t, e)), Object.assign(t.style, (n = e == null ? void 0 : e.styles) == null ? void 0 : n.text), Object.assign(t.style, (r = e == null ? void 0 : e.placeholder) == null ? void 0 : r.style), t;\n    }\n  }, {\n    key: \"removeTextIfPlaceholder\",\n    value: function removeTextIfPlaceholder() {\n      var e, t, i, n;\n      this.inputElementRef.classList.contains(\"text-input-placeholder\") && !this.inputElementRef.classList.contains(\"text-input-disabled\") && ((e = this._config.placeholder) != null && e.style && (T.unsetStyle(this.inputElementRef, (t = this._config.placeholder) == null ? void 0 : t.style), Object.assign(this.inputElementRef.style, (n = (i = this._config) == null ? void 0 : i.styles) == null ? void 0 : n.text)), qe.clear(this.inputElementRef), this.inputElementRef.classList.remove(\"text-input-placeholder\"));\n    }\n  }, {\n    key: \"addEventListeners\",\n    value: function addEventListeners(e, t) {\n      var i, n, r;\n      e.onfocus = this.onFocus.bind(this, (i = t == null ? void 0 : t.styles) == null ? void 0 : i.focus), (n = t == null ? void 0 : t.styles) != null && n.focus && (e.onblur = this.onBlur.bind(this, t.styles.focus, (r = t == null ? void 0 : t.styles) == null ? void 0 : r.container)), e.addEventListener(\"keydown\", this.onKeydown.bind(this)), e.onpaste = ys.sanitizePastedTextContent;\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus(e) {\n      var _this2 = this;\n      ge.IS_SAFARI ? setTimeout(function () {\n        _this2.removeTextIfPlaceholder();\n      }) : this.removeTextIfPlaceholder(), Object.assign(this.elementRef.style, e);\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur(e, t) {\n      T.unsetStyle(this.elementRef, e), t && Object.assign(this.elementRef.style, t);\n    }\n  }, {\n    key: \"onKeydown\",\n    value: function onKeydown(e) {\n      var t;\n      e.key === R.ENTER && !e.ctrlKey && !e.shiftKey && (e.preventDefault(), (t = this.submit) == null || t.call(this));\n    }\n  }], [{\n    key: \"processConfig\",\n    value: function processConfig(e, t) {\n      var _t2, _t$disabled, _t$placeholder, _i$text;\n      var i;\n      return (_t2 = t) !== null && _t2 !== void 0 ? _t2 : t = {}, (_t$disabled = t.disabled) !== null && _t$disabled !== void 0 ? _t$disabled : t.disabled = e.isTextInputDisabled, (_t$placeholder = t.placeholder) !== null && _t$placeholder !== void 0 ? _t$placeholder : t.placeholder = {}, (_i$text = (i = t.placeholder).text) !== null && _i$text !== void 0 ? _i$text : i.text = e.textInputPlaceholderText, t;\n    }\n    // this is is a bug fix where if the browser is scrolled down and the user types in text that creates new line\n    // the browser scrollbar will move up which leads to undesirable UX.\n    // More details in this Stack Overflow question:\n    // https://stackoverflow.com/questions/76285135/prevent-automatic-scroll-when-text-is-inserted-into-contenteditable-div\n    // prettier-ignore\n  }, {\n    key: \"preventAutomaticScrollUpOnNewLine\",\n    value: function preventAutomaticScrollUpOnNewLine(e) {\n      var t;\n      e.addEventListener(\"keydown\", function () {\n        t = window.scrollY;\n      }), e.addEventListener(\"input\", function () {\n        t !== window.scrollY && window.scrollTo({\n          top: t\n        });\n      });\n    }\n    // this also similarly prevents scroll up\n  }, {\n    key: \"clear\",\n    value: function clear(e) {\n      var t = window.scrollY;\n      e.classList.contains(\"text-input-disabled\") || (e.textContent = \"\"), ge.IS_CHROMIUM && window.scrollTo({\n        top: t\n      });\n    }\n  }, {\n    key: \"toggleEditability\",\n    value: function toggleEditability(e, t) {\n      e.contentEditable = t ? \"true\" : \"false\";\n    }\n  }, {\n    key: \"createContainerElement\",\n    value: function createContainerElement(e) {\n      var t = document.createElement(\"div\");\n      return t.id = \"text-input-container\", Object.assign(t.style, e), t;\n    }\n  }]);\n  return qe;\n}();\nUn.TEXT_INPUT_ID = \"text-input\";\nvar qi = Un;\nvar Qt = /*#__PURE__*/function () {\n  function Qt() {\n    _classCallCheck(this, Qt);\n  }\n  _createClass(Qt, null, [{\n    key: \"focusEndOfInput\",\n    value: function focusEndOfInput(e) {\n      var t = document.createRange();\n      t.selectNodeContents(e), t.collapse(!1);\n      var i = window.getSelection();\n      i == null || i.removeAllRanges(), i == null || i.addRange(t);\n    }\n  }, {\n    key: \"focusFromParentElement\",\n    value: function focusFromParentElement(e) {\n      var t = e.querySelector(\"#\".concat(qi.TEXT_INPUT_ID));\n      t && Qt.focusEndOfInput(t);\n    }\n  }]);\n  return Qt;\n}();\nfunction on(s) {\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\nfunction xs(s) {\n  return s && JSON.stringify(s);\n}\nfunction Hi(s, e, t, i) {\n  var n = \"\\n\".concat(on(e), \" message: \").concat(JSON.stringify(s), \" \\n\"),\n    r = t ? \"\".concat(on(e), \" message after interceptor: \").concat(xs(i), \" \\n\") : \"\";\n  return n + r;\n}\nfunction Es(s, e, t, i) {\n  return \"\".concat(Hi(s, e, t, i), \"Make sure the \").concat(e, \" message is using the Response format: https://deepchat.dev/docs/connect/#Response \\nYou can also augment it using the responseInterceptor property: https://deepchat.dev/docs/interceptors#responseInterceptor\");\n}\nfunction Ss(s, e, t) {\n  var i = \"response\";\n  return \"\".concat(Hi(s, i, e, t), \"Make sure the \").concat(i, \" message is using the {text: string} format, e.g: {text: \\\"Model Response\\\"}\");\n}\nfunction ws(s, e) {\n  var t = \"request\";\n  return \"\".concat(Hi(s, t, e), \"Make sure the \").concat(t, \" message is using the {body: {text: string}} format, e.g: {body: {text: \\\"Model Response\\\"}}\");\n}\nvar an = \"Make sure the events are using {text: string} or {html: string} format.\\nYou can also augment them using the responseInterceptor property: https://deepchat.dev/docs/interceptors#responseInterceptor\",\n  C = {\n    INVALID_KEY: \"Invalid API Key\",\n    CONNECTION_FAILED: \"Failed to connect\",\n    INVALID_RESPONSE: Es,\n    INVALID_MODEL_REQUEST: ws,\n    INVALID_MODEL_RESPONSE: Ss,\n    INVALID_STREAM_EVENT: an,\n    INVALID_STREAM_EVENT_MIX: \"Cannot mix {text: string} and {html: string} responses.\",\n    NO_VALID_STREAM_EVENTS_SENT: \"No valid stream events were sent.\\n\".concat(an)\n  },\n  qn = /*#__PURE__*/function () {\n    function Hn() {\n      _classCallCheck(this, Hn);\n    }\n    _createClass(Hn, null, [{\n      key: \"addElements\",\n      value: function addElements(e) {\n        for (var _len = arguments.length, t = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          t[_key - 1] = arguments[_key];\n        }\n        t.forEach(function (i) {\n          return e.appendChild(i);\n        });\n      }\n    }, {\n      key: \"isScrollbarAtBottomOfElement\",\n      value: function isScrollbarAtBottomOfElement(e) {\n        var t = e.scrollHeight,\n          i = e.clientHeight,\n          n = e.scrollTop,\n          r = t - i;\n        return n >= r - Hn.CODE_SNIPPET_GENERATION_JUMP;\n      }\n    }, {\n      key: \"cloneElement\",\n      value: function cloneElement(e) {\n        var t = e.cloneNode(!0);\n        return e.parentNode.replaceChild(t, e), t;\n      }\n    }, {\n      key: \"scrollToBottom\",\n      value: function scrollToBottom(e) {\n        e.scrollTop = e.scrollHeight;\n      }\n    }, {\n      key: \"scrollToTop\",\n      value: function scrollToTop(e) {\n        e.scrollTop = 0;\n      }\n    }]);\n    return Hn;\n  }();\nqn.CODE_SNIPPET_GENERATION_JUMP = 0.5;\nvar Y = qn;\nvar Gn = /*#__PURE__*/function () {\n  function Vn() {\n    _classCallCheck(this, Vn);\n  }\n  _createClass(Vn, null, [{\n    key: \"speak\",\n    value: function speak(e, t) {\n      if (window.SpeechSynthesisUtterance) {\n        var i = new SpeechSynthesisUtterance(e);\n        Object.assign(i, t), speechSynthesis.speak(i);\n      }\n    }\n  }, {\n    key: \"processConfig\",\n    value: function processConfig(e, t) {\n      var i = {};\n      setTimeout(function () {\n        if (_typeof(e) == \"object\" && (e.lang && (i.lang = e.lang), e.pitch && (i.pitch = e.pitch), e.rate && (i.rate = e.rate), e.volume && (i.volume = e.volume), e.voiceName)) {\n          var n = window.speechSynthesis.getVoices().find(function (r) {\n            var o;\n            return r.name.toLocaleLowerCase() === ((o = e.voiceName) == null ? void 0 : o.toLocaleLowerCase());\n          });\n          n && (i.voice = n);\n        }\n        t(i);\n      }, Vn.LOAD_VOICES_MS);\n    }\n  }]);\n  return Vn;\n}();\nGn.LOAD_VOICES_MS = 200;\nvar Nt = Gn;\nvar ke = /*#__PURE__*/function () {\n  function ke() {\n    _classCallCheck(this, ke);\n  }\n  _createClass(ke, null, [{\n    key: \"checkForContainerStyles\",\n    value: function checkForContainerStyles(e, t) {\n      var i = e.containerStyle;\n      i && (Object.assign(t.style, i), console.error(\"The containerStyle property is deprecated since version 1.3.14.\"), console.error(\"Please change to using the style property instead: https://deepchat.dev/docs/styles#style\"));\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  }, {\n    key: \"handleResponseProperty\",\n    value: function handleResponseProperty(e) {\n      return console.error(\"The {result: ....} response object type is deprecated since version 1.3.0.\"), console.error(\"Please change to using the new response object: https://deepchat.dev/docs/connect#Response\"), e.result;\n    }\n  }, {\n    key: \"processInitialMessageFile\",\n    value: function processInitialMessageFile(e) {\n      var t = e.file;\n      t && (console.error(\"The file property in MessageContent is deprecated since version 1.3.17.\"), console.error(\"Please change to using the files array property: https://deepchat.dev/docs/messages/#MessageContent\"), e.files = [t]);\n    }\n  }, {\n    key: \"processValidateInput\",\n    value: function processValidateInput(e) {\n      var t = e.validateMessageBeforeSending;\n      if (t) return console.error(\"The validateMessageBeforeSending property is deprecated since version 1.3.24.\"), console.error(\"Please change to using validateInput: https://deepchat.dev/docs/interceptors#validateInput\"), t;\n    }\n  }, {\n    key: \"processSubmitUserMessage\",\n    value: function processSubmitUserMessage(e) {\n      return console.error(\"The submitUserMessage(text: string) argument string type is deprecated since version 1.4.4.\"), console.error(\"Please change to using the new argument type: https://deepchat.dev/docs/methods#submitUserMessage\"), {\n        text: e\n      };\n    }\n  }, {\n    key: \"flagHTMLUpdateClass\",\n    value: function flagHTMLUpdateClass(e) {\n      var t;\n      (t = e.children[0]) != null && t.classList.contains(\"deep-chat-update-message\") && (console.error('The \"deep-chat-update-message\" html class is deprecated since version 1.4.4.'), console.error(\"Please change to using {..., overwrite: true} object: https://deepchat.dev/docs/connect#Response\"));\n    }\n  }]);\n  return ke;\n}();\nvar ei = /*#__PURE__*/function () {\n  function xe() {\n    _classCallCheck(this, xe);\n  }\n  _createClass(xe, null, [{\n    key: \"getLastElementsByClass\",\n    value: function getLastElementsByClass(e, t, i) {\n      var _loop = function _loop() {\n          var r = e[n];\n          if (r.bubbleElement.classList.contains(t[0]) && !t.slice(1).find(function (a) {\n            return !r.bubbleElement.classList.contains(a);\n          })) if (i) {\n            if (!i.find(function (l) {\n              return r.bubbleElement.classList.contains(l);\n            })) return {\n              v: r\n            };\n          } else return {\n            v: r\n          };\n        },\n        _ret;\n      for (var n = e.length - 1; n >= 0; n -= 1) {\n        _ret = _loop();\n        if (_ret) return _ret.v;\n      }\n    }\n  }, {\n    key: \"getLastMessage\",\n    value: function getLastMessage(e, t, i) {\n      for (var n = e.length - 1; n >= 0; n -= 1) if (e[n].role === t) if (i) {\n        if (e[n][i]) return e[n];\n      } else return e[n];\n    }\n  }, {\n    key: \"getLastTextToElement\",\n    value: function getLastTextToElement(e, t) {\n      for (var i = e.length - 1; i >= 0; i -= 1) if (e[i][0] === t) return e[i];\n    }\n    // IMPORTANT: If the overwrite message does not contain a role property it will look for the last 'ai' role message\n    // and if messages have custom roles, it will still look to update the last 'ai' role message\n    // prettier-ignore\n  }, {\n    key: \"overwriteMessage\",\n    value: function overwriteMessage(e, t, i, n, r, o) {\n      var a = xe.getLastElementsByClass(t, [xe.getRoleClass(n), o], [\"loading-message-text\"]),\n        l = xe.getLastMessage(e, n, r);\n      return l && (l[r] = i), a;\n    }\n  }, {\n    key: \"getRoleClass\",\n    value: function getRoleClass(e) {\n      return \"\".concat(e, \"-message\");\n    }\n    // makes sure the bubble has dimensions when there is no text\n  }, {\n    key: \"fillEmptyMessageElement\",\n    value: function fillEmptyMessageElement(e, t) {\n      t.trim().length === 0 && (e.classList.add(xe.EMPTY_MESSAGE_CLASS), e.innerHTML = '<div style=\"color:#00000000\">.</div>');\n    }\n  }, {\n    key: \"unfillEmptyMessageElement\",\n    value: function unfillEmptyMessageElement(e, t) {\n      e.classList.contains(xe.EMPTY_MESSAGE_CLASS) && t.trim().length > 0 && e.replaceChildren();\n    }\n  }, {\n    key: \"getLastMessageBubbleElement\",\n    value: function getLastMessageBubbleElement(e) {\n      var t, i, n;\n      return Array.from(((n = (i = (t = xe.getLastMessageElement(e)) == null ? void 0 : t.children) == null ? void 0 : i[0]) == null ? void 0 : n.children) || []).find(function (r) {\n        return r.classList.contains(\"message-bubble\");\n      });\n    }\n  }, {\n    key: \"getLastMessageElement\",\n    value: function getLastMessageElement(e) {\n      return e.children[e.children.length - 1];\n    }\n  }]);\n  return xe;\n}();\nei.AI_ROLE = \"ai\";\nei.USER_ROLE = \"user\";\nei.EMPTY_MESSAGE_CLASS = \"empty-message\";\nvar v = ei;\nvar Te = /*#__PURE__*/function () {\n  function Te() {\n    _classCallCheck(this, Te);\n  }\n  _createClass(Te, null, [{\n    key: \"mouseUp\",\n    value: function mouseUp(e, t) {\n      T.unsetAllCSSMouseStates(e, t), Object.assign(e.style, t[\"default\"]), Object.assign(e.style, t.hover);\n    }\n  }, {\n    key: \"mouseDown\",\n    value: function mouseDown(e, t) {\n      Object.assign(e.style, t.click);\n    }\n  }, {\n    key: \"mouseLeave\",\n    value: function mouseLeave(e, t) {\n      T.unsetAllCSSMouseStates(e, t), Object.assign(e.style, t[\"default\"]);\n    }\n  }, {\n    key: \"mouseEnter\",\n    value: function mouseEnter(e, t) {\n      Object.assign(e.style, t.hover);\n    }\n  }, {\n    key: \"add\",\n    value: function add(e, t) {\n      e.addEventListener(\"mouseenter\", Te.mouseEnter.bind(this, e, t)), e.addEventListener(\"mouseleave\", Te.mouseLeave.bind(this, e, t)), e.addEventListener(\"mousedown\", Te.mouseDown.bind(this, e, t)), e.addEventListener(\"mouseup\", Te.mouseUp.bind(this, e, t));\n    }\n  }]);\n  return Te;\n}();\nvar _s = \"deep-chat-temporary-message\",\n  Ms = \"deep-chat-suggestion-button\",\n  Ri = {\n    \"deep-chat-button\": {\n      styles: {\n        \"default\": {\n          backgroundColor: \"white\",\n          padding: \"5px\",\n          paddingLeft: \"7px\",\n          paddingRight: \"7px\",\n          border: \"1px solid #c2c2c2\",\n          borderRadius: \"6px\",\n          cursor: \"pointer\"\n        },\n        hover: {\n          backgroundColor: \"#fafafa\"\n        },\n        click: {\n          backgroundColor: \"#f1f1f1\"\n        }\n      }\n    }\n  },\n  ln = Object.keys(Ri);\nvar be = /*#__PURE__*/function () {\n  function be() {\n    _classCallCheck(this, be);\n  }\n  _createClass(be, null, [{\n    key: \"applySuggestionEvent\",\n    value: function applySuggestionEvent(e, t) {\n      setTimeout(function () {\n        t.addEventListener(\"click\", function () {\n          var i, n;\n          (n = e.submitUserMessage) == null || n.call(e, {\n            text: ((i = t.textContent) == null ? void 0 : i.trim()) || \"\"\n          });\n        });\n      });\n    }\n  }, {\n    key: \"isElementTemporary\",\n    value: function isElementTemporary(e) {\n      var t;\n      return e ? (t = e.bubbleElement.children[0]) == null ? void 0 : t.classList.contains(_s) : !1;\n    }\n  }, {\n    key: \"doesElementContainDeepChatClass\",\n    value: function doesElementContainDeepChatClass(e) {\n      return ln.find(function (t) {\n        return e.classList.contains(t);\n      });\n    }\n  }, {\n    key: \"applyEvents\",\n    value: function applyEvents(e, t) {\n      var i = Ri[t].events;\n      Object.keys(i || []).forEach(function (n) {\n        e.addEventListener(n, i == null ? void 0 : i[n]);\n      });\n    }\n  }, {\n    key: \"getProcessedStyles\",\n    value: function getProcessedStyles(e, t, i) {\n      var n = Array.from(t.classList).reduce(function (a, l) {\n          var d;\n          var c = (d = e[l]) == null ? void 0 : d.styles;\n          return c && e[l].styles && a.push(c), a;\n        }, []),\n        r = Ri[i].styles;\n      if (r) {\n        var a = JSON.parse(JSON.stringify(r));\n        a[\"default\"] && T.overwriteDefaultWithAlreadyApplied(a, t), n.unshift(a);\n      }\n      var o = T.mergeStatefulStyles(n);\n      return T.processStateful(o, {}, {});\n    }\n  }, {\n    key: \"applyDeepChatUtilities\",\n    value: function applyDeepChatUtilities(e, t, i) {\n      ln.forEach(function (r) {\n        var o = i.getElementsByClassName(r);\n        Array.from(o || []).forEach(function (a) {\n          var l = be.getProcessedStyles(t, a, r);\n          se.applyStylesToElement(a, l), be.applyEvents(a, r);\n        });\n      });\n      var n = i.getElementsByClassName(Ms);\n      Array.from(n).forEach(function (r) {\n        return be.applySuggestionEvent(e, r);\n      });\n    }\n  }]);\n  return be;\n}();\nvar se = /*#__PURE__*/function () {\n  function se() {\n    _classCallCheck(this, se);\n  }\n  _createClass(se, null, [{\n    key: \"applyStylesToElement\",\n    value: function applyStylesToElement(e, t) {\n      var i = T.processStateful(t, {}, {});\n      Te.add(e, i), Object.assign(e.style, i[\"default\"]);\n    }\n  }, {\n    key: \"applyEventsToElement\",\n    value: function applyEventsToElement(e, t) {\n      Object.keys(t).forEach(function (i) {\n        var n = t[i];\n        n && e.addEventListener(i, n);\n      });\n    }\n  }, {\n    key: \"applyClassUtilitiesToElement\",\n    value: function applyClassUtilitiesToElement(e, t) {\n      var i = t.events,\n        n = t.styles;\n      i && se.applyEventsToElement(e, i), n && !be.doesElementContainDeepChatClass(e) && se.applyStylesToElement(e, n);\n    }\n  }, {\n    key: \"applyCustomClassUtilities\",\n    value: function applyCustomClassUtilities(e, t) {\n      Object.keys(e).forEach(function (i) {\n        var n = t.getElementsByClassName(i);\n        Array.from(n).forEach(function (r) {\n          e[i] && se.applyClassUtilitiesToElement(r, e[i]);\n        });\n      });\n    }\n  }, {\n    key: \"apply\",\n    value: function apply(e, t) {\n      be.applyDeepChatUtilities(e, e.htmlClassUtilities, t), se.applyCustomClassUtilities(e.htmlClassUtilities, t);\n    }\n  }]);\n  return se;\n}();\nvar Ye = /*#__PURE__*/function () {\n  function Ye() {\n    _classCallCheck(this, Ye);\n  }\n  _createClass(Ye, null, [{\n    key: \"addElement\",\n    value: function addElement(e, t) {\n      e.elementRef.appendChild(t), e.elementRef.scrollTop = e.elementRef.scrollHeight;\n    }\n  }, {\n    key: \"createElements\",\n    value: function createElements(e, t, i) {\n      var n = e.createNewMessageElement(\"\", i);\n      return n.bubbleElement.classList.add(\"html-message\"), n.bubbleElement.innerHTML = t, n;\n    }\n  }, {\n    key: \"overwrite\",\n    value: function overwrite(e, t, i, n) {\n      var r = e.messages,\n        o = v.overwriteMessage(r, n, t, i, \"html\", \"html-message\");\n      return o && (o.bubbleElement.innerHTML = t, se.apply(e, o.outerContainer), ke.flagHTMLUpdateClass(o.bubbleElement)), o;\n    }\n    // prettier-ignore\n  }, {\n    key: \"add\",\n    value: function add(e, t, i, n, r) {\n      var a;\n      if (r != null && r.status) {\n        var l = this.overwrite(e, t, i, n);\n        if (l) return l;\n        r.status = !1;\n      }\n      var o = Ye.createElements(e, t, i);\n      return v.fillEmptyMessageElement(o.bubbleElement, t), se.apply(e, o.outerContainer), ke.flagHTMLUpdateClass(o.bubbleElement), e.applyCustomStyles(o, i, !1, (a = e.messageStyles) == null ? void 0 : a.html), Ye.addElement(e, o.outerContainer), o;\n    }\n  }]);\n  return Ye;\n}();\nvar kt;\nfunction Wn(s) {\n  return kt = kt || document.createElement(\"textarea\"), kt.innerHTML = \"&\" + s + \";\", kt.value;\n}\nvar Ts = Object.prototype.hasOwnProperty;\nfunction Cs(s, e) {\n  return s ? Ts.call(s, e) : !1;\n}\nfunction Kn(s) {\n  var e = [].slice.call(arguments, 1);\n  return e.forEach(function (t) {\n    if (t) {\n      if (_typeof(t) != \"object\") throw new TypeError(t + \"must be object\");\n      Object.keys(t).forEach(function (i) {\n        s[i] = t[i];\n      });\n    }\n  }), s;\n}\nvar As = /\\\\([\\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\nfunction ft(s) {\n  return s.indexOf(\"\\\\\") < 0 ? s : s.replace(As, \"$1\");\n}\nfunction Jn(s) {\n  return !(s >= 55296 && s <= 57343 || s >= 64976 && s <= 65007 || (s & 65535) === 65535 || (s & 65535) === 65534 || s >= 0 && s <= 8 || s === 11 || s >= 14 && s <= 31 || s >= 127 && s <= 159 || s > 1114111);\n}\nfunction Oi(s) {\n  if (s > 65535) {\n    s -= 65536;\n    var e = 55296 + (s >> 10),\n      t = 56320 + (s & 1023);\n    return String.fromCharCode(e, t);\n  }\n  return String.fromCharCode(s);\n}\nvar ks = /&([a-z#][a-z0-9]{1,31});/gi,\n  Is = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\nfunction Ls(s, e) {\n  var t = 0,\n    i = Wn(e);\n  return e !== i ? i : e.charCodeAt(0) === 35 && Is.test(e) && (t = e[1].toLowerCase() === \"x\" ? parseInt(e.slice(2), 16) : parseInt(e.slice(1), 10), Jn(t)) ? Oi(t) : s;\n}\nfunction Ie(s) {\n  return s.indexOf(\"&\") < 0 ? s : s.replace(ks, Ls);\n}\nvar Rs = /[&<>\"]/,\n  Os = /[&<>\"]/g,\n  Ns = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': \"&quot;\"\n  };\nfunction Ps(s) {\n  return Ns[s];\n}\nfunction z(s) {\n  return Rs.test(s) ? s.replace(Os, Ps) : s;\n}\nvar f = {};\nf.blockquote_open = function () {\n  return \"<blockquote>\\n\";\n};\nf.blockquote_close = function (s, e) {\n  return \"</blockquote>\" + Re(s, e);\n};\nf.code = function (s, e) {\n  return s[e].block ? \"<pre><code>\" + z(s[e].content) + \"</code></pre>\" + Re(s, e) : \"<code>\" + z(s[e].content) + \"</code>\";\n};\nf.fence = function (s, e, t, i, n) {\n  var r = s[e],\n    o = \"\",\n    a = t.langPrefix,\n    l = \"\",\n    c,\n    d,\n    u;\n  if (r.params) {\n    if (c = r.params.split(/\\s+/g), d = c.join(\" \"), Cs(n.rules.fence_custom, c[0])) return n.rules.fence_custom[c[0]](s, e, t, i, n);\n    l = z(Ie(ft(d))), o = ' class=\"' + a + l + '\"';\n  }\n  return t.highlight ? u = t.highlight.apply(t.highlight, [r.content].concat(c)) || z(r.content) : u = z(r.content), \"<pre><code\" + o + \">\" + u + \"</code></pre>\" + Re(s, e);\n};\nf.fence_custom = {};\nf.heading_open = function (s, e) {\n  return \"<h\" + s[e].hLevel + \">\";\n};\nf.heading_close = function (s, e) {\n  return \"</h\" + s[e].hLevel + \">\\n\";\n};\nf.hr = function (s, e, t) {\n  return (t.xhtmlOut ? \"<hr />\" : \"<hr>\") + Re(s, e);\n};\nf.bullet_list_open = function () {\n  return \"<ul>\\n\";\n};\nf.bullet_list_close = function (s, e) {\n  return \"</ul>\" + Re(s, e);\n};\nf.list_item_open = function () {\n  return \"<li>\";\n};\nf.list_item_close = function () {\n  return \"</li>\\n\";\n};\nf.ordered_list_open = function (s, e) {\n  var t = s[e],\n    i = t.order > 1 ? ' start=\"' + t.order + '\"' : \"\";\n  return \"<ol\" + i + \">\\n\";\n};\nf.ordered_list_close = function (s, e) {\n  return \"</ol>\" + Re(s, e);\n};\nf.paragraph_open = function (s, e) {\n  return s[e].tight ? \"\" : \"<p>\";\n};\nf.paragraph_close = function (s, e) {\n  var t = !(s[e].tight && e && s[e - 1].type === \"inline\" && !s[e - 1].content);\n  return (s[e].tight ? \"\" : \"</p>\") + (t ? Re(s, e) : \"\");\n};\nf.link_open = function (s, e, t) {\n  var i = s[e].title ? ' title=\"' + z(Ie(s[e].title)) + '\"' : \"\",\n    n = t.linkTarget ? ' target=\"' + t.linkTarget + '\"' : \"\";\n  return '<a href=\"' + z(s[e].href) + '\"' + i + n + \">\";\n};\nf.link_close = function () {\n  return \"</a>\";\n};\nf.image = function (s, e, t) {\n  var i = ' src=\"' + z(s[e].src) + '\"',\n    n = s[e].title ? ' title=\"' + z(Ie(s[e].title)) + '\"' : \"\",\n    r = ' alt=\"' + (s[e].alt ? z(Ie(ft(s[e].alt))) : \"\") + '\"',\n    o = t.xhtmlOut ? \" /\" : \"\";\n  return \"<img\" + i + r + n + o + \">\";\n};\nf.table_open = function () {\n  return \"<table>\\n\";\n};\nf.table_close = function () {\n  return \"</table>\\n\";\n};\nf.thead_open = function () {\n  return \"<thead>\\n\";\n};\nf.thead_close = function () {\n  return \"</thead>\\n\";\n};\nf.tbody_open = function () {\n  return \"<tbody>\\n\";\n};\nf.tbody_close = function () {\n  return \"</tbody>\\n\";\n};\nf.tr_open = function () {\n  return \"<tr>\";\n};\nf.tr_close = function () {\n  return \"</tr>\\n\";\n};\nf.th_open = function (s, e) {\n  var t = s[e];\n  return \"<th\" + (t.align ? ' style=\"text-align:' + t.align + '\"' : \"\") + \">\";\n};\nf.th_close = function () {\n  return \"</th>\";\n};\nf.td_open = function (s, e) {\n  var t = s[e];\n  return \"<td\" + (t.align ? ' style=\"text-align:' + t.align + '\"' : \"\") + \">\";\n};\nf.td_close = function () {\n  return \"</td>\";\n};\nf.strong_open = function () {\n  return \"<strong>\";\n};\nf.strong_close = function () {\n  return \"</strong>\";\n};\nf.em_open = function () {\n  return \"<em>\";\n};\nf.em_close = function () {\n  return \"</em>\";\n};\nf.del_open = function () {\n  return \"<del>\";\n};\nf.del_close = function () {\n  return \"</del>\";\n};\nf.ins_open = function () {\n  return \"<ins>\";\n};\nf.ins_close = function () {\n  return \"</ins>\";\n};\nf.mark_open = function () {\n  return \"<mark>\";\n};\nf.mark_close = function () {\n  return \"</mark>\";\n};\nf.sub = function (s, e) {\n  return \"<sub>\" + z(s[e].content) + \"</sub>\";\n};\nf.sup = function (s, e) {\n  return \"<sup>\" + z(s[e].content) + \"</sup>\";\n};\nf.hardbreak = function (s, e, t) {\n  return t.xhtmlOut ? \"<br />\\n\" : \"<br>\\n\";\n};\nf.softbreak = function (s, e, t) {\n  return t.breaks ? t.xhtmlOut ? \"<br />\\n\" : \"<br>\\n\" : \"\\n\";\n};\nf.text = function (s, e) {\n  return z(s[e].content);\n};\nf.htmlblock = function (s, e) {\n  return s[e].content;\n};\nf.htmltag = function (s, e) {\n  return s[e].content;\n};\nf.abbr_open = function (s, e) {\n  return '<abbr title=\"' + z(Ie(s[e].title)) + '\">';\n};\nf.abbr_close = function () {\n  return \"</abbr>\";\n};\nf.footnote_ref = function (s, e) {\n  var t = Number(s[e].id + 1).toString(),\n    i = \"fnref\" + t;\n  return s[e].subId > 0 && (i += \":\" + s[e].subId), '<sup class=\"footnote-ref\"><a href=\"#fn' + t + '\" id=\"' + i + '\">[' + t + \"]</a></sup>\";\n};\nf.footnote_block_open = function (s, e, t) {\n  var i = t.xhtmlOut ? \"<hr class=\\\"footnotes-sep\\\" />\\n\" : \"<hr class=\\\"footnotes-sep\\\">\\n\";\n  return i + \"<section class=\\\"footnotes\\\">\\n<ol class=\\\"footnotes-list\\\">\\n\";\n};\nf.footnote_block_close = function () {\n  return \"</ol>\\n</section>\\n\";\n};\nf.footnote_open = function (s, e) {\n  var t = Number(s[e].id + 1).toString();\n  return '<li id=\"fn' + t + '\"  class=\"footnote-item\">';\n};\nf.footnote_close = function () {\n  return \"</li>\\n\";\n};\nf.footnote_anchor = function (s, e) {\n  var t = Number(s[e].id + 1).toString(),\n    i = \"fnref\" + t;\n  return s[e].subId > 0 && (i += \":\" + s[e].subId), ' <a href=\"#' + i + '\" class=\"footnote-backref\">↩</a>';\n};\nf.dl_open = function () {\n  return \"<dl>\\n\";\n};\nf.dt_open = function () {\n  return \"<dt>\";\n};\nf.dd_open = function () {\n  return \"<dd>\";\n};\nf.dl_close = function () {\n  return \"</dl>\\n\";\n};\nf.dt_close = function () {\n  return \"</dt>\\n\";\n};\nf.dd_close = function () {\n  return \"</dd>\\n\";\n};\nfunction $n(s, e) {\n  return ++e >= s.length - 2 ? e : s[e].type === \"paragraph_open\" && s[e].tight && s[e + 1].type === \"inline\" && s[e + 1].content.length === 0 && s[e + 2].type === \"paragraph_close\" && s[e + 2].tight ? $n(s, e + 2) : e;\n}\nvar Re = f.getBreak = function (e, t) {\n  return t = $n(e, t), t < e.length && e[t].type === \"list_item_close\" ? \"\" : \"\\n\";\n};\nfunction Gi() {\n  this.rules = Kn({}, f), this.getBreak = f.getBreak;\n}\nGi.prototype.renderInline = function (s, e, t) {\n  for (var i = this.rules, n = s.length, r = 0, o = \"\"; n--;) o += i[s[r].type](s, r++, e, t, this);\n  return o;\n};\nGi.prototype.render = function (s, e, t) {\n  for (var i = this.rules, n = s.length, r = -1, o = \"\"; ++r < n;) s[r].type === \"inline\" ? o += this.renderInline(s[r].children, e, t) : o += i[s[r].type](s, r, e, t, this);\n  return o;\n};\nfunction H() {\n  this.__rules__ = [], this.__cache__ = null;\n}\nH.prototype.__find__ = function (s) {\n  for (var e = this.__rules__.length, t = -1; e--;) if (this.__rules__[++t].name === s) return t;\n  return -1;\n};\nH.prototype.__compile__ = function () {\n  var s = this,\n    e = [\"\"];\n  s.__rules__.forEach(function (t) {\n    t.enabled && t.alt.forEach(function (i) {\n      e.indexOf(i) < 0 && e.push(i);\n    });\n  }), s.__cache__ = {}, e.forEach(function (t) {\n    s.__cache__[t] = [], s.__rules__.forEach(function (i) {\n      i.enabled && (t && i.alt.indexOf(t) < 0 || s.__cache__[t].push(i.fn));\n    });\n  });\n};\nH.prototype.at = function (s, e, t) {\n  var i = this.__find__(s),\n    n = t || {};\n  if (i === -1) throw new Error(\"Parser rule not found: \" + s);\n  this.__rules__[i].fn = e, this.__rules__[i].alt = n.alt || [], this.__cache__ = null;\n};\nH.prototype.before = function (s, e, t, i) {\n  var n = this.__find__(s),\n    r = i || {};\n  if (n === -1) throw new Error(\"Parser rule not found: \" + s);\n  this.__rules__.splice(n, 0, {\n    name: e,\n    enabled: !0,\n    fn: t,\n    alt: r.alt || []\n  }), this.__cache__ = null;\n};\nH.prototype.after = function (s, e, t, i) {\n  var n = this.__find__(s),\n    r = i || {};\n  if (n === -1) throw new Error(\"Parser rule not found: \" + s);\n  this.__rules__.splice(n + 1, 0, {\n    name: e,\n    enabled: !0,\n    fn: t,\n    alt: r.alt || []\n  }), this.__cache__ = null;\n};\nH.prototype.push = function (s, e, t) {\n  var i = t || {};\n  this.__rules__.push({\n    name: s,\n    enabled: !0,\n    fn: e,\n    alt: i.alt || []\n  }), this.__cache__ = null;\n};\nH.prototype.enable = function (s, e) {\n  s = Array.isArray(s) ? s : [s], e && this.__rules__.forEach(function (t) {\n    t.enabled = !1;\n  }), s.forEach(function (t) {\n    var i = this.__find__(t);\n    if (i < 0) throw new Error(\"Rules manager: invalid rule name \" + t);\n    this.__rules__[i].enabled = !0;\n  }, this), this.__cache__ = null;\n};\nH.prototype.disable = function (s) {\n  s = Array.isArray(s) ? s : [s], s.forEach(function (e) {\n    var t = this.__find__(e);\n    if (t < 0) throw new Error(\"Rules manager: invalid rule name \" + e);\n    this.__rules__[t].enabled = !1;\n  }, this), this.__cache__ = null;\n};\nH.prototype.getRules = function (s) {\n  return this.__cache__ === null && this.__compile__(), this.__cache__[s] || [];\n};\nfunction Ds(s) {\n  s.inlineMode ? s.tokens.push({\n    type: \"inline\",\n    content: s.src.replace(/\\n/g, \" \").trim(),\n    level: 0,\n    lines: [0, 1],\n    children: []\n  }) : s.block.parse(s.src, s.options, s.env, s.tokens);\n}\nfunction Oe(s, e, t, i, n) {\n  this.src = s, this.env = i, this.options = t, this.parser = e, this.tokens = n, this.pos = 0, this.posMax = this.src.length, this.level = 0, this.pending = \"\", this.pendingLevel = 0, this.cache = [], this.isInLabel = !1, this.linkLevel = 0, this.linkContent = \"\", this.labelUnmatchedScopes = 0;\n}\nOe.prototype.pushPending = function () {\n  this.tokens.push({\n    type: \"text\",\n    content: this.pending,\n    level: this.pendingLevel\n  }), this.pending = \"\";\n};\nOe.prototype.push = function (s) {\n  this.pending && this.pushPending(), this.tokens.push(s), this.pendingLevel = this.level;\n};\nOe.prototype.cacheSet = function (s, e) {\n  for (var t = this.cache.length; t <= s; t++) this.cache.push(0);\n  this.cache[s] = e;\n};\nOe.prototype.cacheGet = function (s) {\n  return s < this.cache.length ? this.cache[s] : 0;\n};\nfunction mt(s, e) {\n  var t,\n    i,\n    n,\n    r = -1,\n    o = s.posMax,\n    a = s.pos,\n    l = s.isInLabel;\n  if (s.isInLabel) return -1;\n  if (s.labelUnmatchedScopes) return s.labelUnmatchedScopes--, -1;\n  for (s.pos = e + 1, s.isInLabel = !0, t = 1; s.pos < o;) {\n    if (n = s.src.charCodeAt(s.pos), n === 91) t++;else if (n === 93 && (t--, t === 0)) {\n      i = !0;\n      break;\n    }\n    s.parser.skipToken(s);\n  }\n  return i ? (r = s.pos, s.labelUnmatchedScopes = 0) : s.labelUnmatchedScopes = t - 1, s.pos = a, s.isInLabel = l, r;\n}\nfunction js(s, e, t, i) {\n  var n, r, o, a, l, c;\n  if (s.charCodeAt(0) !== 42 || s.charCodeAt(1) !== 91 || s.indexOf(\"]:\") === -1 || (n = new Oe(s, e, t, i, []), r = mt(n, 1), r < 0 || s.charCodeAt(r + 1) !== 58)) return -1;\n  for (a = n.posMax, o = r + 2; o < a && n.src.charCodeAt(o) !== 10; o++);\n  return l = s.slice(2, r), c = s.slice(r + 2, o).trim(), c.length === 0 ? -1 : (i.abbreviations || (i.abbreviations = {}), _typeof(i.abbreviations[\":\" + l]) > \"u\" && (i.abbreviations[\":\" + l] = c), o);\n}\nfunction Fs(s) {\n  var e = s.tokens,\n    t,\n    i,\n    n,\n    r;\n  if (!s.inlineMode) {\n    for (t = 1, i = e.length - 1; t < i; t++) if (e[t - 1].type === \"paragraph_open\" && e[t].type === \"inline\" && e[t + 1].type === \"paragraph_close\") {\n      for (n = e[t].content; n.length && (r = js(n, s.inline, s.options, s.env), !(r < 0));) n = n.slice(r).trim();\n      e[t].content = n, n.length || (e[t - 1].tight = !0, e[t + 1].tight = !0);\n    }\n  }\n}\nfunction Ni(s) {\n  var e = Ie(s);\n  try {\n    e = decodeURI(e);\n  } catch (_unused2) {}\n  return encodeURI(e);\n}\nfunction Yn(s, e) {\n  var t,\n    i,\n    n,\n    r = e,\n    o = s.posMax;\n  if (s.src.charCodeAt(e) === 60) {\n    for (e++; e < o;) {\n      if (t = s.src.charCodeAt(e), t === 10) return !1;\n      if (t === 62) return n = Ni(ft(s.src.slice(r + 1, e))), s.parser.validateLink(n) ? (s.pos = e + 1, s.linkContent = n, !0) : !1;\n      if (t === 92 && e + 1 < o) {\n        e += 2;\n        continue;\n      }\n      e++;\n    }\n    return !1;\n  }\n  for (i = 0; e < o && (t = s.src.charCodeAt(e), !(t === 32 || t < 32 || t === 127));) {\n    if (t === 92 && e + 1 < o) {\n      e += 2;\n      continue;\n    }\n    if (t === 40 && (i++, i > 1) || t === 41 && (i--, i < 0)) break;\n    e++;\n  }\n  return r === e || (n = ft(s.src.slice(r, e)), !s.parser.validateLink(n)) ? !1 : (s.linkContent = n, s.pos = e, !0);\n}\nfunction Zn(s, e) {\n  var t,\n    i = e,\n    n = s.posMax,\n    r = s.src.charCodeAt(e);\n  if (r !== 34 && r !== 39 && r !== 40) return !1;\n  for (e++, r === 40 && (r = 41); e < n;) {\n    if (t = s.src.charCodeAt(e), t === r) return s.pos = e + 1, s.linkContent = ft(s.src.slice(i + 1, e)), !0;\n    if (t === 92 && e + 1 < n) {\n      e += 2;\n      continue;\n    }\n    e++;\n  }\n  return !1;\n}\nfunction Xn(s) {\n  return s.trim().replace(/\\s+/g, \" \").toUpperCase();\n}\nfunction Bs(s, e, t, i) {\n  var n, r, o, a, l, c, d, u, h;\n  if (s.charCodeAt(0) !== 91 || s.indexOf(\"]:\") === -1 || (n = new Oe(s, e, t, i, []), r = mt(n, 0), r < 0 || s.charCodeAt(r + 1) !== 58)) return -1;\n  for (a = n.posMax, o = r + 2; o < a && (l = n.src.charCodeAt(o), !(l !== 32 && l !== 10)); o++);\n  if (!Yn(n, o)) return -1;\n  for (d = n.linkContent, o = n.pos, c = o, o = o + 1; o < a && (l = n.src.charCodeAt(o), !(l !== 32 && l !== 10)); o++);\n  for (o < a && c !== o && Zn(n, o) ? (u = n.linkContent, o = n.pos) : (u = \"\", o = c); o < a && n.src.charCodeAt(o) === 32;) o++;\n  return o < a && n.src.charCodeAt(o) !== 10 ? -1 : (h = Xn(s.slice(1, r)), _typeof(i.references[h]) > \"u\" && (i.references[h] = {\n    title: u,\n    href: d\n  }), o);\n}\nfunction zs(s) {\n  var e = s.tokens,\n    t,\n    i,\n    n,\n    r;\n  if (s.env.references = s.env.references || {}, !s.inlineMode) {\n    for (t = 1, i = e.length - 1; t < i; t++) if (e[t].type === \"inline\" && e[t - 1].type === \"paragraph_open\" && e[t + 1].type === \"paragraph_close\") {\n      for (n = e[t].content; n.length && (r = Bs(n, s.inline, s.options, s.env), !(r < 0));) n = n.slice(r).trim();\n      e[t].content = n, n.length || (e[t - 1].tight = !0, e[t + 1].tight = !0);\n    }\n  }\n}\nfunction Us(s) {\n  var e = s.tokens,\n    t,\n    i,\n    n;\n  for (i = 0, n = e.length; i < n; i++) t = e[i], t.type === \"inline\" && s.inline.parse(t.content, s.options, s.env, t.children);\n}\nfunction qs(s) {\n  var e,\n    t,\n    i,\n    n,\n    r,\n    o,\n    a,\n    l,\n    c,\n    d = 0,\n    u = !1,\n    h = {};\n  if (s.env.footnotes && (s.tokens = s.tokens.filter(function (p) {\n    return p.type === \"footnote_reference_open\" ? (u = !0, l = [], c = p.label, !1) : p.type === \"footnote_reference_close\" ? (u = !1, h[\":\" + c] = l, !1) : (u && l.push(p), !u);\n  }), !!s.env.footnotes.list)) {\n    for (o = s.env.footnotes.list, s.tokens.push({\n      type: \"footnote_block_open\",\n      level: d++\n    }), e = 0, t = o.length; e < t; e++) {\n      for (s.tokens.push({\n        type: \"footnote_open\",\n        id: e,\n        level: d++\n      }), o[e].tokens ? (a = [], a.push({\n        type: \"paragraph_open\",\n        tight: !1,\n        level: d++\n      }), a.push({\n        type: \"inline\",\n        content: \"\",\n        level: d,\n        children: o[e].tokens\n      }), a.push({\n        type: \"paragraph_close\",\n        tight: !1,\n        level: --d\n      })) : o[e].label && (a = h[\":\" + o[e].label]), s.tokens = s.tokens.concat(a), s.tokens[s.tokens.length - 1].type === \"paragraph_close\" ? r = s.tokens.pop() : r = null, n = o[e].count > 0 ? o[e].count : 1, i = 0; i < n; i++) s.tokens.push({\n        type: \"footnote_anchor\",\n        id: e,\n        subId: i,\n        level: d\n      });\n      r && s.tokens.push(r), s.tokens.push({\n        type: \"footnote_close\",\n        level: --d\n      });\n    }\n    s.tokens.push({\n      type: \"footnote_block_close\",\n      level: --d\n    });\n  }\n}\nvar cn = \" \\n()[]'\\\".,!?-\";\nfunction Si(s) {\n  return s.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, \"\\\\$1\");\n}\nfunction Hs(s) {\n  var e,\n    t,\n    i,\n    n,\n    r,\n    o,\n    a,\n    l,\n    c,\n    d,\n    u,\n    h,\n    p = s.tokens;\n  if (s.env.abbreviations) {\n    for (s.env.abbrRegExp || (h = \"(^|[\" + cn.split(\"\").map(Si).join(\"\") + \"])(\" + Object.keys(s.env.abbreviations).map(function (g) {\n      return g.substr(1);\n    }).sort(function (g, m) {\n      return m.length - g.length;\n    }).map(Si).join(\"|\") + \")($|[\" + cn.split(\"\").map(Si).join(\"\") + \"])\", s.env.abbrRegExp = new RegExp(h, \"g\")), d = s.env.abbrRegExp, t = 0, i = p.length; t < i; t++) if (p[t].type === \"inline\") {\n      for (n = p[t].children, e = n.length - 1; e >= 0; e--) if (r = n[e], r.type === \"text\") {\n        for (l = 0, o = r.content, d.lastIndex = 0, c = r.level, a = []; u = d.exec(o);) d.lastIndex > l && a.push({\n          type: \"text\",\n          content: o.slice(l, u.index + u[1].length),\n          level: c\n        }), a.push({\n          type: \"abbr_open\",\n          title: s.env.abbreviations[\":\" + u[2]],\n          level: c++\n        }), a.push({\n          type: \"text\",\n          content: u[2],\n          level: c\n        }), a.push({\n          type: \"abbr_close\",\n          level: --c\n        }), l = d.lastIndex - u[3].length;\n        a.length && (l < o.length && a.push({\n          type: \"text\",\n          content: o.slice(l),\n          level: c\n        }), p[t].children = n = [].concat(n.slice(0, e), a, n.slice(e + 1)));\n      }\n    }\n  }\n}\nvar Gs = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/,\n  Vs = /\\((c|tm|r|p)\\)/ig,\n  Ws = {\n    c: \"©\",\n    r: \"®\",\n    p: \"§\",\n    tm: \"™\"\n  };\nfunction Ks(s) {\n  return s.indexOf(\"(\") < 0 ? s : s.replace(Vs, function (e, t) {\n    return Ws[t.toLowerCase()];\n  });\n}\nfunction Js(s) {\n  var e, t, i, n, r;\n  if (s.options.typographer) {\n    for (r = s.tokens.length - 1; r >= 0; r--) if (s.tokens[r].type === \"inline\") for (n = s.tokens[r].children, e = n.length - 1; e >= 0; e--) t = n[e], t.type === \"text\" && (i = t.content, i = Ks(i), Gs.test(i) && (i = i.replace(/\\+-/g, \"±\").replace(/\\.{2,}/g, \"…\").replace(/([?!])…/g, \"$1..\").replace(/([?!]){4,}/g, \"$1$1$1\").replace(/,{2,}/g, \",\").replace(/(^|[^-])---([^-]|$)/mg, \"$1—$2\").replace(/(^|\\s)--(\\s|$)/mg, \"$1–$2\").replace(/(^|[^-\\s])--([^-\\s]|$)/mg, \"$1–$2\")), t.content = i);\n  }\n}\nvar $s = /['\"]/,\n  dn = /['\"]/g,\n  Ys = /[-\\s()\\[\\]]/,\n  un = \"’\";\nfunction hn(s, e) {\n  return e < 0 || e >= s.length ? !1 : !Ys.test(s[e]);\n}\nfunction ze(s, e, t) {\n  return s.substr(0, e) + t + s.substr(e + 1);\n}\nfunction Zs(s) {\n  var e, t, i, n, r, o, a, l, c, d, u, h, p, g, m, S, w;\n  if (s.options.typographer) {\n    for (w = [], m = s.tokens.length - 1; m >= 0; m--) if (s.tokens[m].type === \"inline\") {\n      for (S = s.tokens[m].children, w.length = 0, e = 0; e < S.length; e++) if (t = S[e], !(t.type !== \"text\" || $s.test(t.text))) {\n        for (a = S[e].level, p = w.length - 1; p >= 0 && !(w[p].level <= a); p--);\n        w.length = p + 1, i = t.content, r = 0, o = i.length;\n        e: for (; r < o && (dn.lastIndex = r, n = dn.exec(i), !!n);) {\n          if (l = !hn(i, n.index - 1), r = n.index + 1, g = n[0] === \"'\", c = !hn(i, r), !c && !l) {\n            g && (t.content = ze(t.content, n.index, un));\n            continue;\n          }\n          if (u = !c, h = !l, h) {\n            for (p = w.length - 1; p >= 0 && (d = w[p], !(w[p].level < a)); p--) if (d.single === g && w[p].level === a) {\n              d = w[p], g ? (S[d.token].content = ze(S[d.token].content, d.pos, s.options.quotes[2]), t.content = ze(t.content, n.index, s.options.quotes[3])) : (S[d.token].content = ze(S[d.token].content, d.pos, s.options.quotes[0]), t.content = ze(t.content, n.index, s.options.quotes[1])), w.length = p;\n              continue e;\n            }\n          }\n          u ? w.push({\n            token: e,\n            pos: n.index,\n            single: g,\n            level: a\n          }) : h && g && (t.content = ze(t.content, n.index, un));\n        }\n      }\n    }\n  }\n}\nvar wi = [[\"block\", Ds], [\"abbr\", Fs], [\"references\", zs], [\"inline\", Us], [\"footnote_tail\", qs], [\"abbr2\", Hs], [\"replacements\", Js], [\"smartquotes\", Zs]];\nfunction Qn() {\n  this.options = {}, this.ruler = new H();\n  for (var s = 0; s < wi.length; s++) this.ruler.push(wi[s][0], wi[s][1]);\n}\nQn.prototype.process = function (s) {\n  var e, t, i;\n  for (i = this.ruler.getRules(\"\"), e = 0, t = i.length; e < t; e++) i[e](s);\n};\nfunction Ne(s, e, t, i, n) {\n  var r, o, a, l, c, d, u;\n  for (this.src = s, this.parser = e, this.options = t, this.env = i, this.tokens = n, this.bMarks = [], this.eMarks = [], this.tShift = [], this.blkIndent = 0, this.line = 0, this.lineMax = 0, this.tight = !1, this.parentType = \"root\", this.ddIndent = -1, this.level = 0, this.result = \"\", o = this.src, d = 0, u = !1, a = l = d = 0, c = o.length; l < c; l++) {\n    if (r = o.charCodeAt(l), !u) if (r === 32) {\n      d++;\n      continue;\n    } else u = !0;\n    (r === 10 || l === c - 1) && (r !== 10 && l++, this.bMarks.push(a), this.eMarks.push(l), this.tShift.push(d), u = !1, d = 0, a = l + 1);\n  }\n  this.bMarks.push(o.length), this.eMarks.push(o.length), this.tShift.push(0), this.lineMax = this.bMarks.length - 1;\n}\nNe.prototype.isEmpty = function (e) {\n  return this.bMarks[e] + this.tShift[e] >= this.eMarks[e];\n};\nNe.prototype.skipEmptyLines = function (e) {\n  for (var t = this.lineMax; e < t && !(this.bMarks[e] + this.tShift[e] < this.eMarks[e]); e++);\n  return e;\n};\nNe.prototype.skipSpaces = function (e) {\n  for (var t = this.src.length; e < t && this.src.charCodeAt(e) === 32; e++);\n  return e;\n};\nNe.prototype.skipChars = function (e, t) {\n  for (var i = this.src.length; e < i && this.src.charCodeAt(e) === t; e++);\n  return e;\n};\nNe.prototype.skipCharsBack = function (e, t, i) {\n  if (e <= i) return e;\n  for (; e > i;) if (t !== this.src.charCodeAt(--e)) return e + 1;\n  return e;\n};\nNe.prototype.getLines = function (e, t, i, n) {\n  var r,\n    o,\n    a,\n    l,\n    c,\n    d = e;\n  if (e >= t) return \"\";\n  if (d + 1 === t) return o = this.bMarks[d] + Math.min(this.tShift[d], i), a = n ? this.eMarks[d] + 1 : this.eMarks[d], this.src.slice(o, a);\n  for (l = new Array(t - e), r = 0; d < t; d++, r++) c = this.tShift[d], c > i && (c = i), c < 0 && (c = 0), o = this.bMarks[d] + c, d + 1 < t || n ? a = this.eMarks[d] + 1 : a = this.eMarks[d], l[r] = this.src.slice(o, a);\n  return l.join(\"\");\n};\nfunction Xs(s, e, t) {\n  var i, n;\n  if (s.tShift[e] - s.blkIndent < 4) return !1;\n  for (n = i = e + 1; i < t;) {\n    if (s.isEmpty(i)) {\n      i++;\n      continue;\n    }\n    if (s.tShift[i] - s.blkIndent >= 4) {\n      i++, n = i;\n      continue;\n    }\n    break;\n  }\n  return s.line = i, s.tokens.push({\n    type: \"code\",\n    content: s.getLines(e, n, 4 + s.blkIndent, !0),\n    block: !0,\n    lines: [e, s.line],\n    level: s.level\n  }), !0;\n}\nfunction Qs(s, e, t, i) {\n  var n,\n    r,\n    o,\n    a,\n    l,\n    c = !1,\n    d = s.bMarks[e] + s.tShift[e],\n    u = s.eMarks[e];\n  if (d + 3 > u || (n = s.src.charCodeAt(d), n !== 126 && n !== 96) || (l = d, d = s.skipChars(d, n), r = d - l, r < 3) || (o = s.src.slice(d, u).trim(), o.indexOf(\"`\") >= 0)) return !1;\n  if (i) return !0;\n  for (a = e; a++, !(a >= t || (d = l = s.bMarks[a] + s.tShift[a], u = s.eMarks[a], d < u && s.tShift[a] < s.blkIndent));) if (s.src.charCodeAt(d) === n && !(s.tShift[a] - s.blkIndent >= 4) && (d = s.skipChars(d, n), !(d - l < r) && (d = s.skipSpaces(d), !(d < u)))) {\n    c = !0;\n    break;\n  }\n  return r = s.tShift[e], s.line = a + (c ? 1 : 0), s.tokens.push({\n    type: \"fence\",\n    params: o,\n    content: s.getLines(e + 1, a, r, !0),\n    lines: [e, s.line],\n    level: s.level\n  }), !0;\n}\nfunction er(s, e, t, i) {\n  var n,\n    r,\n    o,\n    a,\n    l,\n    c,\n    d,\n    u,\n    h,\n    p,\n    g,\n    m = s.bMarks[e] + s.tShift[e],\n    S = s.eMarks[e];\n  if (m > S || s.src.charCodeAt(m++) !== 62 || s.level >= s.options.maxNesting) return !1;\n  if (i) return !0;\n  for (s.src.charCodeAt(m) === 32 && m++, l = s.blkIndent, s.blkIndent = 0, a = [s.bMarks[e]], s.bMarks[e] = m, m = m < S ? s.skipSpaces(m) : m, r = m >= S, o = [s.tShift[e]], s.tShift[e] = m - s.bMarks[e], u = s.parser.ruler.getRules(\"blockquote\"), n = e + 1; n < t && (m = s.bMarks[n] + s.tShift[n], S = s.eMarks[n], !(m >= S)); n++) {\n    if (s.src.charCodeAt(m++) === 62) {\n      s.src.charCodeAt(m) === 32 && m++, a.push(s.bMarks[n]), s.bMarks[n] = m, m = m < S ? s.skipSpaces(m) : m, r = m >= S, o.push(s.tShift[n]), s.tShift[n] = m - s.bMarks[n];\n      continue;\n    }\n    if (r) break;\n    for (g = !1, h = 0, p = u.length; h < p; h++) if (u[h](s, n, t, !0)) {\n      g = !0;\n      break;\n    }\n    if (g) break;\n    a.push(s.bMarks[n]), o.push(s.tShift[n]), s.tShift[n] = -1337;\n  }\n  for (c = s.parentType, s.parentType = \"blockquote\", s.tokens.push({\n    type: \"blockquote_open\",\n    lines: d = [e, 0],\n    level: s.level++\n  }), s.parser.tokenize(s, e, n), s.tokens.push({\n    type: \"blockquote_close\",\n    level: --s.level\n  }), s.parentType = c, d[1] = s.line, h = 0; h < o.length; h++) s.bMarks[h + e] = a[h], s.tShift[h + e] = o[h];\n  return s.blkIndent = l, !0;\n}\nfunction tr(s, e, t, i) {\n  var n,\n    r,\n    o,\n    a = s.bMarks[e],\n    l = s.eMarks[e];\n  if (a += s.tShift[e], a > l || (n = s.src.charCodeAt(a++), n !== 42 && n !== 45 && n !== 95)) return !1;\n  for (r = 1; a < l;) {\n    if (o = s.src.charCodeAt(a++), o !== n && o !== 32) return !1;\n    o === n && r++;\n  }\n  return r < 3 ? !1 : (i || (s.line = e + 1, s.tokens.push({\n    type: \"hr\",\n    lines: [e, s.line],\n    level: s.level\n  })), !0);\n}\nfunction pn(s, e) {\n  var t, i, n;\n  return i = s.bMarks[e] + s.tShift[e], n = s.eMarks[e], i >= n || (t = s.src.charCodeAt(i++), t !== 42 && t !== 45 && t !== 43) || i < n && s.src.charCodeAt(i) !== 32 ? -1 : i;\n}\nfunction fn(s, e) {\n  var t,\n    i = s.bMarks[e] + s.tShift[e],\n    n = s.eMarks[e];\n  if (i + 1 >= n || (t = s.src.charCodeAt(i++), t < 48 || t > 57)) return -1;\n  for (;;) {\n    if (i >= n) return -1;\n    if (t = s.src.charCodeAt(i++), !(t >= 48 && t <= 57)) {\n      if (t === 41 || t === 46) break;\n      return -1;\n    }\n  }\n  return i < n && s.src.charCodeAt(i) !== 32 ? -1 : i;\n}\nfunction ir(s, e) {\n  var t,\n    i,\n    n = s.level + 2;\n  for (t = e + 2, i = s.tokens.length - 2; t < i; t++) s.tokens[t].level === n && s.tokens[t].type === \"paragraph_open\" && (s.tokens[t + 2].tight = !0, s.tokens[t].tight = !0, t += 2);\n}\nfunction nr(s, e, t, i) {\n  var n,\n    r,\n    o,\n    a,\n    l,\n    c,\n    d,\n    u,\n    h,\n    p,\n    g,\n    m,\n    S,\n    w,\n    G,\n    A,\n    V,\n    X,\n    oe = !0,\n    Q,\n    N,\n    Be,\n    xi;\n  if ((u = fn(s, e)) >= 0) S = !0;else if ((u = pn(s, e)) >= 0) S = !1;else return !1;\n  if (s.level >= s.options.maxNesting) return !1;\n  if (m = s.src.charCodeAt(u - 1), i) return !0;\n  for (G = s.tokens.length, S ? (d = s.bMarks[e] + s.tShift[e], g = Number(s.src.substr(d, u - d - 1)), s.tokens.push({\n    type: \"ordered_list_open\",\n    order: g,\n    lines: V = [e, 0],\n    level: s.level++\n  })) : s.tokens.push({\n    type: \"bullet_list_open\",\n    lines: V = [e, 0],\n    level: s.level++\n  }), n = e, A = !1, Q = s.parser.ruler.getRules(\"list\"); n < t && (w = s.skipSpaces(u), h = s.eMarks[n], w >= h ? p = 1 : p = w - u, p > 4 && (p = 1), p < 1 && (p = 1), r = u - s.bMarks[n] + p, s.tokens.push({\n    type: \"list_item_open\",\n    lines: X = [e, 0],\n    level: s.level++\n  }), a = s.blkIndent, l = s.tight, o = s.tShift[e], c = s.parentType, s.tShift[e] = w - s.bMarks[e], s.blkIndent = r, s.tight = !0, s.parentType = \"list\", s.parser.tokenize(s, e, t, !0), (!s.tight || A) && (oe = !1), A = s.line - e > 1 && s.isEmpty(s.line - 1), s.blkIndent = a, s.tShift[e] = o, s.tight = l, s.parentType = c, s.tokens.push({\n    type: \"list_item_close\",\n    level: --s.level\n  }), n = e = s.line, X[1] = n, w = s.bMarks[e], !(n >= t || s.isEmpty(n) || s.tShift[n] < s.blkIndent));) {\n    for (xi = !1, N = 0, Be = Q.length; N < Be; N++) if (Q[N](s, n, t, !0)) {\n      xi = !0;\n      break;\n    }\n    if (xi) break;\n    if (S) {\n      if (u = fn(s, n), u < 0) break;\n    } else if (u = pn(s, n), u < 0) break;\n    if (m !== s.src.charCodeAt(u - 1)) break;\n  }\n  return s.tokens.push({\n    type: S ? \"ordered_list_close\" : \"bullet_list_close\",\n    level: --s.level\n  }), V[1] = n, s.line = n, oe && ir(s, G), !0;\n}\nfunction sr(s, e, t, i) {\n  var n,\n    r,\n    o,\n    a,\n    l,\n    c = s.bMarks[e] + s.tShift[e],\n    d = s.eMarks[e];\n  if (c + 4 > d || s.src.charCodeAt(c) !== 91 || s.src.charCodeAt(c + 1) !== 94 || s.level >= s.options.maxNesting) return !1;\n  for (a = c + 2; a < d; a++) {\n    if (s.src.charCodeAt(a) === 32) return !1;\n    if (s.src.charCodeAt(a) === 93) break;\n  }\n  return a === c + 2 || a + 1 >= d || s.src.charCodeAt(++a) !== 58 ? !1 : (i || (a++, s.env.footnotes || (s.env.footnotes = {}), s.env.footnotes.refs || (s.env.footnotes.refs = {}), l = s.src.slice(c + 2, a - 2), s.env.footnotes.refs[\":\" + l] = -1, s.tokens.push({\n    type: \"footnote_reference_open\",\n    label: l,\n    level: s.level++\n  }), n = s.bMarks[e], r = s.tShift[e], o = s.parentType, s.tShift[e] = s.skipSpaces(a) - a, s.bMarks[e] = a, s.blkIndent += 4, s.parentType = \"footnote\", s.tShift[e] < s.blkIndent && (s.tShift[e] += s.blkIndent, s.bMarks[e] -= s.blkIndent), s.parser.tokenize(s, e, t, !0), s.parentType = o, s.blkIndent -= 4, s.tShift[e] = r, s.bMarks[e] = n, s.tokens.push({\n    type: \"footnote_reference_close\",\n    level: --s.level\n  })), !0);\n}\nfunction rr(s, e, t, i) {\n  var n,\n    r,\n    o,\n    a = s.bMarks[e] + s.tShift[e],\n    l = s.eMarks[e];\n  if (a >= l || (n = s.src.charCodeAt(a), n !== 35 || a >= l)) return !1;\n  for (r = 1, n = s.src.charCodeAt(++a); n === 35 && a < l && r <= 6;) r++, n = s.src.charCodeAt(++a);\n  return r > 6 || a < l && n !== 32 ? !1 : (i || (l = s.skipCharsBack(l, 32, a), o = s.skipCharsBack(l, 35, a), o > a && s.src.charCodeAt(o - 1) === 32 && (l = o), s.line = e + 1, s.tokens.push({\n    type: \"heading_open\",\n    hLevel: r,\n    lines: [e, s.line],\n    level: s.level\n  }), a < l && s.tokens.push({\n    type: \"inline\",\n    content: s.src.slice(a, l).trim(),\n    level: s.level + 1,\n    lines: [e, s.line],\n    children: []\n  }), s.tokens.push({\n    type: \"heading_close\",\n    hLevel: r,\n    level: s.level\n  })), !0);\n}\nfunction or(s, e, t) {\n  var i,\n    n,\n    r,\n    o = e + 1;\n  return o >= t || s.tShift[o] < s.blkIndent || s.tShift[o] - s.blkIndent > 3 || (n = s.bMarks[o] + s.tShift[o], r = s.eMarks[o], n >= r) || (i = s.src.charCodeAt(n), i !== 45 && i !== 61) || (n = s.skipChars(n, i), n = s.skipSpaces(n), n < r) ? !1 : (n = s.bMarks[e] + s.tShift[e], s.line = o + 1, s.tokens.push({\n    type: \"heading_open\",\n    hLevel: i === 61 ? 1 : 2,\n    lines: [e, s.line],\n    level: s.level\n  }), s.tokens.push({\n    type: \"inline\",\n    content: s.src.slice(n, s.eMarks[e]).trim(),\n    level: s.level + 1,\n    lines: [e, s.line - 1],\n    children: []\n  }), s.tokens.push({\n    type: \"heading_close\",\n    hLevel: i === 61 ? 1 : 2,\n    level: s.level\n  }), !0);\n}\nvar es = {};\n[\"article\", \"aside\", \"button\", \"blockquote\", \"body\", \"canvas\", \"caption\", \"col\", \"colgroup\", \"dd\", \"div\", \"dl\", \"dt\", \"embed\", \"fieldset\", \"figcaption\", \"figure\", \"footer\", \"form\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"header\", \"hgroup\", \"hr\", \"iframe\", \"li\", \"map\", \"object\", \"ol\", \"output\", \"p\", \"pre\", \"progress\", \"script\", \"section\", \"style\", \"table\", \"tbody\", \"td\", \"textarea\", \"tfoot\", \"th\", \"tr\", \"thead\", \"ul\", \"video\"].forEach(function (s) {\n  es[s] = !0;\n});\nvar ar = /^<([a-zA-Z]{1,15})[\\s\\/>]/,\n  lr = /^<\\/([a-zA-Z]{1,15})[\\s>]/;\nfunction cr(s) {\n  var e = s | 32;\n  return e >= 97 && e <= 122;\n}\nfunction dr(s, e, t, i) {\n  var n,\n    r,\n    o,\n    a = s.bMarks[e],\n    l = s.eMarks[e],\n    c = s.tShift[e];\n  if (a += c, !s.options.html || c > 3 || a + 2 >= l || s.src.charCodeAt(a) !== 60) return !1;\n  if (n = s.src.charCodeAt(a + 1), n === 33 || n === 63) {\n    if (i) return !0;\n  } else if (n === 47 || cr(n)) {\n    if (n === 47) {\n      if (r = s.src.slice(a, l).match(lr), !r) return !1;\n    } else if (r = s.src.slice(a, l).match(ar), !r) return !1;\n    if (es[r[1].toLowerCase()] !== !0) return !1;\n    if (i) return !0;\n  } else return !1;\n  for (o = e + 1; o < s.lineMax && !s.isEmpty(o);) o++;\n  return s.line = o, s.tokens.push({\n    type: \"htmlblock\",\n    level: s.level,\n    lines: [e, s.line],\n    content: s.getLines(e, o, 0, !0)\n  }), !0;\n}\nfunction _i(s, e) {\n  var t = s.bMarks[e] + s.blkIndent,\n    i = s.eMarks[e];\n  return s.src.substr(t, i - t);\n}\nfunction ur(s, e, t, i) {\n  var n, r, o, a, l, c, d, u, h, p, g;\n  if (e + 2 > t || (l = e + 1, s.tShift[l] < s.blkIndent) || (o = s.bMarks[l] + s.tShift[l], o >= s.eMarks[l]) || (n = s.src.charCodeAt(o), n !== 124 && n !== 45 && n !== 58) || (r = _i(s, e + 1), !/^[-:| ]+$/.test(r)) || (c = r.split(\"|\"), c <= 2)) return !1;\n  for (u = [], a = 0; a < c.length; a++) {\n    if (h = c[a].trim(), !h) {\n      if (a === 0 || a === c.length - 1) continue;\n      return !1;\n    }\n    if (!/^:?-+:?$/.test(h)) return !1;\n    h.charCodeAt(h.length - 1) === 58 ? u.push(h.charCodeAt(0) === 58 ? \"center\" : \"right\") : h.charCodeAt(0) === 58 ? u.push(\"left\") : u.push(\"\");\n  }\n  if (r = _i(s, e).trim(), r.indexOf(\"|\") === -1 || (c = r.replace(/^\\||\\|$/g, \"\").split(\"|\"), u.length !== c.length)) return !1;\n  if (i) return !0;\n  for (s.tokens.push({\n    type: \"table_open\",\n    lines: p = [e, 0],\n    level: s.level++\n  }), s.tokens.push({\n    type: \"thead_open\",\n    lines: [e, e + 1],\n    level: s.level++\n  }), s.tokens.push({\n    type: \"tr_open\",\n    lines: [e, e + 1],\n    level: s.level++\n  }), a = 0; a < c.length; a++) s.tokens.push({\n    type: \"th_open\",\n    align: u[a],\n    lines: [e, e + 1],\n    level: s.level++\n  }), s.tokens.push({\n    type: \"inline\",\n    content: c[a].trim(),\n    lines: [e, e + 1],\n    level: s.level,\n    children: []\n  }), s.tokens.push({\n    type: \"th_close\",\n    level: --s.level\n  });\n  for (s.tokens.push({\n    type: \"tr_close\",\n    level: --s.level\n  }), s.tokens.push({\n    type: \"thead_close\",\n    level: --s.level\n  }), s.tokens.push({\n    type: \"tbody_open\",\n    lines: g = [e + 2, 0],\n    level: s.level++\n  }), l = e + 2; l < t && !(s.tShift[l] < s.blkIndent || (r = _i(s, l).trim(), r.indexOf(\"|\") === -1)); l++) {\n    for (c = r.replace(/^\\||\\|$/g, \"\").split(\"|\"), s.tokens.push({\n      type: \"tr_open\",\n      level: s.level++\n    }), a = 0; a < c.length; a++) s.tokens.push({\n      type: \"td_open\",\n      align: u[a],\n      level: s.level++\n    }), d = c[a].substring(c[a].charCodeAt(0) === 124 ? 1 : 0, c[a].charCodeAt(c[a].length - 1) === 124 ? c[a].length - 1 : c[a].length).trim(), s.tokens.push({\n      type: \"inline\",\n      content: d,\n      level: s.level,\n      children: []\n    }), s.tokens.push({\n      type: \"td_close\",\n      level: --s.level\n    });\n    s.tokens.push({\n      type: \"tr_close\",\n      level: --s.level\n    });\n  }\n  return s.tokens.push({\n    type: \"tbody_close\",\n    level: --s.level\n  }), s.tokens.push({\n    type: \"table_close\",\n    level: --s.level\n  }), p[1] = g[1] = l, s.line = l, !0;\n}\nfunction It(s, e) {\n  var t,\n    i,\n    n = s.bMarks[e] + s.tShift[e],\n    r = s.eMarks[e];\n  return n >= r || (i = s.src.charCodeAt(n++), i !== 126 && i !== 58) || (t = s.skipSpaces(n), n === t) || t >= r ? -1 : t;\n}\nfunction hr(s, e) {\n  var t,\n    i,\n    n = s.level + 2;\n  for (t = e + 2, i = s.tokens.length - 2; t < i; t++) s.tokens[t].level === n && s.tokens[t].type === \"paragraph_open\" && (s.tokens[t + 2].tight = !0, s.tokens[t].tight = !0, t += 2);\n}\nfunction pr(s, e, t, i) {\n  var n, r, o, a, l, c, d, u, h, p, g, m, S, w;\n  if (i) return s.ddIndent < 0 ? !1 : It(s, e) >= 0;\n  if (d = e + 1, s.isEmpty(d) && ++d > t || s.tShift[d] < s.blkIndent || (n = It(s, d), n < 0) || s.level >= s.options.maxNesting) return !1;\n  c = s.tokens.length, s.tokens.push({\n    type: \"dl_open\",\n    lines: l = [e, 0],\n    level: s.level++\n  }), o = e, r = d;\n  e: for (;;) {\n    for (w = !0, S = !1, s.tokens.push({\n      type: \"dt_open\",\n      lines: [o, o],\n      level: s.level++\n    }), s.tokens.push({\n      type: \"inline\",\n      content: s.getLines(o, o + 1, s.blkIndent, !1).trim(),\n      level: s.level + 1,\n      lines: [o, o],\n      children: []\n    }), s.tokens.push({\n      type: \"dt_close\",\n      level: --s.level\n    });;) {\n      if (s.tokens.push({\n        type: \"dd_open\",\n        lines: a = [d, 0],\n        level: s.level++\n      }), m = s.tight, h = s.ddIndent, u = s.blkIndent, g = s.tShift[r], p = s.parentType, s.blkIndent = s.ddIndent = s.tShift[r] + 2, s.tShift[r] = n - s.bMarks[r], s.tight = !0, s.parentType = \"deflist\", s.parser.tokenize(s, r, t, !0), (!s.tight || S) && (w = !1), S = s.line - r > 1 && s.isEmpty(s.line - 1), s.tShift[r] = g, s.tight = m, s.parentType = p, s.blkIndent = u, s.ddIndent = h, s.tokens.push({\n        type: \"dd_close\",\n        level: --s.level\n      }), a[1] = d = s.line, d >= t || s.tShift[d] < s.blkIndent) break e;\n      if (n = It(s, d), n < 0) break;\n      r = d;\n    }\n    if (d >= t || (o = d, s.isEmpty(o)) || s.tShift[o] < s.blkIndent || (r = o + 1, r >= t) || (s.isEmpty(r) && r++, r >= t) || s.tShift[r] < s.blkIndent || (n = It(s, r), n < 0)) break;\n  }\n  return s.tokens.push({\n    type: \"dl_close\",\n    level: --s.level\n  }), l[1] = d, s.line = d, w && hr(s, c), !0;\n}\nfunction fr(s, e) {\n  var t,\n    i,\n    n,\n    r,\n    o,\n    a = e + 1,\n    l;\n  if (t = s.lineMax, a < t && !s.isEmpty(a)) {\n    for (l = s.parser.ruler.getRules(\"paragraph\"); a < t && !s.isEmpty(a); a++) if (!(s.tShift[a] - s.blkIndent > 3)) {\n      for (n = !1, r = 0, o = l.length; r < o; r++) if (l[r](s, a, t, !0)) {\n        n = !0;\n        break;\n      }\n      if (n) break;\n    }\n  }\n  return i = s.getLines(e, a, s.blkIndent, !1).trim(), s.line = a, i.length && (s.tokens.push({\n    type: \"paragraph_open\",\n    tight: !1,\n    lines: [e, s.line],\n    level: s.level\n  }), s.tokens.push({\n    type: \"inline\",\n    content: i,\n    level: s.level + 1,\n    lines: [e, s.line],\n    children: []\n  }), s.tokens.push({\n    type: \"paragraph_close\",\n    tight: !1,\n    level: s.level\n  })), !0;\n}\nvar Lt = [[\"code\", Xs], [\"fences\", Qs, [\"paragraph\", \"blockquote\", \"list\"]], [\"blockquote\", er, [\"paragraph\", \"blockquote\", \"list\"]], [\"hr\", tr, [\"paragraph\", \"blockquote\", \"list\"]], [\"list\", nr, [\"paragraph\", \"blockquote\"]], [\"footnote\", sr, [\"paragraph\"]], [\"heading\", rr, [\"paragraph\", \"blockquote\"]], [\"lheading\", or], [\"htmlblock\", dr, [\"paragraph\", \"blockquote\"]], [\"table\", ur, [\"paragraph\"]], [\"deflist\", pr, [\"paragraph\"]], [\"paragraph\", fr]];\nfunction Vi() {\n  this.ruler = new H();\n  for (var s = 0; s < Lt.length; s++) this.ruler.push(Lt[s][0], Lt[s][1], {\n    alt: (Lt[s][2] || []).slice()\n  });\n}\nVi.prototype.tokenize = function (s, e, t) {\n  for (var i = this.ruler.getRules(\"\"), n = i.length, r = e, o = !1, a, l; r < t && (s.line = r = s.skipEmptyLines(r), !(r >= t || s.tShift[r] < s.blkIndent));) {\n    for (l = 0; l < n && (a = i[l](s, r, t, !1), !a); l++);\n    if (s.tight = !o, s.isEmpty(s.line - 1) && (o = !0), r = s.line, r < t && s.isEmpty(r)) {\n      if (o = !0, r++, r < t && s.parentType === \"list\" && s.isEmpty(r)) break;\n      s.line = r;\n    }\n  }\n};\nvar mr = /[\\n\\t]/g,\n  gr = /\\r[\\n\\u0085]|[\\u2424\\u2028\\u0085]/g,\n  br = /\\u00a0/g;\nVi.prototype.parse = function (s, e, t, i) {\n  var n,\n    r = 0,\n    o = 0;\n  if (!s) return [];\n  s = s.replace(br, \" \"), s = s.replace(gr, \"\\n\"), s.indexOf(\"\t\") >= 0 && (s = s.replace(mr, function (a, l) {\n    var c;\n    return s.charCodeAt(l) === 10 ? (r = l + 1, o = 0, a) : (c = \"    \".slice((l - r - o) % 4), o = l - r + 1, c);\n  })), n = new Ne(s, this, e, t, i), this.tokenize(n, n.line, n.lineMax);\n};\nfunction vr(s) {\n  switch (s) {\n    case 10:\n    case 92:\n    case 96:\n    case 42:\n    case 95:\n    case 94:\n    case 91:\n    case 93:\n    case 33:\n    case 38:\n    case 60:\n    case 62:\n    case 123:\n    case 125:\n    case 36:\n    case 37:\n    case 64:\n    case 126:\n    case 43:\n    case 61:\n    case 58:\n      return !0;\n    default:\n      return !1;\n  }\n}\nfunction yr(s, e) {\n  for (var t = s.pos; t < s.posMax && !vr(s.src.charCodeAt(t));) t++;\n  return t === s.pos ? !1 : (e || (s.pending += s.src.slice(s.pos, t)), s.pos = t, !0);\n}\nfunction xr(s, e) {\n  var t,\n    i,\n    n = s.pos;\n  if (s.src.charCodeAt(n) !== 10) return !1;\n  if (t = s.pending.length - 1, i = s.posMax, !e) if (t >= 0 && s.pending.charCodeAt(t) === 32) {\n    if (t >= 1 && s.pending.charCodeAt(t - 1) === 32) {\n      for (var r = t - 2; r >= 0; r--) if (s.pending.charCodeAt(r) !== 32) {\n        s.pending = s.pending.substring(0, r + 1);\n        break;\n      }\n      s.push({\n        type: \"hardbreak\",\n        level: s.level\n      });\n    } else s.pending = s.pending.slice(0, -1), s.push({\n      type: \"softbreak\",\n      level: s.level\n    });\n  } else s.push({\n    type: \"softbreak\",\n    level: s.level\n  });\n  for (n++; n < i && s.src.charCodeAt(n) === 32;) n++;\n  return s.pos = n, !0;\n}\nvar Wi = [];\nfor (var mn = 0; mn < 256; mn++) Wi.push(0);\n\"\\\\!\\\"#$%&'()*+,./:;<=>?@[]^_`{|}~-\".split(\"\").forEach(function (s) {\n  Wi[s.charCodeAt(0)] = 1;\n});\nfunction Er(s, e) {\n  var t,\n    i = s.pos,\n    n = s.posMax;\n  if (s.src.charCodeAt(i) !== 92) return !1;\n  if (i++, i < n) {\n    if (t = s.src.charCodeAt(i), t < 256 && Wi[t] !== 0) return e || (s.pending += s.src[i]), s.pos += 2, !0;\n    if (t === 10) {\n      for (e || s.push({\n        type: \"hardbreak\",\n        level: s.level\n      }), i++; i < n && s.src.charCodeAt(i) === 32;) i++;\n      return s.pos = i, !0;\n    }\n  }\n  return e || (s.pending += \"\\\\\"), s.pos++, !0;\n}\nfunction Sr(s, e) {\n  var t,\n    i,\n    n,\n    r,\n    o,\n    a = s.pos,\n    l = s.src.charCodeAt(a);\n  if (l !== 96) return !1;\n  for (t = a, a++, i = s.posMax; a < i && s.src.charCodeAt(a) === 96;) a++;\n  for (n = s.src.slice(t, a), r = o = a; (r = s.src.indexOf(\"`\", o)) !== -1;) {\n    for (o = r + 1; o < i && s.src.charCodeAt(o) === 96;) o++;\n    if (o - r === n.length) return e || s.push({\n      type: \"code\",\n      content: s.src.slice(a, r).replace(/[ \\n]+/g, \" \").trim(),\n      block: !1,\n      level: s.level\n    }), s.pos = o, !0;\n  }\n  return e || (s.pending += n), s.pos += n.length, !0;\n}\nfunction wr(s, e) {\n  var t,\n    i,\n    n,\n    r = s.posMax,\n    o = s.pos,\n    a,\n    l;\n  if (s.src.charCodeAt(o) !== 126 || e || o + 4 >= r || s.src.charCodeAt(o + 1) !== 126 || s.level >= s.options.maxNesting || (a = o > 0 ? s.src.charCodeAt(o - 1) : -1, l = s.src.charCodeAt(o + 2), a === 126) || l === 126 || l === 32 || l === 10) return !1;\n  for (i = o + 2; i < r && s.src.charCodeAt(i) === 126;) i++;\n  if (i > o + 3) return s.pos += i - o, e || (s.pending += s.src.slice(o, i)), !0;\n  for (s.pos = o + 2, n = 1; s.pos + 1 < r;) {\n    if (s.src.charCodeAt(s.pos) === 126 && s.src.charCodeAt(s.pos + 1) === 126 && (a = s.src.charCodeAt(s.pos - 1), l = s.pos + 2 < r ? s.src.charCodeAt(s.pos + 2) : -1, l !== 126 && a !== 126 && (a !== 32 && a !== 10 ? n-- : l !== 32 && l !== 10 && n++, n <= 0))) {\n      t = !0;\n      break;\n    }\n    s.parser.skipToken(s);\n  }\n  return t ? (s.posMax = s.pos, s.pos = o + 2, e || (s.push({\n    type: \"del_open\",\n    level: s.level++\n  }), s.parser.tokenize(s), s.push({\n    type: \"del_close\",\n    level: --s.level\n  })), s.pos = s.posMax + 2, s.posMax = r, !0) : (s.pos = o, !1);\n}\nfunction _r(s, e) {\n  var t,\n    i,\n    n,\n    r = s.posMax,\n    o = s.pos,\n    a,\n    l;\n  if (s.src.charCodeAt(o) !== 43 || e || o + 4 >= r || s.src.charCodeAt(o + 1) !== 43 || s.level >= s.options.maxNesting || (a = o > 0 ? s.src.charCodeAt(o - 1) : -1, l = s.src.charCodeAt(o + 2), a === 43) || l === 43 || l === 32 || l === 10) return !1;\n  for (i = o + 2; i < r && s.src.charCodeAt(i) === 43;) i++;\n  if (i !== o + 2) return s.pos += i - o, e || (s.pending += s.src.slice(o, i)), !0;\n  for (s.pos = o + 2, n = 1; s.pos + 1 < r;) {\n    if (s.src.charCodeAt(s.pos) === 43 && s.src.charCodeAt(s.pos + 1) === 43 && (a = s.src.charCodeAt(s.pos - 1), l = s.pos + 2 < r ? s.src.charCodeAt(s.pos + 2) : -1, l !== 43 && a !== 43 && (a !== 32 && a !== 10 ? n-- : l !== 32 && l !== 10 && n++, n <= 0))) {\n      t = !0;\n      break;\n    }\n    s.parser.skipToken(s);\n  }\n  return t ? (s.posMax = s.pos, s.pos = o + 2, e || (s.push({\n    type: \"ins_open\",\n    level: s.level++\n  }), s.parser.tokenize(s), s.push({\n    type: \"ins_close\",\n    level: --s.level\n  })), s.pos = s.posMax + 2, s.posMax = r, !0) : (s.pos = o, !1);\n}\nfunction Mr(s, e) {\n  var t,\n    i,\n    n,\n    r = s.posMax,\n    o = s.pos,\n    a,\n    l;\n  if (s.src.charCodeAt(o) !== 61 || e || o + 4 >= r || s.src.charCodeAt(o + 1) !== 61 || s.level >= s.options.maxNesting || (a = o > 0 ? s.src.charCodeAt(o - 1) : -1, l = s.src.charCodeAt(o + 2), a === 61) || l === 61 || l === 32 || l === 10) return !1;\n  for (i = o + 2; i < r && s.src.charCodeAt(i) === 61;) i++;\n  if (i !== o + 2) return s.pos += i - o, e || (s.pending += s.src.slice(o, i)), !0;\n  for (s.pos = o + 2, n = 1; s.pos + 1 < r;) {\n    if (s.src.charCodeAt(s.pos) === 61 && s.src.charCodeAt(s.pos + 1) === 61 && (a = s.src.charCodeAt(s.pos - 1), l = s.pos + 2 < r ? s.src.charCodeAt(s.pos + 2) : -1, l !== 61 && a !== 61 && (a !== 32 && a !== 10 ? n-- : l !== 32 && l !== 10 && n++, n <= 0))) {\n      t = !0;\n      break;\n    }\n    s.parser.skipToken(s);\n  }\n  return t ? (s.posMax = s.pos, s.pos = o + 2, e || (s.push({\n    type: \"mark_open\",\n    level: s.level++\n  }), s.parser.tokenize(s), s.push({\n    type: \"mark_close\",\n    level: --s.level\n  })), s.pos = s.posMax + 2, s.posMax = r, !0) : (s.pos = o, !1);\n}\nfunction gn(s) {\n  return s >= 48 && s <= 57 || s >= 65 && s <= 90 || s >= 97 && s <= 122;\n}\nfunction bn(s, e) {\n  var t = e,\n    i,\n    n,\n    r,\n    o = !0,\n    a = !0,\n    l = s.posMax,\n    c = s.src.charCodeAt(e);\n  for (i = e > 0 ? s.src.charCodeAt(e - 1) : -1; t < l && s.src.charCodeAt(t) === c;) t++;\n  return t >= l && (o = !1), r = t - e, r >= 4 ? o = a = !1 : (n = t < l ? s.src.charCodeAt(t) : -1, (n === 32 || n === 10) && (o = !1), (i === 32 || i === 10) && (a = !1), c === 95 && (gn(i) && (o = !1), gn(n) && (a = !1))), {\n    can_open: o,\n    can_close: a,\n    delims: r\n  };\n}\nfunction Tr(s, e) {\n  var t,\n    i,\n    n,\n    r,\n    o,\n    a,\n    l,\n    c = s.posMax,\n    d = s.pos,\n    u = s.src.charCodeAt(d);\n  if (u !== 95 && u !== 42 || e) return !1;\n  if (l = bn(s, d), t = l.delims, !l.can_open) return s.pos += t, e || (s.pending += s.src.slice(d, s.pos)), !0;\n  if (s.level >= s.options.maxNesting) return !1;\n  for (s.pos = d + t, a = [t]; s.pos < c;) {\n    if (s.src.charCodeAt(s.pos) === u) {\n      if (l = bn(s, s.pos), i = l.delims, l.can_close) {\n        for (r = a.pop(), o = i; r !== o;) {\n          if (o < r) {\n            a.push(r - o);\n            break;\n          }\n          if (o -= r, a.length === 0) break;\n          s.pos += r, r = a.pop();\n        }\n        if (a.length === 0) {\n          t = r, n = !0;\n          break;\n        }\n        s.pos += i;\n        continue;\n      }\n      l.can_open && a.push(i), s.pos += i;\n      continue;\n    }\n    s.parser.skipToken(s);\n  }\n  return n ? (s.posMax = s.pos, s.pos = d + t, e || ((t === 2 || t === 3) && s.push({\n    type: \"strong_open\",\n    level: s.level++\n  }), (t === 1 || t === 3) && s.push({\n    type: \"em_open\",\n    level: s.level++\n  }), s.parser.tokenize(s), (t === 1 || t === 3) && s.push({\n    type: \"em_close\",\n    level: --s.level\n  }), (t === 2 || t === 3) && s.push({\n    type: \"strong_close\",\n    level: --s.level\n  })), s.pos = s.posMax + t, s.posMax = c, !0) : (s.pos = d, !1);\n}\nvar Cr = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\nfunction Ar(s, e) {\n  var t,\n    i,\n    n = s.posMax,\n    r = s.pos;\n  if (s.src.charCodeAt(r) !== 126 || e || r + 2 >= n || s.level >= s.options.maxNesting) return !1;\n  for (s.pos = r + 1; s.pos < n;) {\n    if (s.src.charCodeAt(s.pos) === 126) {\n      t = !0;\n      break;\n    }\n    s.parser.skipToken(s);\n  }\n  return !t || r + 1 === s.pos || (i = s.src.slice(r + 1, s.pos), i.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) ? (s.pos = r, !1) : (s.posMax = s.pos, s.pos = r + 1, e || s.push({\n    type: \"sub\",\n    level: s.level,\n    content: i.replace(Cr, \"$1\")\n  }), s.pos = s.posMax + 1, s.posMax = n, !0);\n}\nvar kr = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\nfunction Ir(s, e) {\n  var t,\n    i,\n    n = s.posMax,\n    r = s.pos;\n  if (s.src.charCodeAt(r) !== 94 || e || r + 2 >= n || s.level >= s.options.maxNesting) return !1;\n  for (s.pos = r + 1; s.pos < n;) {\n    if (s.src.charCodeAt(s.pos) === 94) {\n      t = !0;\n      break;\n    }\n    s.parser.skipToken(s);\n  }\n  return !t || r + 1 === s.pos || (i = s.src.slice(r + 1, s.pos), i.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) ? (s.pos = r, !1) : (s.posMax = s.pos, s.pos = r + 1, e || s.push({\n    type: \"sup\",\n    level: s.level,\n    content: i.replace(kr, \"$1\")\n  }), s.pos = s.posMax + 1, s.posMax = n, !0);\n}\nfunction Lr(s, e) {\n  var t,\n    i,\n    n,\n    r,\n    o,\n    a,\n    l,\n    c,\n    d = !1,\n    u = s.pos,\n    h = s.posMax,\n    p = s.pos,\n    g = s.src.charCodeAt(p);\n  if (g === 33 && (d = !0, g = s.src.charCodeAt(++p)), g !== 91 || s.level >= s.options.maxNesting || (t = p + 1, i = mt(s, p), i < 0)) return !1;\n  if (a = i + 1, a < h && s.src.charCodeAt(a) === 40) {\n    for (a++; a < h && (c = s.src.charCodeAt(a), !(c !== 32 && c !== 10)); a++);\n    if (a >= h) return !1;\n    for (p = a, Yn(s, a) ? (r = s.linkContent, a = s.pos) : r = \"\", p = a; a < h && (c = s.src.charCodeAt(a), !(c !== 32 && c !== 10)); a++);\n    if (a < h && p !== a && Zn(s, a)) for (o = s.linkContent, a = s.pos; a < h && (c = s.src.charCodeAt(a), !(c !== 32 && c !== 10)); a++);else o = \"\";\n    if (a >= h || s.src.charCodeAt(a) !== 41) return s.pos = u, !1;\n    a++;\n  } else {\n    if (s.linkLevel > 0) return !1;\n    for (; a < h && (c = s.src.charCodeAt(a), !(c !== 32 && c !== 10)); a++);\n    if (a < h && s.src.charCodeAt(a) === 91 && (p = a + 1, a = mt(s, a), a >= 0 ? n = s.src.slice(p, a++) : a = p - 1), n || (_typeof(n) > \"u\" && (a = i + 1), n = s.src.slice(t, i)), l = s.env.references[Xn(n)], !l) return s.pos = u, !1;\n    r = l.href, o = l.title;\n  }\n  return e || (s.pos = t, s.posMax = i, d ? s.push({\n    type: \"image\",\n    src: r,\n    title: o,\n    alt: s.src.substr(t, i - t),\n    level: s.level\n  }) : (s.push({\n    type: \"link_open\",\n    href: r,\n    title: o,\n    level: s.level++\n  }), s.linkLevel++, s.parser.tokenize(s), s.linkLevel--, s.push({\n    type: \"link_close\",\n    level: --s.level\n  }))), s.pos = a, s.posMax = h, !0;\n}\nfunction Rr(s, e) {\n  var t,\n    i,\n    n,\n    r,\n    o = s.posMax,\n    a = s.pos;\n  return a + 2 >= o || s.src.charCodeAt(a) !== 94 || s.src.charCodeAt(a + 1) !== 91 || s.level >= s.options.maxNesting || (t = a + 2, i = mt(s, a + 1), i < 0) ? !1 : (e || (s.env.footnotes || (s.env.footnotes = {}), s.env.footnotes.list || (s.env.footnotes.list = []), n = s.env.footnotes.list.length, s.pos = t, s.posMax = i, s.push({\n    type: \"footnote_ref\",\n    id: n,\n    level: s.level\n  }), s.linkLevel++, r = s.tokens.length, s.parser.tokenize(s), s.env.footnotes.list[n] = {\n    tokens: s.tokens.splice(r)\n  }, s.linkLevel--), s.pos = i + 1, s.posMax = o, !0);\n}\nfunction Or(s, e) {\n  var t,\n    i,\n    n,\n    r,\n    o = s.posMax,\n    a = s.pos;\n  if (a + 3 > o || !s.env.footnotes || !s.env.footnotes.refs || s.src.charCodeAt(a) !== 91 || s.src.charCodeAt(a + 1) !== 94 || s.level >= s.options.maxNesting) return !1;\n  for (i = a + 2; i < o; i++) {\n    if (s.src.charCodeAt(i) === 32 || s.src.charCodeAt(i) === 10) return !1;\n    if (s.src.charCodeAt(i) === 93) break;\n  }\n  return i === a + 2 || i >= o || (i++, t = s.src.slice(a + 2, i - 1), _typeof(s.env.footnotes.refs[\":\" + t]) > \"u\") ? !1 : (e || (s.env.footnotes.list || (s.env.footnotes.list = []), s.env.footnotes.refs[\":\" + t] < 0 ? (n = s.env.footnotes.list.length, s.env.footnotes.list[n] = {\n    label: t,\n    count: 0\n  }, s.env.footnotes.refs[\":\" + t] = n) : n = s.env.footnotes.refs[\":\" + t], r = s.env.footnotes.list[n].count, s.env.footnotes.list[n].count++, s.push({\n    type: \"footnote_ref\",\n    id: n,\n    subId: r,\n    level: s.level\n  })), s.pos = i, s.posMax = o, !0);\n}\nvar Nr = [\"coap\", \"doi\", \"javascript\", \"aaa\", \"aaas\", \"about\", \"acap\", \"cap\", \"cid\", \"crid\", \"data\", \"dav\", \"dict\", \"dns\", \"file\", \"ftp\", \"geo\", \"go\", \"gopher\", \"h323\", \"http\", \"https\", \"iax\", \"icap\", \"im\", \"imap\", \"info\", \"ipp\", \"iris\", \"iris.beep\", \"iris.xpc\", \"iris.xpcs\", \"iris.lwz\", \"ldap\", \"mailto\", \"mid\", \"msrp\", \"msrps\", \"mtqp\", \"mupdate\", \"news\", \"nfs\", \"ni\", \"nih\", \"nntp\", \"opaquelocktoken\", \"pop\", \"pres\", \"rtsp\", \"service\", \"session\", \"shttp\", \"sieve\", \"sip\", \"sips\", \"sms\", \"snmp\", \"soap.beep\", \"soap.beeps\", \"tag\", \"tel\", \"telnet\", \"tftp\", \"thismessage\", \"tn3270\", \"tip\", \"tv\", \"urn\", \"vemmi\", \"ws\", \"wss\", \"xcon\", \"xcon-userid\", \"xmlrpc.beep\", \"xmlrpc.beeps\", \"xmpp\", \"z39.50r\", \"z39.50s\", \"adiumxtra\", \"afp\", \"afs\", \"aim\", \"apt\", \"attachment\", \"aw\", \"beshare\", \"bitcoin\", \"bolo\", \"callto\", \"chrome\", \"chrome-extension\", \"com-eventbrite-attendee\", \"content\", \"cvs\", \"dlna-playsingle\", \"dlna-playcontainer\", \"dtn\", \"dvb\", \"ed2k\", \"facetime\", \"feed\", \"finger\", \"fish\", \"gg\", \"git\", \"gizmoproject\", \"gtalk\", \"hcp\", \"icon\", \"ipn\", \"irc\", \"irc6\", \"ircs\", \"itms\", \"jar\", \"jms\", \"keyparc\", \"lastfm\", \"ldaps\", \"magnet\", \"maps\", \"market\", \"message\", \"mms\", \"ms-help\", \"msnim\", \"mumble\", \"mvn\", \"notes\", \"oid\", \"palm\", \"paparazzi\", \"platform\", \"proxy\", \"psyc\", \"query\", \"res\", \"resource\", \"rmi\", \"rsync\", \"rtmp\", \"secondlife\", \"sftp\", \"sgn\", \"skype\", \"smb\", \"soldat\", \"spotify\", \"ssh\", \"steam\", \"svn\", \"teamspeak\", \"things\", \"udp\", \"unreal\", \"ut2004\", \"ventrilo\", \"view-source\", \"webcal\", \"wtai\", \"wyciwyg\", \"xfire\", \"xri\", \"ymsgr\"],\n  Pr = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,\n  Dr = /^<([a-zA-Z.\\-]{1,25}):([^<>\\x00-\\x20]*)>/;\nfunction jr(s, e) {\n  var t,\n    i,\n    n,\n    r,\n    o,\n    a = s.pos;\n  return s.src.charCodeAt(a) !== 60 || (t = s.src.slice(a), t.indexOf(\">\") < 0) ? !1 : (i = t.match(Dr), i ? Nr.indexOf(i[1].toLowerCase()) < 0 || (r = i[0].slice(1, -1), o = Ni(r), !s.parser.validateLink(r)) ? !1 : (e || (s.push({\n    type: \"link_open\",\n    href: o,\n    level: s.level\n  }), s.push({\n    type: \"text\",\n    content: r,\n    level: s.level + 1\n  }), s.push({\n    type: \"link_close\",\n    level: s.level\n  })), s.pos += i[0].length, !0) : (n = t.match(Pr), n ? (r = n[0].slice(1, -1), o = Ni(\"mailto:\" + r), s.parser.validateLink(o) ? (e || (s.push({\n    type: \"link_open\",\n    href: o,\n    level: s.level\n  }), s.push({\n    type: \"text\",\n    content: r,\n    level: s.level + 1\n  }), s.push({\n    type: \"link_close\",\n    level: s.level\n  })), s.pos += n[0].length, !0) : !1) : !1));\n}\nfunction ti(s, e) {\n  return s = s.source, e = e || \"\", function t(i, n) {\n    return i ? (n = n.source || n, s = s.replace(i, n), t) : new RegExp(s, e);\n  };\n}\nvar Fr = /[a-zA-Z_:][a-zA-Z0-9:._-]*/,\n  Br = /[^\"'=<>`\\x00-\\x20]+/,\n  zr = /'[^']*'/,\n  Ur = /\"[^\"]*\"/,\n  qr = ti(/(?:unquoted|single_quoted|double_quoted)/)(\"unquoted\", Br)(\"single_quoted\", zr)(\"double_quoted\", Ur)(),\n  Hr = ti(/(?:\\s+attr_name(?:\\s*=\\s*attr_value)?)/)(\"attr_name\", Fr)(\"attr_value\", qr)(),\n  Gr = ti(/<[A-Za-z][A-Za-z0-9]*attribute*\\s*\\/?>/)(\"attribute\", Hr)(),\n  Vr = /<\\/[A-Za-z][A-Za-z0-9]*\\s*>/,\n  Wr = /<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,\n  Kr = /<[?].*?[?]>/,\n  Jr = /<![A-Z]+\\s+[^>]*>/,\n  $r = /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/,\n  Yr = ti(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)(\"open_tag\", Gr)(\"close_tag\", Vr)(\"comment\", Wr)(\"processing\", Kr)(\"declaration\", Jr)(\"cdata\", $r)();\nfunction Zr(s) {\n  var e = s | 32;\n  return e >= 97 && e <= 122;\n}\nfunction Xr(s, e) {\n  var t,\n    i,\n    n,\n    r = s.pos;\n  return !s.options.html || (n = s.posMax, s.src.charCodeAt(r) !== 60 || r + 2 >= n) || (t = s.src.charCodeAt(r + 1), t !== 33 && t !== 63 && t !== 47 && !Zr(t)) || (i = s.src.slice(r).match(Yr), !i) ? !1 : (e || s.push({\n    type: \"htmltag\",\n    content: s.src.slice(r, r + i[0].length),\n    level: s.level\n  }), s.pos += i[0].length, !0);\n}\nvar Qr = /^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,\n  eo = /^&([a-z][a-z0-9]{1,31});/i;\nfunction to(s, e) {\n  var t,\n    i,\n    n,\n    r = s.pos,\n    o = s.posMax;\n  if (s.src.charCodeAt(r) !== 38) return !1;\n  if (r + 1 < o) {\n    if (t = s.src.charCodeAt(r + 1), t === 35) {\n      if (n = s.src.slice(r).match(Qr), n) return e || (i = n[1][0].toLowerCase() === \"x\" ? parseInt(n[1].slice(1), 16) : parseInt(n[1], 10), s.pending += Jn(i) ? Oi(i) : Oi(65533)), s.pos += n[0].length, !0;\n    } else if (n = s.src.slice(r).match(eo), n) {\n      var a = Wn(n[1]);\n      if (n[1] !== a) return e || (s.pending += a), s.pos += n[0].length, !0;\n    }\n  }\n  return e || (s.pending += \"&\"), s.pos++, !0;\n}\nvar Mi = [[\"text\", yr], [\"newline\", xr], [\"escape\", Er], [\"backticks\", Sr], [\"del\", wr], [\"ins\", _r], [\"mark\", Mr], [\"emphasis\", Tr], [\"sub\", Ar], [\"sup\", Ir], [\"links\", Lr], [\"footnote_inline\", Rr], [\"footnote_ref\", Or], [\"autolink\", jr], [\"htmltag\", Xr], [\"entity\", to]];\nfunction ii() {\n  this.ruler = new H();\n  for (var s = 0; s < Mi.length; s++) this.ruler.push(Mi[s][0], Mi[s][1]);\n  this.validateLink = io;\n}\nii.prototype.skipToken = function (s) {\n  var e = this.ruler.getRules(\"\"),\n    t = e.length,\n    i = s.pos,\n    n,\n    r;\n  if ((r = s.cacheGet(i)) > 0) {\n    s.pos = r;\n    return;\n  }\n  for (n = 0; n < t; n++) if (e[n](s, !0)) {\n    s.cacheSet(i, s.pos);\n    return;\n  }\n  s.pos++, s.cacheSet(i, s.pos);\n};\nii.prototype.tokenize = function (s) {\n  for (var e = this.ruler.getRules(\"\"), t = e.length, i = s.posMax, n, r; s.pos < i;) {\n    for (r = 0; r < t && (n = e[r](s, !1), !n); r++);\n    if (n) {\n      if (s.pos >= i) break;\n      continue;\n    }\n    s.pending += s.src[s.pos++];\n  }\n  s.pending && s.pushPending();\n};\nii.prototype.parse = function (s, e, t, i) {\n  var n = new Oe(s, this, e, t, i);\n  this.tokenize(n);\n};\nfunction io(s) {\n  var e = [\"vbscript\", \"javascript\", \"file\", \"data\"],\n    t = s.trim().toLowerCase();\n  return t = Ie(t), !(t.indexOf(\":\") !== -1 && e.indexOf(t.split(\":\")[0]) !== -1);\n}\nvar no = {\n    options: {\n      html: !1,\n      // Enable HTML tags in source\n      xhtmlOut: !1,\n      // Use '/' to close single tags (<br />)\n      breaks: !1,\n      // Convert '\\n' in paragraphs into <br>\n      langPrefix: \"language-\",\n      // CSS language prefix for fenced blocks\n      linkTarget: \"\",\n      // set target to open link in\n      // Enable some language-neutral replacements + quotes beautification\n      typographer: !1,\n      // Double + single quotes replacement pairs, when typographer enabled,\n      // and smartquotes on. Set doubles to '«»' for Russian, '„“' for German.\n      quotes: \"“”‘’\",\n      // Highlighter function. Should return escaped HTML,\n      // or '' if input not changed\n      //\n      // function (/*str, lang*/) { return ''; }\n      //\n      highlight: null,\n      maxNesting: 20\n      // Internal protection, recursion limit\n    },\n    components: {\n      core: {\n        rules: [\"block\", \"inline\", \"references\", \"replacements\", \"smartquotes\", \"references\", \"abbr2\", \"footnote_tail\"]\n      },\n      block: {\n        rules: [\"blockquote\", \"code\", \"fences\", \"footnote\", \"heading\", \"hr\", \"htmlblock\", \"lheading\", \"list\", \"paragraph\", \"table\"]\n      },\n      inline: {\n        rules: [\"autolink\", \"backticks\", \"del\", \"emphasis\", \"entity\", \"escape\", \"footnote_ref\", \"htmltag\", \"links\", \"newline\", \"text\"]\n      }\n    }\n  },\n  so = {\n    options: {\n      html: !1,\n      // Enable HTML tags in source\n      xhtmlOut: !1,\n      // Use '/' to close single tags (<br />)\n      breaks: !1,\n      // Convert '\\n' in paragraphs into <br>\n      langPrefix: \"language-\",\n      // CSS language prefix for fenced blocks\n      linkTarget: \"\",\n      // set target to open link in\n      // Enable some language-neutral replacements + quotes beautification\n      typographer: !1,\n      // Double + single quotes replacement pairs, when typographer enabled,\n      // and smartquotes on. Set doubles to '«»' for Russian, '„“' for German.\n      quotes: \"“”‘’\",\n      // Highlighter function. Should return escaped HTML,\n      // or '' if input not changed\n      //\n      // function (/*str, lang*/) { return ''; }\n      //\n      highlight: null,\n      maxNesting: 20\n      // Internal protection, recursion limit\n    },\n    components: {\n      // Don't restrict core/block/inline rules\n      core: {},\n      block: {},\n      inline: {}\n    }\n  },\n  ro = {\n    options: {\n      html: !0,\n      // Enable HTML tags in source\n      xhtmlOut: !0,\n      // Use '/' to close single tags (<br />)\n      breaks: !1,\n      // Convert '\\n' in paragraphs into <br>\n      langPrefix: \"language-\",\n      // CSS language prefix for fenced blocks\n      linkTarget: \"\",\n      // set target to open link in\n      // Enable some language-neutral replacements + quotes beautification\n      typographer: !1,\n      // Double + single quotes replacement pairs, when typographer enabled,\n      // and smartquotes on. Set doubles to '«»' for Russian, '„“' for German.\n      quotes: \"“”‘’\",\n      // Highlighter function. Should return escaped HTML,\n      // or '' if input not changed\n      //\n      // function (/*str, lang*/) { return ''; }\n      //\n      highlight: null,\n      maxNesting: 20\n      // Internal protection, recursion limit\n    },\n    components: {\n      core: {\n        rules: [\"block\", \"inline\", \"references\", \"abbr2\"]\n      },\n      block: {\n        rules: [\"blockquote\", \"code\", \"fences\", \"heading\", \"hr\", \"htmlblock\", \"lheading\", \"list\", \"paragraph\"]\n      },\n      inline: {\n        rules: [\"autolink\", \"backticks\", \"emphasis\", \"entity\", \"escape\", \"htmltag\", \"links\", \"newline\", \"text\"]\n      }\n    }\n  },\n  oo = {\n    \"default\": no,\n    full: so,\n    commonmark: ro\n  };\nfunction ts(s, e, t) {\n  this.src = e, this.env = t, this.options = s.options, this.tokens = [], this.inlineMode = !1, this.inline = s.inline, this.block = s.block, this.renderer = s.renderer, this.typographer = s.typographer;\n}\nfunction he(s, e) {\n  typeof s != \"string\" && (e = s, s = \"default\"), e && e.linkify != null && console.warn(\"linkify option is removed. Use linkify plugin instead:\\n\\nimport Remarkable from 'remarkable';\\nimport linkify from 'remarkable/linkify';\\nnew Remarkable().use(linkify)\\n\"), this.inline = new ii(), this.block = new Vi(), this.core = new Qn(), this.renderer = new Gi(), this.ruler = new H(), this.options = {}, this.configure(oo[s]), this.set(e || {});\n}\nhe.prototype.set = function (s) {\n  Kn(this.options, s);\n};\nhe.prototype.configure = function (s) {\n  var e = this;\n  if (!s) throw new Error(\"Wrong `remarkable` preset, check name/content\");\n  s.options && e.set(s.options), s.components && Object.keys(s.components).forEach(function (t) {\n    s.components[t].rules && e[t].ruler.enable(s.components[t].rules, !0);\n  });\n};\nhe.prototype.use = function (s, e) {\n  return s(this, e), this;\n};\nhe.prototype.parse = function (s, e) {\n  var t = new ts(this, s, e);\n  return this.core.process(t), t.tokens;\n};\nhe.prototype.render = function (s, e) {\n  return e = e || {}, this.renderer.render(this.parse(s, e), this.options, e);\n};\nhe.prototype.parseInline = function (s, e) {\n  var t = new ts(this, s, e);\n  return t.inlineMode = !0, this.core.process(t), t.tokens;\n};\nhe.prototype.renderInline = function (s, e) {\n  return e = e || {}, this.renderer.render(this.parseInline(s, e), this.options, e);\n};\nvar Pi = /*#__PURE__*/function () {\n  function Pi() {\n    _classCallCheck(this, Pi);\n  }\n  _createClass(Pi, null, [{\n    key: \"createNew\",\n    value: function createNew() {\n      var e = window.hljs;\n      return e ? new he({\n        highlight: function highlight(t, i) {\n          if (i && e.getLanguage(i)) try {\n            return e.highlight(i, t).value;\n          } catch (_unused3) {\n            console.error(\"failed to setup the highlight dependency\");\n          }\n          try {\n            return e.highlightAuto(t).value;\n          } catch (_unused4) {\n            console.error(\"failed to automatically highlight messages\");\n          }\n          return \"\";\n        },\n        html: !1,\n        // Enable HTML tags in source\n        xhtmlOut: !1,\n        // Use '/' to close single tags (<br />)\n        breaks: !1,\n        // Convert '\\n' in paragraphs into <br>\n        langPrefix: \"language-\",\n        // CSS language prefix for fenced blocks\n        linkTarget: \"_blank\",\n        // set target to open in a new tab\n        typographer: !0\n        // Enable smartypants and other sweet transforms\n      }) : new he({\n        highlight: function highlight(t) {\n          return t;\n        },\n        linkTarget: \"_blank\"\n        // set target to open in a new tab\n      });\n    }\n  }]);\n  return Pi;\n}();\nvar is = /*#__PURE__*/function () {\n  function Pt() {\n    _classCallCheck(this, Pt);\n  }\n  _createClass(Pt, null, [{\n    key: \"addMessage\",\n    value: function addMessage(e, t, i, n) {\n      var r;\n      e.elementRef.appendChild(t.outerContainer), e.applyCustomStyles(t, n, !0, (r = e.messageStyles) == null ? void 0 : r[i]), e.elementRef.scrollTop = e.elementRef.scrollHeight;\n    }\n  }, {\n    key: \"wrapInLink\",\n    value: function wrapInLink(e, t) {\n      var i = document.createElement(\"a\");\n      return i.href = t, i.target = \"_blank\", i.appendChild(e), i;\n    }\n  }, {\n    key: \"processContent\",\n    value: function processContent(e, t) {\n      return !t || t.startsWith(\"data\") ? e : Pt.wrapInLink(e, t);\n    }\n  }, {\n    key: \"waitToLoadThenScroll\",\n    value: function waitToLoadThenScroll(e) {\n      setTimeout(function () {\n        e.scrollTop = e.scrollHeight;\n      }, 60);\n    }\n  }, {\n    key: \"scrollDownOnImageLoad\",\n    value: function scrollDownOnImageLoad(e, t) {\n      if (e.startsWith(\"data\")) Pt.waitToLoadThenScroll(t);else try {\n        fetch(e, {\n          mode: \"no-cors\"\n        })[\"catch\"](function () {})[\"finally\"](function () {\n          Pt.waitToLoadThenScroll(t);\n        });\n      } catch (_unused5) {\n        t.scrollTop = t.scrollHeight;\n      }\n    }\n    // The strategy is to emit the actual file reference in the `onNewMessage` event for the user to inspect it\n    // But it is not actually used by anything in the chat, hence it is removed when adding a message\n    // after the body has been stringified and parsed - the file reference will disappear, hence this readds it\n  }, {\n    key: \"reAddFileRefToObject\",\n    value: function reAddFileRefToObject(e, t) {\n      var i;\n      (i = e.files) == null || i.forEach(function (n, r) {\n        var o;\n        n.ref && (o = t.message.files) != null && o[r] && (t.message.files[r].ref = n.ref);\n      });\n    }\n    // the chat does not use the actual file\n  }, {\n    key: \"removeFileRef\",\n    value: function removeFileRef(e) {\n      var t = _objectSpread({}, e);\n      return delete t.ref, t;\n    }\n  }]);\n  return Pt;\n}();\nis.DEFAULT_FILE_NAME = \"file\";\nvar ne = is;\nvar jt = /*#__PURE__*/function () {\n  function jt() {\n    _classCallCheck(this, jt);\n  }\n  _createClass(jt, null, [{\n    key: \"onNewMessage\",\n    value: function onNewMessage(e, t, i) {\n      var r;\n      var n = JSON.parse(JSON.stringify({\n        message: t,\n        isInitial: i\n      }));\n      ne.reAddFileRefToObject(t, n), (r = e.onNewMessage) == null || r.call(e, n), e.dispatchEvent(new CustomEvent(\"new-message\", {\n        detail: n\n      }));\n    }\n  }, {\n    key: \"onClearMessages\",\n    value: function onClearMessages(e) {\n      var t;\n      (t = e.onClearMessages) == null || t.call(e), e.dispatchEvent(new CustomEvent(\"clear-messages\"));\n    }\n  }, {\n    key: \"onRender\",\n    value: function onRender(e) {\n      var t;\n      (t = e.onComponentRender) == null || t.call(e), e.dispatchEvent(new CustomEvent(\"render\"));\n    }\n  }, {\n    key: \"onError\",\n    value: function onError(e, t) {\n      var i;\n      (i = e.onError) == null || i.call(e, t), e.dispatchEvent(new CustomEvent(\"error\", {\n        detail: t\n      }));\n    }\n  }]);\n  return jt;\n}();\nvar D = /*#__PURE__*/function () {\n  function D() {\n    _classCallCheck(this, D);\n  }\n  _createClass(D, null, [{\n    key: \"applyCustomStylesToElements\",\n    value: function applyCustomStylesToElements(e, t, i) {\n      if (i && (Object.assign(e.outerContainer.style, i.outerContainer), Object.assign(e.innerContainer.style, i.innerContainer), Object.assign(e.bubbleElement.style, i.bubble), t)) {\n        var n = e.bubbleElement.children[0],\n          r = n.tagName.toLocaleLowerCase() !== \"a\" ? n : n.children[0];\n        Object.assign(r.style, i.media);\n      }\n    }\n  }, {\n    key: \"applySideStyles\",\n    value: function applySideStyles(e, t, i, n) {\n      n && (D.applyCustomStylesToElements(e, i, n.shared), t === v.USER_ROLE ? D.applyCustomStylesToElements(e, i, n.user) : (D.applyCustomStylesToElements(e, i, n.ai), D.applyCustomStylesToElements(e, i, n[t])));\n    }\n  }, {\n    key: \"isMessageSideStyles\",\n    value: function isMessageSideStyles(e) {\n      return !!(e.ai || e.shared || e.user);\n    }\n    // prettier-ignore\n  }, {\n    key: \"applyCustomStyles\",\n    value: function applyCustomStyles(e, t, i, n, r) {\n      var o;\n      r && e[\"default\"] !== r ? D.isMessageSideStyles(r) ? (D.applySideStyles(t, i, n, e[\"default\"]), D.applySideStyles(t, i, n, r)) : (D.applyCustomStylesToElements(t, n, (o = e[\"default\"]) == null ? void 0 : o.shared), D.applyCustomStylesToElements(t, n, r)) : D.applySideStyles(t, i, n, e[\"default\"]);\n    }\n    // prettier-ignore\n  }, {\n    key: \"extractParticularSharedStyles\",\n    value: function extractParticularSharedStyles(e, t) {\n      if (!(t != null && t.shared)) return;\n      var i = t.shared,\n        n = {\n          outerContainer: {},\n          innerContainer: {},\n          bubble: {},\n          media: {}\n        };\n      return e.forEach(function (r) {\n        var o, a, l, c;\n        n.outerContainer[r] = ((o = i.outerContainer) == null ? void 0 : o[r]) || \"\", n.innerContainer[r] = ((a = i.innerContainer) == null ? void 0 : a[r]) || \"\", n.bubble[r] = ((l = i.bubble) == null ? void 0 : l[r]) || \"\", n.media[r] = ((c = i.media) == null ? void 0 : c[r]) || \"\";\n      }), n;\n    }\n  }]);\n  return D;\n}();\nvar ao = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8c3ZnIGZpbGw9IiMwMDAwMDAiIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIAoJCXZpZXdCb3g9IjAgMCAzMiAzMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+Cgk8cGF0aCBkPSJNMjMsMzAuMzZIOWMtMi40MDQsMC00LjM2LTEuOTU2LTQuMzYtNC4zNlYxNWMwLTIuNDA0LDEuOTU2LTQuMzYsNC4zNi00LjM2aDMuNjU5CgkJYzAuMTY3LTEuNTY2LDEuNDE1LTIuODEzLDIuOTgxLTIuOTgxVjUuMzMzYy0xLjEzMS0wLjE3NC0yLTEuMTU0LTItMi4zMzNjMC0xLjMwMSwxLjA1OS0yLjM2LDIuMzYtMi4zNgoJCWMxLjMwMiwwLDIuMzYsMS4wNTksMi4zNiwyLjM2YzAsMS4xNzktMC44NjksMi4xNTktMiwyLjMzM1Y3LjY2YzEuNTY2LDAuMTY3LDIuODE0LDEuNDE1LDIuOTgxLDIuOTgxSDIzCgkJYzIuNDA0LDAsNC4zNiwxLjk1Niw0LjM2LDQuMzZ2MTFDMjcuMzYsMjguNDA0LDI1LjQwNCwzMC4zNiwyMywzMC4zNnogTTksMTEuMzZjLTIuMDA3LDAtMy42NCwxLjYzMy0zLjY0LDMuNjR2MTEKCQljMCwyLjAwNywxLjYzMywzLjY0LDMuNjQsMy42NGgxNGMyLjAwNywwLDMuNjQtMS42MzMsMy42NC0zLjY0VjE1YzAtMi4wMDctMS42MzMtMy42NC0zLjY0LTMuNjRIOXogTTEzLjM4NCwxMC42NGg1LjIzMQoJCUMxOC40MzksOS4zNTQsMTcuMzM0LDguMzYsMTYsOC4zNkMxNC42NjcsOC4zNiwxMy41NjEsOS4zNTQsMTMuMzg0LDEwLjY0eiBNMTYsMS4zNmMtMC45MDQsMC0xLjY0LDAuNzM2LTEuNjQsMS42NAoJCVMxNS4wOTYsNC42NCwxNiw0LjY0YzAuOTA0LDAsMS42NC0wLjczNiwxLjY0LTEuNjRTMTYuOTA0LDEuMzYsMTYsMS4zNnogTTIwLDI3LjM2aC04Yy0xLjMwMSwwLTIuMzYtMS4wNTktMi4zNi0yLjM2CgkJczEuMDU5LTIuMzYsMi4zNi0yLjM2aDhjMS4zMDIsMCwyLjM2LDEuMDU5LDIuMzYsMi4zNlMyMS4zMDIsMjcuMzYsMjAsMjcuMzZ6IE0xMiwyMy4zNmMtMC45MDQsMC0xLjY0LDAuNzM1LTEuNjQsMS42NAoJCXMwLjczNiwxLjY0LDEuNjQsMS42NGg4YzAuOTA0LDAsMS42NC0wLjczNSwxLjY0LTEuNjRzLTAuNzM1LTEuNjQtMS42NC0xLjY0SDEyeiBNMzEsMjMuODZoLTJjLTAuMTk5LDAtMC4zNi0wLjE2MS0wLjM2LTAuMzZWMTUKCQljMC0wLjE5OSwwLjE2MS0wLjM2LDAuMzYtMC4zNmgyYzAuMTk5LDAsMC4zNiwwLjE2MSwwLjM2LDAuMzZ2OC41QzMxLjM2LDIzLjY5OSwzMS4xOTksMjMuODYsMzEsMjMuODZ6IE0yOS4zNiwyMy4xNGgxLjI3OXYtNy43OAoJCUgyOS4zNlYyMy4xNHogTTMsMjMuODZIMWMtMC4xOTksMC0wLjM2LTAuMTYxLTAuMzYtMC4zNlYxNWMwLTAuMTk5LDAuMTYxLTAuMzYsMC4zNi0wLjM2aDJjMC4xOTksMCwwLjM2LDAuMTYxLDAuMzYsMC4zNnY4LjUKCQlDMy4zNiwyMy42OTksMy4xOTksMjMuODYsMywyMy44NnogTTEuMzYsMjMuMTRoMS4yOHYtNy43OEgxLjM2VjIzLjE0eiBNMjAsMjAuMzZjLTEuMzAyLDAtMi4zNi0xLjA1OS0yLjM2LTIuMzYKCQlzMS4wNTktMi4zNiwyLjM2LTIuMzZzMi4zNiwxLjA1OSwyLjM2LDIuMzZDMjIuMzYsMTkuMzAyLDIxLjMwMiwyMC4zNiwyMCwyMC4zNnogTTIwLDE2LjM2Yy0wLjkwNCwwLTEuNjQsMC43MzYtMS42NCwxLjY0CgkJczAuNzM1LDEuNjQsMS42NCwxLjY0czEuNjQtMC43MzUsMS42NC0xLjY0UzIwLjkwNCwxNi4zNiwyMCwxNi4zNnogTTEyLDIwLjM2Yy0xLjMwMSwwLTIuMzYtMS4wNTktMi4zNi0yLjM2czEuMDU5LTIuMzYsMi4zNi0yLjM2CgkJczIuMzYsMS4wNTksMi4zNiwyLjM2QzE0LjM2LDE5LjMwMiwxMy4zMDEsMjAuMzYsMTIsMjAuMzZ6IE0xMiwxNi4zNmMtMC45MDQsMC0xLjY0LDAuNzM2LTEuNjQsMS42NHMwLjczNiwxLjY0LDEuNjQsMS42NAoJCXMxLjY0LTAuNzM1LDEuNjQtMS42NFMxMi45MDQsMTYuMzYsMTIsMTYuMzZ6Ii8+Cgk8cmVjdCBzdHlsZT0iZmlsbDpub25lOyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIi8+Cjwvc3ZnPg==\",\n  lo = \"data:image/png;base64,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\";\nvar ce = /*#__PURE__*/function () {\n  function ce() {\n    _classCallCheck(this, ce);\n  }\n  _createClass(ce, null, [{\n    key: \"applyCustomStylesToElements\",\n    value: function applyCustomStylesToElements(e, t, i) {\n      Object.assign(e.style, i.container), Object.assign(t.style, i.avatar);\n    }\n  }, {\n    key: \"applyCustomStyles\",\n    value: function applyCustomStyles(e, t, i, n) {\n      var r, o, a, l;\n      if ((r = i[\"default\"]) != null && r.styles && ce.applyCustomStylesToElements(e, t, i[\"default\"].styles), n === v.USER_ROLE) (o = i.user) != null && o.styles && ce.applyCustomStylesToElements(e, t, i.user.styles);else {\n        (a = i.ai) != null && a.styles && ce.applyCustomStylesToElements(e, t, i.ai.styles);\n        var c = (l = i[n]) == null ? void 0 : l.styles;\n        c && ce.applyCustomStylesToElements(e, t, c);\n      }\n    }\n  }, {\n    key: \"createAvatar\",\n    value: function createAvatar(e, t) {\n      var r, o, a, l, c;\n      var i = document.createElement(\"img\");\n      e === v.USER_ROLE ? i.src = ((r = t == null ? void 0 : t.user) == null ? void 0 : r.src) || ((o = t == null ? void 0 : t[\"default\"]) == null ? void 0 : o.src) || lo : i.src = ((a = t == null ? void 0 : t[e]) == null ? void 0 : a.src) || ((l = t == null ? void 0 : t.ai) == null ? void 0 : l.src) || ((c = t == null ? void 0 : t[\"default\"]) == null ? void 0 : c.src) || ao, i.classList.add(\"avatar\");\n      var n = document.createElement(\"div\");\n      return n.classList.add(\"avatar-container\"), n.appendChild(i), t && ce.applyCustomStyles(n, i, t, e), n;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(e, t) {\n      var _i2, _i3, _i4;\n      var n, r, o, a, l, c;\n      var i = (r = (n = t == null ? void 0 : t[e]) == null ? void 0 : n.styles) == null ? void 0 : r.position;\n      return e !== v.USER_ROLE && ((_i2 = i) !== null && _i2 !== void 0 ? _i2 : i = (a = (o = t == null ? void 0 : t.ai) == null ? void 0 : o.styles) == null ? void 0 : a.position), (_i3 = i) !== null && _i3 !== void 0 ? _i3 : i = (c = (l = t == null ? void 0 : t[\"default\"]) == null ? void 0 : l.styles) == null ? void 0 : c.position, (_i4 = i) !== null && _i4 !== void 0 ? _i4 : i = e === v.USER_ROLE ? \"right\" : \"left\", i;\n    }\n  }, {\n    key: \"add\",\n    value: function add(e, t, i) {\n      var n = typeof i == \"boolean\" ? void 0 : i,\n        r = ce.createAvatar(t, n),\n        o = ce.getPosition(t, n);\n      r.classList.add(o === \"left\" ? \"left-item-position\" : \"right-item-position\"), e.insertAdjacentElement(o === \"left\" ? \"beforebegin\" : \"afterend\", r);\n    }\n  }]);\n  return ce;\n}();\nvar Ve = /*#__PURE__*/function () {\n  function Ve() {\n    _classCallCheck(this, Ve);\n  }\n  _createClass(Ve, null, [{\n    key: \"getPosition\",\n    value: function getPosition(e, t) {\n      var _i5, _i6, _i7;\n      var n, r, o;\n      var i = (n = t == null ? void 0 : t[e]) == null ? void 0 : n.position;\n      return e !== v.USER_ROLE && ((_i5 = i) !== null && _i5 !== void 0 ? _i5 : i = (r = t == null ? void 0 : t.ai) == null ? void 0 : r.position), (_i6 = i) !== null && _i6 !== void 0 ? _i6 : i = (o = t == null ? void 0 : t[\"default\"]) == null ? void 0 : o.position, (_i7 = i) !== null && _i7 !== void 0 ? _i7 : i = e === v.USER_ROLE ? \"right\" : \"left\", i;\n    }\n  }, {\n    key: \"applyStyle\",\n    value: function applyStyle(e, t, i) {\n      var n, r, o, a;\n      Object.assign(e.style, (n = i[\"default\"]) == null ? void 0 : n.style), t === v.USER_ROLE ? Object.assign(e.style, (r = i.user) == null ? void 0 : r.style) : (Object.assign(e.style, (o = i.ai) == null ? void 0 : o.style), Object.assign(e.style, (a = i[t]) == null ? void 0 : a.style));\n    }\n  }, {\n    key: \"getNameText\",\n    value: function getNameText(e, t) {\n      var i, n, r, o, a, l;\n      return e === v.USER_ROLE ? ((i = t.user) == null ? void 0 : i.text) || ((n = t[\"default\"]) == null ? void 0 : n.text) || \"User\" : e === v.AI_ROLE ? ((r = t.ai) == null ? void 0 : r.text) || ((o = t[\"default\"]) == null ? void 0 : o.text) || \"AI\" : ((a = t[e]) == null ? void 0 : a.text) || ((l = t[\"default\"]) == null ? void 0 : l.text) || e;\n    }\n  }, {\n    key: \"createName\",\n    value: function createName(e, t) {\n      var i = document.createElement(\"div\");\n      return i.classList.add(\"name\"), i.textContent = Ve.getNameText(e, t), Ve.applyStyle(i, e, t), i;\n    }\n  }, {\n    key: \"add\",\n    value: function add(e, t, i) {\n      var n = typeof i == \"boolean\" ? {} : i,\n        r = Ve.createName(t, n),\n        o = Ve.getPosition(t, n);\n      r.classList.add(o === \"left\" ? \"left-item-position\" : \"right-item-position\"), e.insertAdjacentElement(o === \"left\" ? \"beforebegin\" : \"afterend\", r);\n    }\n  }]);\n  return Ve;\n}();\nvar Ke = /*#__PURE__*/function () {\n  function Ke(e) {\n    var _this3 = this;\n    _classCallCheck(this, Ke);\n    this.messageElementRefs = [], this.messages = [], this.htmlClassUtilities = {}, this.textElementsToText = [], this.elementRef = Ke.createContainerElement(), this.messageStyles = e.messageStyles, this._remarkable = Pi.createNew(), this._avatars = e.avatars, this._names = e.names, this._onNewMessage = jt.onNewMessage.bind(this, e), e.htmlClassUtilities && (this.htmlClassUtilities = e.htmlClassUtilities), setTimeout(function () {\n      _this3.submitUserMessage = e.submitUserMessage;\n    });\n  }\n  _createClass(Ke, [{\n    key: \"addNewTextMessage\",\n    value: function addNewTextMessage(e, t, i) {\n      if (i != null && i.status) {\n        var r = this.overwriteText(t, e, this.messageElementRefs);\n        if (r) return r;\n        i.status = !1;\n      }\n      var n = this.createAndAppendNewMessageElement(e, t);\n      return n.bubbleElement.classList.add(\"text-message\"), this.applyCustomStyles(n, t, !1), v.fillEmptyMessageElement(n.bubbleElement, e), this.textElementsToText.push([n, e]), n;\n    }\n  }, {\n    key: \"overwriteText\",\n    value: function overwriteText(e, t, i) {\n      var n = v.overwriteMessage(this.messages, i, t, e, \"text\", \"text-message\");\n      if (n) {\n        this.renderText(n.bubbleElement, t);\n        var r = v.getLastTextToElement(this.textElementsToText, n);\n        r && (r[1] = t);\n      }\n      return n;\n    }\n  }, {\n    key: \"createAndAppendNewMessageElement\",\n    value: function createAndAppendNewMessageElement(e, t) {\n      var _this4 = this;\n      var i = this.createNewMessageElement(e, t);\n      return this.elementRef.appendChild(i.outerContainer), setTimeout(function () {\n        return Y.scrollToBottom(_this4.elementRef);\n      }), i;\n    }\n  }, {\n    key: \"createNewMessageElement\",\n    value: function createNewMessageElement(e, t) {\n      var n;\n      (n = this._introPanel) == null || n.hide();\n      var i = this.messageElementRefs[this.messageElementRefs.length - 1];\n      return Ke.isTemporaryElement(i) && (i.outerContainer.remove(), this.messageElementRefs.pop()), this.createMessageElements(e, t);\n    }\n  }, {\n    key: \"createMessageElements\",\n    value: function createMessageElements(e, t) {\n      var i = Ke.createBaseElements(),\n        n = i.outerContainer,\n        r = i.innerContainer,\n        o = i.bubbleElement;\n      return n.appendChild(r), this.addInnerContainerElements(o, e, t), this.messageElementRefs.push(i), i;\n    }\n  }, {\n    key: \"addInnerContainerElements\",\n    value:\n    // prettier-ignore\n    function addInnerContainerElements(e, t, i) {\n      return e.classList.add(\"message-bubble\", v.getRoleClass(i), i === v.USER_ROLE ? \"user-message-text\" : \"ai-message-text\"), this.renderText(e, t), this._avatars && ce.add(e, i, this._avatars), this._names && Ve.add(e, i, this._names), {\n        bubbleElement: e\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"applyCustomStyles\",\n    value: function applyCustomStyles(e, t, i, n) {\n      e && this.messageStyles && D.applyCustomStyles(this.messageStyles, e, t, i, n);\n    }\n  }, {\n    key: \"removeLastMessage\",\n    value: function removeLastMessage() {\n      this.messageElementRefs[this.messageElementRefs.length - 1].outerContainer.remove(), this.messageElementRefs.pop();\n    }\n  }, {\n    key: \"sendClientUpdate\",\n    value: function sendClientUpdate(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n      var i;\n      (i = this._onNewMessage) == null || i.call(this, e, t);\n    }\n  }, {\n    key: \"renderText\",\n    value: function renderText(e, t) {\n      e.innerHTML = this._remarkable.render(t), e.innerText.trim().length === 0 && (e.innerText = t);\n    }\n    // this is mostly used for enabling highlight.js to highlight code if it downloads later\n  }, {\n    key: \"refreshTextMessages\",\n    value: function refreshTextMessages() {\n      var _this5 = this;\n      this._remarkable = Pi.createNew(), this.textElementsToText.forEach(function (e) {\n        _this5.renderText(e[0].bubbleElement, e[1]);\n      });\n    }\n  }], [{\n    key: \"createContainerElement\",\n    value: function createContainerElement() {\n      var e = document.createElement(\"div\");\n      return e.id = \"messages\", e;\n    }\n  }, {\n    key: \"isTemporaryElement\",\n    value: function isTemporaryElement(e) {\n      return (e == null ? void 0 : e.bubbleElement.classList.contains(\"loading-message-text\")) || be.isElementTemporary(e);\n    }\n  }, {\n    key: \"createBaseElements\",\n    value: function createBaseElements() {\n      var e = document.createElement(\"div\"),\n        t = document.createElement(\"div\");\n      t.classList.add(\"inner-message-container\"), e.appendChild(t), e.classList.add(\"outer-message-container\");\n      var i = document.createElement(\"div\");\n      return i.classList.add(\"message-bubble\"), t.appendChild(i), {\n        outerContainer: e,\n        innerContainer: t,\n        bubbleElement: i\n      };\n    }\n  }, {\n    key: \"createMessageContent\",\n    value: function createMessageContent(e) {\n      var t = e.text,\n        i = e.files,\n        n = e.html,\n        r = e._sessionId,\n        o = e.role,\n        a = {\n          role: o || v.AI_ROLE\n        };\n      return t && (a.text = t), i && (a.files = i), n && (a.html = n), !t && !i && !n && (a.text = \"\"), r && (a._sessionId = r), a;\n    }\n  }]);\n  return Ke;\n}();\nvar Ki = /*#__PURE__*/function () {\n  // used for extracting at end and for isStreaming\n  function st(e) {\n    _classCallCheck(this, st);\n    this._streamedContent = \"\", this._streamType = \"\", this._hasStreamEnded = !1, this._messages = e;\n  }\n  _createClass(st, [{\n    key: \"upsertStreamedMessage\",\n    value: function upsertStreamedMessage(e) {\n      var r;\n      if (this._hasStreamEnded) return;\n      if ((e == null ? void 0 : e.text) === void 0 && (e == null ? void 0 : e.html) === void 0) return console.error(C.INVALID_STREAM_EVENT);\n      var t = (e == null ? void 0 : e.text) || (e == null ? void 0 : e.html) || \"\",\n        i = Y.isScrollbarAtBottomOfElement(this._messages.elementRef),\n        n = (e == null ? void 0 : e.text) !== void 0 ? \"text\" : \"html\";\n      if (!this._elements && this._streamedContent === \"\") this.setInitialState(n, t, e == null ? void 0 : e.role);else {\n        if (this._streamType !== n) return console.error(C.INVALID_STREAM_EVENT_MIX);\n        this.updateBasedOnType(t, n, (r = this._elements) == null ? void 0 : r.bubbleElement, e == null ? void 0 : e.overwrite);\n      }\n      i && Y.scrollToBottom(this._messages.elementRef);\n    }\n  }, {\n    key: \"setInitialState\",\n    value: function setInitialState(e, t, i) {\n      var _i8;\n      this._streamType = e, (_i8 = i) !== null && _i8 !== void 0 ? _i8 : i = v.AI_ROLE, this._elements = e === \"text\" ? this._messages.addNewTextMessage(t, i) : Ye.add(this._messages, t, i, this._messages.messageElementRefs), this._elements.bubbleElement.classList.add(st.MESSAGE_CLASS), this._streamedContent = t, this._activeMessageRole = i;\n    }\n  }, {\n    key: \"updateBasedOnType\",\n    value: function updateBasedOnType(e, t, i) {\n      var n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n      v.unfillEmptyMessageElement(i, e), (t === \"text\" ? this.updateText : this.updateHTML).bind(this)(e, i, n);\n    }\n  }, {\n    key: \"updateText\",\n    value: function updateText(e, t, i) {\n      this._streamedContent = i ? e : this._streamedContent + e, this._messages.textElementsToText[this._messages.textElementsToText.length - 1][1] = this._streamedContent, this._messages.renderText(t, this._streamedContent);\n    }\n  }, {\n    key: \"updateHTML\",\n    value: function updateHTML(e, t, i) {\n      if (i) this._streamedContent = e, t.innerHTML = e;else {\n        var n = document.createElement(\"span\");\n        n.innerHTML = e, t.appendChild(n), this._streamedContent = st.HTML_CONTENT_PLACEHOLDER;\n      }\n    }\n  }, {\n    key: \"finaliseStreamedMessage\",\n    value: function finaliseStreamedMessage() {\n      var r, o;\n      var _this$_messages = this._messages,\n        e = _this$_messages.textElementsToText,\n        t = _this$_messages.elementRef,\n        i = (r = v.getLastMessageBubbleElement(t)) == null ? void 0 : r.classList;\n      if (i != null && i.contains(\"loading-message-text\")) throw Error(C.NO_VALID_STREAM_EVENTS_SENT);\n      if (!(i != null && i.contains(st.MESSAGE_CLASS))) return;\n      var n = {\n        role: this._activeMessageRole || v.AI_ROLE\n      };\n      this._streamType === \"text\" ? (e[e.length - 1][1] = this._streamedContent, n.text = this._streamedContent, this._messages.textToSpeech && Nt.speak(this._streamedContent, this._messages.textToSpeech)) : this._streamType === \"html\" && (this._streamedContent === st.HTML_CONTENT_PLACEHOLDER && (this._streamedContent = ((o = v.getLastMessageBubbleElement(t)) == null ? void 0 : o.innerHTML) || \"\"), this._elements && se.apply(this._messages, this._elements.outerContainer), n.html = this._streamedContent), n && (this._messages.messages.push(n), this._messages.sendClientUpdate(Ke.createMessageContent(n), !1)), this._hasStreamEnded = !0;\n    }\n  }]);\n  return st;\n}();\nKi.MESSAGE_CLASS = \"streamed-message\";\nKi.HTML_CONTENT_PLACEHOLDER = \"htmlplaceholder\";\nvar Ze = Ki;\nvar ns = /*#__PURE__*/function () {\n  function rt() {\n    _classCallCheck(this, rt);\n  }\n  _createClass(rt, null, [{\n    key: \"tempRemoveContentHeader\",\n    value: // need to pass stringifyBody boolean separately as binding is throwing an error for some reason\n    // prettier-ignore\n    function () {\n      var _tempRemoveContentHeader = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e, t, i) {\n        var n, r;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (e != null && e.headers) {\n                _context.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              n = e.headers[rt.CONTENT_TYPE];\n              delete e.headers[rt.CONTENT_TYPE];\n              _context.prev = 4;\n              _context.next = 7;\n              return t(i);\n            case 7:\n              r = _context.sent;\n              _context.next = 13;\n              break;\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](4);\n              throw e.headers[rt.CONTENT_TYPE] = n, _context.t0;\n            case 13:\n              return _context.abrupt(\"return\", (e.headers[rt.CONTENT_TYPE] = n, r));\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[4, 10]]);\n      }));\n      function tempRemoveContentHeader(_x5, _x6, _x7) {\n        return _tempRemoveContentHeader.apply(this, arguments);\n      }\n      return tempRemoveContentHeader;\n    }()\n  }, {\n    key: \"displayError\",\n    value: function displayError(e, t) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"Service error, please try again.\";\n      if (console.error(t), _typeof(t) == \"object\") return Object.keys(t).length === 0 ? e.addNewErrorMessage(\"service\", i) : e.addNewErrorMessage(\"service\", JSON.stringify(t));\n      e.addNewErrorMessage(\"service\", t);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  }, {\n    key: \"fetch\",\n    value: function (_fetch) {\n      function fetch(_x, _x2, _x3, _x4) {\n        return _fetch.apply(this, arguments);\n      }\n      fetch.toString = function () {\n        return _fetch.toString();\n      };\n      return fetch;\n    }(function (e, t, i, n) {\n      var o, a;\n      var r = {\n        method: ((o = e.requestSettings) == null ? void 0 : o.method) || \"POST\",\n        headers: t\n      };\n      return r.method !== \"GET\" && (r.body = i ? JSON.stringify(n) : n), e.requestSettings.credentials && (r.credentials = e.requestSettings.credentials), fetch(((a = e.requestSettings) == null ? void 0 : a.url) || e.url || \"\", r);\n    })\n  }, {\n    key: \"processResponseByType\",\n    value: function processResponseByType(e) {\n      var t = e.headers.get(\"content-type\");\n      return t != null && t.includes(\"application/json\") ? e.json() : t != null && t.includes(\"text/plain\") || !t ? e : e.blob();\n    }\n  }, {\n    key: \"processRequestInterceptor\",\n    value: function () {\n      var _processRequestInterceptor = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e, t) {\n        var o, i, n, r;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return (o = e.requestInterceptor) == null ? void 0 : o.call(e, t);\n            case 2:\n              _context2.t0 = _context2.sent;\n              if (_context2.t0) {\n                _context2.next = 5;\n                break;\n              }\n              _context2.t0 = t;\n            case 5:\n              i = _context2.t0;\n              n = i;\n              r = i;\n              return _context2.abrupt(\"return\", {\n                body: n.body,\n                headers: n.headers,\n                error: r.error\n              });\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      function processRequestInterceptor(_x8, _x9) {\n        return _processRequestInterceptor.apply(this, arguments);\n      }\n      return processRequestInterceptor;\n    }()\n  }, {\n    key: \"validateResponseFormat\",\n    value: function validateResponseFormat(e) {\n      return e && _typeof(e) == \"object\" && (typeof e.error == \"string\" || typeof e.text == \"string\" || typeof e.html == \"string\" || Array.isArray(e.files));\n    }\n  }, {\n    key: \"onInterceptorError\",\n    value: function onInterceptorError(e, t, i) {\n      e.addNewErrorMessage(\"service\", t), i == null || i();\n    }\n  }]);\n  return rt;\n}();\nns.CONTENT_TYPE = \"Content-Type\";\nvar E = ns;\nfunction co(_x10, _x11) {\n  return _co.apply(this, arguments);\n}\nfunction _co() {\n  _co = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee103(s, e) {\n    var t, i;\n    return _regeneratorRuntime().wrap(function _callee103$(_context103) {\n      while (1) switch (_context103.prev = _context103.next) {\n        case 0:\n          t = s.getReader();\n        case 1:\n          _context103.next = 3;\n          return t.read();\n        case 3:\n          if ((i = _context103.sent).done) {\n            _context103.next = 7;\n            break;\n          }\n          e(i.value);\n        case 5:\n          _context103.next = 1;\n          break;\n        case 7:\n        case \"end\":\n          return _context103.stop();\n      }\n    }, _callee103);\n  }));\n  return _co.apply(this, arguments);\n}\nfunction uo(s) {\n  var e,\n    t,\n    i,\n    n = !1;\n  return function (o) {\n    e === void 0 ? (e = o, t = 0, i = -1) : e = po(e, o);\n    var a = e.length;\n    var l = 0;\n    for (; t < a;) {\n      n && (e[t] === 10 && (l = ++t), n = !1);\n      var c = -1;\n      for (; t < a && c === -1; ++t) switch (e[t]) {\n        case 58:\n          i === -1 && (i = t - l);\n          break;\n        case 13:\n          n = !0;\n        case 10:\n          c = t;\n          break;\n      }\n      if (c === -1) break;\n      s(e.subarray(l, c), i), l = t, i = -1;\n    }\n    l === a ? e = void 0 : l !== 0 && (e = e.subarray(l), t -= l);\n  };\n}\nfunction ho(s, e, t) {\n  var i = vn();\n  var n = new TextDecoder();\n  return function (o, a) {\n    if (o.length === 0) t == null || t(i), i = vn();else if (a > 0) {\n      var l = n.decode(o.subarray(0, a)),\n        c = a + (o[a + 1] === 32 ? 2 : 1),\n        d = n.decode(o.subarray(c));\n      switch (l) {\n        case \"data\":\n          i.data = i.data ? i.data + \"\\n\" + d : d;\n          break;\n        case \"event\":\n          i.event = d;\n          break;\n        case \"id\":\n          s(i.id = d);\n          break;\n        case \"retry\":\n          var u = parseInt(d, 10);\n          isNaN(u) || e(i.retry = u);\n          break;\n      }\n    }\n  };\n}\nfunction po(s, e) {\n  var t = new Uint8Array(s.length + e.length);\n  return t.set(s), t.set(e, s.length), t;\n}\nfunction vn() {\n  return {\n    data: \"\",\n    event: \"\",\n    id: \"\",\n    retry: void 0\n  };\n}\nvar fo = globalThis && globalThis.__rest || function (s, e) {\n  var t = {};\n  for (var i in s) Object.prototype.hasOwnProperty.call(s, i) && e.indexOf(i) < 0 && (t[i] = s[i]);\n  if (s != null && typeof Object.getOwnPropertySymbols == \"function\") for (var n = 0, i = Object.getOwnPropertySymbols(s); n < i.length; n++) e.indexOf(i[n]) < 0 && Object.prototype.propertyIsEnumerable.call(s, i[n]) && (t[i[n]] = s[i[n]]);\n  return t;\n};\nvar Di = \"text/event-stream\",\n  mo = 1e3,\n  yn = \"last-event-id\";\nfunction go(s, e) {\n  var t = e.signal,\n    i = e.headers,\n    n = e.onopen,\n    r = e.onmessage,\n    o = e.onclose,\n    a = e.onerror,\n    l = e.openWhenHidden,\n    c = e.fetch,\n    d = fo(e, [\"signal\", \"headers\", \"onopen\", \"onmessage\", \"onclose\", \"onerror\", \"openWhenHidden\", \"fetch\"]);\n  return new Promise(function (u, h) {\n    var p = Object.assign({}, i);\n    p.accept || (p.accept = Di);\n    var g;\n    function m() {\n      g.abort(), document.hidden || X();\n    }\n    l || document.addEventListener(\"visibilitychange\", m);\n    var S = mo,\n      w = 0;\n    function G() {\n      document.removeEventListener(\"visibilitychange\", m), window.clearTimeout(w), g.abort();\n    }\n    t == null || t.addEventListener(\"abort\", function () {\n      G(), u();\n    });\n    var A = c !== null && c !== void 0 ? c : window.fetch,\n      V = n !== null && n !== void 0 ? n : bo;\n    function X() {\n      return _X.apply(this, arguments);\n    }\n    function _X() {\n      _X = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var oe, Q, N;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              g = new AbortController();\n              _context3.prev = 1;\n              _context3.next = 4;\n              return A(s, Object.assign(Object.assign({}, d), {\n                headers: p,\n                signal: g.signal\n              }));\n            case 4:\n              Q = _context3.sent;\n              _context3.next = 7;\n              return V(Q);\n            case 7:\n              _context3.next = 9;\n              return co(Q.body, uo(ho(function (N) {\n                N ? p[yn] = N : delete p[yn];\n              }, function (N) {\n                S = N;\n              }, r)));\n            case 9:\n              o == null || o();\n              G();\n              u();\n              _context3.next = 17;\n              break;\n            case 14:\n              _context3.prev = 14;\n              _context3.t0 = _context3[\"catch\"](1);\n              if (!g.signal.aborted) try {\n                N = (oe = a == null ? void 0 : a(_context3.t0)) !== null && oe !== void 0 ? oe : S;\n                window.clearTimeout(w), w = window.setTimeout(X, N);\n              } catch (N) {\n                G(), h(N);\n              }\n            case 17:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[1, 14]]);\n      }));\n      return _X.apply(this, arguments);\n    }\n    X();\n  });\n}\nfunction bo(s) {\n  var e = s.headers.get(\"content-type\");\n  if (!(e != null && e.startsWith(Di))) throw new Error(\"Expected content-type to be \".concat(Di, \", Actual: \").concat(e));\n}\nvar ss = /*#__PURE__*/function () {\n  function ot() {\n    _classCallCheck(this, ot);\n  }\n  _createClass(ot, null, [{\n    key: \"generateResponse\",\n    value: function generateResponse(e) {\n      var t = e.messages[e.messages.length - 1];\n      if (t.files && t.files.length > 0) {\n        if (t.files.length > 1) return \"These are interesting files!\";\n        var i = t.files[0];\n        return i.src && i.src.startsWith(\"data:image/gif\") ? \"That is a nice gif!\" : i.type === \"image\" ? \"That is a nice image!\" : i.type === \"audio\" ? \"I like the sound of that!\" : \"That is an interesting file!\";\n      }\n      if (t.text) {\n        if (t.text.charAt(t.text.length - 1) === \"?\") return \"I'm sorry but I can't answer that question...\";\n        if (t.text.includes(\"updog\")) return \"What's updog?\";\n      }\n      return \"Hi there! This is a demo response!\";\n    }\n  }, {\n    key: \"getCustomResponse\",\n    value: function getCustomResponse(e, t) {\n      return typeof e == \"function\" ? e(t) : e;\n    }\n  }, {\n    key: \"getResponse\",\n    value: function getResponse(e) {\n      return e.customDemoResponse ? ot.getCustomResponse(e.customDemoResponse, e.messages[e.messages.length - 1]) : {\n        text: ot.generateResponse(e)\n      };\n    }\n    // timeout is used to simulate a timeout for a response to come back\n  }, {\n    key: \"request\",\n    value: function request(e, t) {\n      var i = ot.getResponse(t);\n      setTimeout( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var r, o, n;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return (o = (r = e.deepChat).responseInterceptor) == null ? void 0 : o.call(r, i);\n            case 2:\n              _context4.t0 = _context4.sent;\n              if (_context4.t0) {\n                _context4.next = 5;\n                break;\n              }\n              _context4.t0 = i;\n            case 5:\n              n = _context4.t0;\n              n.error ? (t.addNewErrorMessage(\"service\", n.error), e.completionsHandlers.onFinish()) : I.isSimulation(e.deepChat.stream) ? I.simulate(t, e.streamHandlers, n) : (t.addNewMessage(n), e.completionsHandlers.onFinish());\n            case 7:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4);\n      })), 400);\n    }\n    // timeout is used to simulate a timeout for a response to come back\n  }, {\n    key: \"requestStream\",\n    value: function requestStream(e, t) {\n      setTimeout(function () {\n        var i = ot.getResponse(e);\n        I.simulate(e, t, i);\n      }, 400);\n    }\n  }]);\n  return ot;\n}();\nss.URL = \"deep-chat-demo\";\nvar ve = ss;\nvar I = /*#__PURE__*/function () {\n  function I() {\n    _classCallCheck(this, I);\n  }\n  _createClass(I, null, [{\n    key: \"request\",\n    value: // prettier-ignore\n    function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(e, t, i) {\n        var n,\n          p,\n          g,\n          m,\n          S,\n          w,\n          G,\n          r,\n          _yield$E$processReque,\n          o,\n          a,\n          l,\n          _e$streamHandlers,\n          c,\n          d,\n          u,\n          h,\n          _args7 = arguments;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              n = _args7.length > 3 && _args7[3] !== undefined ? _args7[3] : !0;\n              r = {\n                body: t,\n                headers: (p = e.requestSettings) == null ? void 0 : p.headers\n              };\n              _context7.next = 4;\n              return E.processRequestInterceptor(e.deepChat, r);\n            case 4:\n              _yield$E$processReque = _context7.sent;\n              o = _yield$E$processReque.body;\n              a = _yield$E$processReque.headers;\n              l = _yield$E$processReque.error;\n              _e$streamHandlers = e.streamHandlers;\n              c = _e$streamHandlers.onOpen;\n              d = _e$streamHandlers.onClose;\n              u = _e$streamHandlers.abortStream;\n              if (!l) {\n                _context7.next = 14;\n                break;\n              }\n              return _context7.abrupt(\"return\", E.onInterceptorError(i, l, d));\n            case 14:\n              if (!((g = e.requestSettings) != null && g.handler)) {\n                _context7.next = 16;\n                break;\n              }\n              return _context7.abrupt(\"return\", Ae.stream(e, o, i));\n            case 16:\n              if (!(((m = e.requestSettings) == null ? void 0 : m.url) === ve.URL)) {\n                _context7.next = 18;\n                break;\n              }\n              return _context7.abrupt(\"return\", ve.requestStream(i, e.streamHandlers));\n            case 18:\n              h = new Ze(i);\n              go(((S = e.requestSettings) == null ? void 0 : S.url) || e.url || \"\", {\n                method: ((w = e.requestSettings) == null ? void 0 : w.method) || \"POST\",\n                headers: a,\n                credentials: (G = e.requestSettings) == null ? void 0 : G.credentials,\n                body: n ? JSON.stringify(o) : o,\n                openWhenHidden: !0,\n                // keep stream open when browser tab not open\n                onopen: function onopen(A) {\n                  return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n                    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n                      while (1) switch (_context5.prev = _context5.next) {\n                        case 0:\n                          if (!A.ok) {\n                            _context5.next = 2;\n                            break;\n                          }\n                          return _context5.abrupt(\"return\", c());\n                        case 2:\n                          _context5.next = 4;\n                          return E.processResponseByType(A);\n                        case 4:\n                          throw _context5.sent;\n                        case 5:\n                        case \"end\":\n                          return _context5.stop();\n                      }\n                    }, _callee5);\n                  }))();\n                },\n                onmessage: function onmessage(A) {\n                  return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n                    var V, X, oe, Q, N;\n                    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n                      while (1) switch (_context6.prev = _context6.next) {\n                        case 0:\n                          if (!(JSON.stringify(A.data) !== JSON.stringify(\"[DONE]\"))) {\n                            _context6.next = 9;\n                            break;\n                          }\n                          Q = JSON.parse(A.data);\n                          _context6.next = 4;\n                          return (X = (V = e.deepChat).responseInterceptor) == null ? void 0 : X.call(V, Q);\n                        case 4:\n                          _context6.t0 = _context6.sent;\n                          if (_context6.t0) {\n                            _context6.next = 7;\n                            break;\n                          }\n                          _context6.t0 = Q;\n                        case 7:\n                          N = _context6.t0;\n                          (oe = e.extractResultData) == null || oe.call(e, N).then(function (Be) {\n                            h.upsertStreamedMessage(Be);\n                          })[\"catch\"](function (Be) {\n                            return E.displayError(i, Be);\n                          });\n                        case 9:\n                        case \"end\":\n                          return _context6.stop();\n                      }\n                    }, _callee6);\n                  }))();\n                },\n                onerror: function onerror(A) {\n                  throw d(), A;\n                },\n                onclose: function onclose() {\n                  h.finaliseStreamedMessage(), d();\n                },\n                signal: u.signal\n              })[\"catch\"](function (A) {\n                var V;\n                (V = e.extractResultData) == null || V.call(e, A).then(function () {\n                  E.displayError(i, A);\n                })[\"catch\"](function (X) {\n                  E.displayError(i, X);\n                });\n              });\n            case 20:\n            case \"end\":\n              return _context7.stop();\n          }\n        }, _callee7);\n      }));\n      function request(_x12, _x13, _x14) {\n        return _request.apply(this, arguments);\n      }\n      return request;\n    }()\n  }, {\n    key: \"simulate\",\n    value: function simulate(e, t, i) {\n      var n = t;\n      if ((i.files || i.html) && e.addNewMessage(_objectSpread({\n        sendUpdate: !1,\n        ignoreText: !0\n      }, i), !1), i.text) {\n        t.onOpen();\n        var r = i.text.split(\"\");\n        I.populateMessages(r, new Ze(e), n);\n      }\n    }\n  }, {\n    key: \"populateMessages\",\n    value: function populateMessages(e, t, i) {\n      var n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var r = e[n];\n      if (r) {\n        t.upsertStreamedMessage({\n          text: r\n        });\n        var o = setTimeout(function () {\n          I.populateMessages(e, t, i, n + 1);\n        }, i.simulationInterim || 6);\n        i.abortStream.abort = function () {\n          I.abort(o, t, i.onClose);\n        };\n      } else t.finaliseStreamedMessage(), i.onClose();\n    }\n  }, {\n    key: \"isSimulation\",\n    value: function isSimulation(e) {\n      return _typeof(e) == \"object\" && !!e.simulation;\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(e, t, i) {\n      clearTimeout(e), t.finaliseStreamedMessage(), i();\n    }\n  }]);\n  return I;\n}();\nvar Ae = /*#__PURE__*/function () {\n  function Ae() {\n    _classCallCheck(this, Ae);\n  }\n  _createClass(Ae, null, [{\n    key: \"request\",\n    value: function () {\n      var _request2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(e, t, i) {\n        var a, l, n, r, o;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              n = !0;\n              r = /*#__PURE__*/function () {\n                var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(c) {\n                  var u, h, d;\n                  return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n                    while (1) switch (_context8.prev = _context8.next) {\n                      case 0:\n                        if (n) {\n                          _context8.next = 2;\n                          break;\n                        }\n                        return _context8.abrupt(\"return\");\n                      case 2:\n                        n = !1;\n                        _context8.next = 5;\n                        return (h = (u = e.deepChat).responseInterceptor) == null ? void 0 : h.call(u, c);\n                      case 5:\n                        _context8.t0 = _context8.sent;\n                        if (_context8.t0) {\n                          _context8.next = 8;\n                          break;\n                        }\n                        _context8.t0 = c;\n                      case 8:\n                        d = _context8.t0;\n                        E.validateResponseFormat(d) ? typeof d.error == \"string\" ? (console.error(d.error), i.addNewErrorMessage(\"service\", d.error), e.completionsHandlers.onFinish()) : I.isSimulation(e.deepChat.stream) ? I.simulate(i, e.streamHandlers, d) : (i.addNewMessage(d), e.completionsHandlers.onFinish()) : (console.error(C.INVALID_RESPONSE(c, \"server\", !!e.deepChat.responseInterceptor, d)), i.addNewErrorMessage(\"service\", \"Error in server message\"), e.completionsHandlers.onFinish());\n                      case 10:\n                      case \"end\":\n                        return _context8.stop();\n                    }\n                  }, _callee8);\n                }));\n                return function r(_x18) {\n                  return _ref2.apply(this, arguments);\n                };\n              }(), o = Ae.generateOptionalSignals();\n              (l = (a = e.requestSettings).handler) == null || l.call(a, t, _objectSpread(_objectSpread({}, o), {}, {\n                onResponse: r\n              }));\n            case 3:\n            case \"end\":\n              return _context9.stop();\n          }\n        }, _callee9);\n      }));\n      function request(_x15, _x16, _x17) {\n        return _request2.apply(this, arguments);\n      }\n      return request;\n    }() // prettier-ignore\n  }, {\n    key: \"stream\",\n    value: function stream(e, t, i) {\n      var u, h;\n      var n = !0,\n        r = !1;\n      var o = new Ze(i),\n        a = function a() {\n          r || !n || (e.streamHandlers.onOpen(), r = !0);\n        },\n        l = function l() {\n          n && (o.finaliseStreamedMessage(), e.streamHandlers.onClose(), n = !1);\n        },\n        c = function c(p) {\n          n && (!p || _typeof(p) != \"object\" || typeof p.error != \"string\" && typeof p.html != \"string\" && typeof p.text != \"string\" ? console.error(C.INVALID_RESPONSE(p, \"server\", !1)) : p.error ? (console.error(p.error), o.finaliseStreamedMessage(), e.streamHandlers.onClose(), i.addNewErrorMessage(\"service\", p.error), n = !1) : o.upsertStreamedMessage(p));\n        };\n      e.streamHandlers.abortStream.abort = function () {\n        o.finaliseStreamedMessage(), e.streamHandlers.onClose(), n = !1;\n      };\n      var d = Ae.generateOptionalSignals();\n      (h = (u = e.requestSettings).handler) == null || h.call(u, t, _objectSpread(_objectSpread({}, d), {}, {\n        onOpen: a,\n        onResponse: c,\n        onClose: l,\n        stopClicked: e.streamHandlers.stopClicked\n      }));\n    }\n    // prettier-ignore\n  }, {\n    key: \"websocket\",\n    value: function websocket(e, t) {\n      var l, c;\n      var i = {\n        isOpen: !1,\n        newUserMessage: {\n          listener: function listener() {}\n        }\n      };\n      e.websocket = i;\n      var n = function n() {\n          t.removeError(), i.isOpen = !0;\n        },\n        r = function r() {\n          i.isOpen = !1;\n        },\n        o = /*#__PURE__*/function () {\n          var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(d) {\n            var h, p, u;\n            return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n              while (1) switch (_context10.prev = _context10.next) {\n                case 0:\n                  if (i.isOpen) {\n                    _context10.next = 2;\n                    break;\n                  }\n                  return _context10.abrupt(\"return\");\n                case 2:\n                  _context10.next = 4;\n                  return (p = (h = e.deepChat).responseInterceptor) == null ? void 0 : p.call(h, d);\n                case 4:\n                  _context10.t0 = _context10.sent;\n                  if (_context10.t0) {\n                    _context10.next = 7;\n                    break;\n                  }\n                  _context10.t0 = d;\n                case 7:\n                  u = _context10.t0;\n                  E.validateResponseFormat(u) ? typeof u.error == \"string\" ? (console.error(u.error), t.isLastMessageError() || t.addNewErrorMessage(\"service\", u.error)) : e.deepChat.stream ? I.simulate(t, e.streamHandlers, u) : t.addNewMessage(u) : (console.error(C.INVALID_RESPONSE(d, \"server\", !!e.deepChat.responseInterceptor, u)), t.addNewErrorMessage(\"service\", \"Error in server message\"));\n                case 9:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }, _callee10);\n          }));\n          return function o(_x19) {\n            return _ref3.apply(this, arguments);\n          };\n        }(),\n        a = Ae.generateOptionalSignals();\n      (c = (l = e.requestSettings).handler) == null || c.call(l, void 0, _objectSpread(_objectSpread({}, a), {}, {\n        onOpen: n,\n        onResponse: o,\n        onClose: r,\n        newUserMessage: i.newUserMessage\n      }));\n    }\n  }, {\n    key: \"generateOptionalSignals\",\n    value: function generateOptionalSignals() {\n      return {\n        onClose: function onClose() {},\n        onOpen: function onOpen() {},\n        stopClicked: {\n          listener: function listener() {}\n        },\n        newUserMessage: {\n          listener: function listener() {}\n        }\n      };\n    }\n  }]);\n  return Ae;\n}();\nvar _ = /*#__PURE__*/function () {\n  function _() {\n    _classCallCheck(this, _);\n  }\n  _createClass(_, null, [{\n    key: \"request\",\n    value: // prettier-ignore\n    function () {\n      var _request3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(e, t, i) {\n        var n,\n          h,\n          p,\n          g,\n          r,\n          _yield$E$processReque2,\n          o,\n          a,\n          l,\n          c,\n          d,\n          u,\n          _args12 = arguments;\n        return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1) switch (_context12.prev = _context12.next) {\n            case 0:\n              n = _args12.length > 3 && _args12[3] !== undefined ? _args12[3] : !0;\n              r = {\n                body: t,\n                headers: (h = e.requestSettings) == null ? void 0 : h.headers\n              };\n              _context12.next = 4;\n              return E.processRequestInterceptor(e.deepChat, r);\n            case 4:\n              _yield$E$processReque2 = _context12.sent;\n              o = _yield$E$processReque2.body;\n              a = _yield$E$processReque2.headers;\n              l = _yield$E$processReque2.error;\n              c = e.completionsHandlers.onFinish;\n              if (!l) {\n                _context12.next = 11;\n                break;\n              }\n              return _context12.abrupt(\"return\", E.onInterceptorError(i, l, c));\n            case 11:\n              if (!((p = e.requestSettings) != null && p.handler)) {\n                _context12.next = 13;\n                break;\n              }\n              return _context12.abrupt(\"return\", Ae.request(e, o, i));\n            case 13:\n              if (!(((g = e.requestSettings) == null ? void 0 : g.url) === ve.URL)) {\n                _context12.next = 15;\n                break;\n              }\n              return _context12.abrupt(\"return\", ve.request(e, i));\n            case 15:\n              d = !0;\n              u = E.fetch.bind(this, e, a, n);\n              u(o).then(function (m) {\n                return d = !!m.ok, m;\n              }).then(function (m) {\n                return E.processResponseByType(m);\n              }).then( /*#__PURE__*/function () {\n                var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(m) {\n                  var G, A, S, w;\n                  return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n                    while (1) switch (_context11.prev = _context11.next) {\n                      case 0:\n                        if (e.extractResultData) {\n                          _context11.next = 2;\n                          break;\n                        }\n                        return _context11.abrupt(\"return\");\n                      case 2:\n                        _context11.next = 4;\n                        return (A = (G = e.deepChat).responseInterceptor) == null ? void 0 : A.call(G, m);\n                      case 4:\n                        _context11.t0 = _context11.sent;\n                        if (_context11.t0) {\n                          _context11.next = 7;\n                          break;\n                        }\n                        _context11.t0 = m;\n                      case 7:\n                        S = _context11.t0;\n                        _context11.next = 10;\n                        return e.extractResultData(S, u, o);\n                      case 10:\n                        w = _context11.sent;\n                        if (d) {\n                          _context11.next = 13;\n                          break;\n                        }\n                        throw m;\n                      case 13:\n                        if (!(!w || _typeof(w) != \"object\")) {\n                          _context11.next = 15;\n                          break;\n                        }\n                        throw Error(C.INVALID_RESPONSE(m, \"response\", !!e.deepChat.responseInterceptor, S));\n                      case 15:\n                        w.makingAnotherRequest || (I.isSimulation(e.deepChat.stream) ? I.simulate(i, e.streamHandlers, w) : (i.addNewMessage(w), c()));\n                      case 16:\n                      case \"end\":\n                        return _context11.stop();\n                    }\n                  }, _callee11);\n                }));\n                return function (_x23) {\n                  return _ref4.apply(this, arguments);\n                };\n              }())[\"catch\"](function (m) {\n                E.displayError(i, m), c();\n              });\n            case 18:\n            case \"end\":\n              return _context12.stop();\n          }\n        }, _callee12, this);\n      }));\n      function request(_x20, _x21, _x22) {\n        return _request3.apply(this, arguments);\n      }\n      return request;\n    }()\n  }, {\n    key: \"executePollRequest\",\n    value: function executePollRequest(e, t, i, n) {\n      var r = e.completionsHandlers.onFinish;\n      fetch(t, i).then(function (o) {\n        return o.json();\n      }).then( /*#__PURE__*/function () {\n        var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(o) {\n          var l, c, a;\n          return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n            while (1) switch (_context13.prev = _context13.next) {\n              case 0:\n                if (e.extractPollResultData) {\n                  _context13.next = 2;\n                  break;\n                }\n                return _context13.abrupt(\"return\");\n              case 2:\n                _context13.t0 = e;\n                _context13.next = 5;\n                return (c = (l = e.deepChat).responseInterceptor) == null ? void 0 : c.call(l, o);\n              case 5:\n                _context13.t1 = _context13.sent;\n                if (_context13.t1) {\n                  _context13.next = 8;\n                  break;\n                }\n                _context13.t1 = o;\n              case 8:\n                _context13.t2 = _context13.t1;\n                _context13.next = 11;\n                return _context13.t0.extractPollResultData.call(_context13.t0, _context13.t2);\n              case 11:\n                a = _context13.sent;\n                a.timeoutMS ? setTimeout(function () {\n                  _.executePollRequest(e, t, i, n);\n                }, a.timeoutMS) : I.isSimulation(e.deepChat.stream) ? I.simulate(n, e.streamHandlers, a) : (n.addNewMessage(a), r());\n              case 13:\n              case \"end\":\n                return _context13.stop();\n            }\n          }, _callee13);\n        }));\n        return function (_x24) {\n          return _ref5.apply(this, arguments);\n        };\n      }())[\"catch\"](function (o) {\n        E.displayError(n, o), r();\n      });\n    }\n    // prettier-ignore\n  }, {\n    key: \"poll\",\n    value: function () {\n      var _poll = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(e, t, i) {\n        var n,\n          p,\n          g,\n          m,\n          r,\n          _yield$E$processReque3,\n          o,\n          a,\n          l,\n          c,\n          d,\n          u,\n          h,\n          _args14 = arguments;\n        return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n          while (1) switch (_context14.prev = _context14.next) {\n            case 0:\n              n = _args14.length > 3 && _args14[3] !== undefined ? _args14[3] : !0;\n              r = {\n                body: t,\n                headers: (p = e.requestSettings) == null ? void 0 : p.headers\n              };\n              _context14.next = 4;\n              return E.processRequestInterceptor(e.deepChat, r);\n            case 4:\n              _yield$E$processReque3 = _context14.sent;\n              o = _yield$E$processReque3.body;\n              a = _yield$E$processReque3.headers;\n              l = _yield$E$processReque3.error;\n              if (!l) {\n                _context14.next = 10;\n                break;\n              }\n              return _context14.abrupt(\"return\", E.onInterceptorError(i, l));\n            case 10:\n              c = ((g = e.requestSettings) == null ? void 0 : g.url) || e.url || \"\", d = ((m = e.requestSettings) == null ? void 0 : m.method) || \"POST\", u = n ? JSON.stringify(o) : o, h = {\n                method: d,\n                body: u,\n                headers: a\n              };\n              e.requestSettings.credentials && (h.credentials = e.requestSettings.credentials), _.executePollRequest(e, c, h, i);\n            case 12:\n            case \"end\":\n              return _context14.stop();\n          }\n        }, _callee14);\n      }));\n      function poll(_x25, _x26, _x27) {\n        return _poll.apply(this, arguments);\n      }\n      return poll;\n    }() // prettier-ignore\n  }, {\n    key: \"verifyKey\",\n    value: function verifyKey(e, t, i, n, r, o, a, l, c) {\n      if (e === \"\") return o(C.INVALID_KEY);\n      a(), fetch(t, {\n        method: n,\n        headers: i,\n        body: c || null\n      }).then(function (d) {\n        return E.processResponseByType(d);\n      }).then(function (d) {\n        l(d, e, r, o);\n      })[\"catch\"](function (d) {\n        o(C.CONNECTION_FAILED), console.error(d);\n      });\n    }\n  }]);\n  return _;\n}();\nvar Xe = /*#__PURE__*/function () {\n  function Xe() {\n    _classCallCheck(this, Xe);\n  }\n  _createClass(Xe, null, [{\n    key: \"getCharacterLimitMessages\",\n    value: function getCharacterLimitMessages(e, t) {\n      var r;\n      if (t === -1) return e;\n      var i = 0,\n        n = e.length - 1;\n      for (n; n >= 0; n -= 1) {\n        var o = (r = e[n]) == null ? void 0 : r.text;\n        if (o !== void 0 && (i += o.length, i > t)) {\n          e[n].text = o.substring(0, o.length - (i - t));\n          break;\n        }\n      }\n      return e.slice(Math.max(n, 0));\n    }\n  }, {\n    key: \"getMaxMessages\",\n    value: function getMaxMessages(e, t) {\n      return e.slice(Math.max(e.length - t, 0));\n    }\n    // prettier-ignore\n    // if maxMessages is not defined we send all messages\n    // if maxMessages above 0 we send that number\n    // if maxMessages 0 or below we send only what is in the request\n  }, {\n    key: \"processMessages\",\n    value: function processMessages(e, t, i) {\n      return t !== void 0 ? t > 0 && (e = Xe.getMaxMessages(e, t)) : e = [e[e.length - 1]], e = JSON.parse(JSON.stringify(e)), i === void 0 ? e : Xe.getCharacterLimitMessages(e, i);\n    }\n  }]);\n  return Xe;\n}();\nvar $ = /*#__PURE__*/function () {\n  function $() {\n    _classCallCheck(this, $);\n  }\n  _createClass($, null, [{\n    key: \"setup\",\n    value: function setup(e) {\n      e.requestSettings.url !== ve.URL && (e.permittedErrorPrefixes = [\"Connection error\", \"Error in server message\"], e.websocket = \"pending\");\n    }\n  }, {\n    key: \"createConnection\",\n    value: function createConnection(e, t) {\n      if (!document.body.contains(e.deepChat)) return;\n      var i = e.requestSettings.websocket;\n      if (i) {\n        if (e.requestSettings.handler) return Ae.websocket(e, t);\n        try {\n          var n = typeof i != \"boolean\" ? i : void 0,\n            r = new WebSocket(e.requestSettings.url || \"\", n);\n          e.websocket = r, e.websocket.onopen = function () {\n            var o, a;\n            t.removeError(), e.websocket && _typeof(e.websocket) == \"object\" && $.assignListeners(e, r, t), (a = (o = e.deepChat)._validationHandler) == null || a.call(o);\n          }, e.websocket.onerror = function (o) {\n            console.error(o), $.retryConnection(e, t);\n          };\n        } catch (n) {\n          console.error(n), $.retryConnection(e, t);\n        }\n      }\n    }\n  }, {\n    key: \"retryConnection\",\n    value: function retryConnection(e, t) {\n      var i, n;\n      (n = (i = e.deepChat)._validationHandler) == null || n.call(i), document.body.contains(e.deepChat) && (e.websocket = \"pending\", t.isLastMessageError() || t.addNewErrorMessage(\"service\", \"Connection error\"), setTimeout(function () {\n        $.createConnection(e, t);\n      }, 5e3));\n    }\n  }, {\n    key: \"assignListeners\",\n    value: function assignListeners(e, t, i) {\n      t.onmessage = /*#__PURE__*/function () {\n        var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(n) {\n          var r, o, a, l, c;\n          return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n            while (1) switch (_context15.prev = _context15.next) {\n              case 0:\n                if (!e.extractResultData) {\n                  _context15.next = 20;\n                  break;\n                }\n                _context15.prev = 1;\n                a = JSON.parse(n.data);\n                _context15.next = 5;\n                return (o = (r = e.deepChat).responseInterceptor) == null ? void 0 : o.call(r, a);\n              case 5:\n                _context15.t0 = _context15.sent;\n                if (_context15.t0) {\n                  _context15.next = 8;\n                  break;\n                }\n                _context15.t0 = a;\n              case 8:\n                l = _context15.t0;\n                _context15.next = 11;\n                return e.extractResultData(l);\n              case 11:\n                c = _context15.sent;\n                if (!(!c || _typeof(c) != \"object\")) {\n                  _context15.next = 14;\n                  break;\n                }\n                throw Error(C.INVALID_RESPONSE(a, \"server\", !!e.deepChat.responseInterceptor, l));\n              case 14:\n                I.isSimulation(e.deepChat.stream) ? I.simulate(i, e.streamHandlers, c) : i.addNewMessage(c);\n                _context15.next = 20;\n                break;\n              case 17:\n                _context15.prev = 17;\n                _context15.t1 = _context15[\"catch\"](1);\n                E.displayError(i, _context15.t1, \"Error in server message\");\n              case 20:\n              case \"end\":\n                return _context15.stop();\n            }\n          }, _callee15, null, [[1, 17]]);\n        }));\n        return function (_x28) {\n          return _ref6.apply(this, arguments);\n        };\n      }(), t.onclose = function () {\n        console.error(\"Connection closed\"), i.isLastMessageError() || i.addNewErrorMessage(\"service\", \"Connection error\"), e.deepChat.stream && e.streamHandlers.abortStream.abort(), $.createConnection(e, i);\n      };\n    }\n  }, {\n    key: \"sendWebsocket\",\n    value: function () {\n      var _sendWebsocket = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(e, t, i) {\n        var n,\n          d,\n          u,\n          r,\n          o,\n          _yield$E$processReque4,\n          a,\n          l,\n          c,\n          _args16 = arguments;\n        return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n          while (1) switch (_context16.prev = _context16.next) {\n            case 0:\n              n = _args16.length > 3 && _args16[3] !== undefined ? _args16[3] : !0;\n              r = e.websocket;\n              if (!(!r || r === \"pending\")) {\n                _context16.next = 4;\n                break;\n              }\n              return _context16.abrupt(\"return\");\n            case 4:\n              o = {\n                body: t,\n                headers: (d = e.requestSettings) == null ? void 0 : d.headers\n              };\n              _context16.next = 7;\n              return E.processRequestInterceptor(e.deepChat, o);\n            case 7:\n              _yield$E$processReque4 = _context16.sent;\n              a = _yield$E$processReque4.body;\n              l = _yield$E$processReque4.error;\n              if (!l) {\n                _context16.next = 12;\n                break;\n              }\n              return _context16.abrupt(\"return\", i.addNewErrorMessage(\"service\", l));\n            case 12:\n              if ($.isWebSocket(r)) {\n                _context16.next = 14;\n                break;\n              }\n              return _context16.abrupt(\"return\", r.newUserMessage.listener(a));\n            case 14:\n              c = n ? JSON.stringify(a) : a;\n              if (!(((u = e.requestSettings) == null ? void 0 : u.url) === ve.URL)) {\n                _context16.next = 17;\n                break;\n              }\n              return _context16.abrupt(\"return\", ve.request(e, i));\n            case 17:\n              r.readyState === void 0 || r.readyState !== r.OPEN ? (console.error(\"Connection is not open\"), i.isLastMessageError() || i.addNewErrorMessage(\"service\", \"Connection error\")) : (r.send(JSON.stringify(c)), e.completionsHandlers.onFinish());\n            case 18:\n            case \"end\":\n              return _context16.stop();\n          }\n        }, _callee16);\n      }));\n      function sendWebsocket(_x29, _x30, _x31) {\n        return _sendWebsocket.apply(this, arguments);\n      }\n      return sendWebsocket;\n    }()\n  }, {\n    key: \"canSendMessage\",\n    value: function canSendMessage(e) {\n      return e ? e === \"pending\" ? !1 : $.isWebSocket(e) ? e.readyState !== void 0 && e.readyState === e.OPEN : e.isOpen : !0;\n    }\n    // if false then it is the internal websocket handler\n  }, {\n    key: \"isWebSocket\",\n    value: function isWebSocket(e) {\n      return e.send !== void 0;\n    }\n  }]);\n  return $;\n}();\nvar L = /*#__PURE__*/function () {\n  function L() {\n    _classCallCheck(this, L);\n  }\n  _createClass(L, null, [{\n    key: \"parseConfig\",\n    value:\n    // prettier-ignore\n    function parseConfig(e, t, i, n) {\n      var o;\n      var r = {\n        files: t\n      };\n      if (_typeof(n) == \"object\") {\n        var a = n.files,\n          l = n.request,\n          c = n.button;\n        a && (a.infoModal && (r.files.infoModal = a.infoModal, (o = a.infoModal) != null && o.textMarkDown && (r.infoModalTextMarkUp = i.render(a.infoModal.textMarkDown))), a.acceptedFormats && (r.files.acceptedFormats = a.acceptedFormats), a.maxNumberOfFiles && (r.files.maxNumberOfFiles = a.maxNumberOfFiles)), r.button = c, l && (l.headers || l.method || l.url || l.credentials || e.headers || e.method || e.url || e.credentials) && (r.request = {\n          url: (l == null ? void 0 : l.url) || e.url,\n          method: (l == null ? void 0 : l.method) || e.method,\n          headers: (l == null ? void 0 : l.headers) || e.headers,\n          credentials: (l == null ? void 0 : l.credentials) || e.credentials\n        });\n      }\n      return r;\n    }\n  }, {\n    key: \"processMixedFiles\",\n    value: function processMixedFiles(e, t, i) {\n      if (i) {\n        var n = {\n          acceptedFormats: \"\"\n        };\n        e.fileTypes.mixedFiles = L.parseConfig(e.requestSettings, n, t, i);\n      }\n    }\n    // needs to be set after audio to overwrite maxNumberOfFiles\n    // prettier-ignore\n  }, {\n    key: \"processMicrophone\",\n    value: function processMicrophone(e, t, i, n) {\n      var _l$files, _h$maxNumberOfFiles;\n      var a, l, c, d, u, h;\n      var o = _objectSpread({\n        acceptedFormats: \"audio/*\"\n      }, ((a = e.fileTypes.audio) == null ? void 0 : a.files) || {});\n      i && (navigator.mediaDevices.getUserMedia !== void 0 ? (e.recordAudio = L.parseConfig(e.requestSettings, o, t, i), _typeof(i) == \"object\" && i.files && ((_l$files = (l = e.recordAudio).files) !== null && _l$files !== void 0 ? _l$files : l.files = {}, e.recordAudio.files.format = (c = i.files) == null ? void 0 : c.format, e.recordAudio.files.maxDurationSeconds = (d = i.files) == null ? void 0 : d.maxDurationSeconds, (u = e.fileTypes.audio) != null && u.files && ((_h$maxNumberOfFiles = (h = e.fileTypes.audio.files).maxNumberOfFiles) !== null && _h$maxNumberOfFiles !== void 0 ? _h$maxNumberOfFiles : h.maxNumberOfFiles = i.files.maxNumberOfFiles))) : n || (e.fileTypes.audio = L.parseConfig(e.requestSettings, o, t, i)));\n    }\n    // prettier-ignore\n  }, {\n    key: \"processAudioConfig\",\n    value: function processAudioConfig(e, t, i, n) {\n      if (!i && !n) return;\n      var o = _objectSpread({\n        acceptedFormats: \"audio/*\"\n      }, (n == null ? void 0 : n.files) || {});\n      e.fileTypes.audio = L.parseConfig(e.requestSettings, o, t, i);\n    }\n    // prettier-ignore\n  }, {\n    key: \"processGifConfig\",\n    value: function processGifConfig(e, t, i, n) {\n      if (!i && !n) return;\n      var o = _objectSpread({\n        acceptedFormats: \"image/gif\"\n      }, (n == null ? void 0 : n.files) || {});\n      e.fileTypes.gifs = L.parseConfig(e.requestSettings, o, t, i);\n    }\n    // needs to be set after images to overwrite maxNumberOfFiles\n    // prettier-ignore\n  }, {\n    key: \"processCamera\",\n    value: function processCamera(e, t, i, n) {\n      var _l$files2;\n      var a, l, c, d;\n      var o = _objectSpread({\n        acceptedFormats: \"image/*\"\n      }, ((a = e.fileTypes.images) == null ? void 0 : a.files) || {});\n      i && (navigator.mediaDevices.getUserMedia !== void 0 ? (e.camera = L.parseConfig(e.requestSettings, o, t, i), _typeof(i) == \"object\" && (e.camera.modalContainerStyle = i.modalContainerStyle, i.files && ((_l$files2 = (l = e.camera).files) !== null && _l$files2 !== void 0 ? _l$files2 : l.files = {}, e.camera.files.format = (c = i.files) == null ? void 0 : c.format, e.camera.files.dimensions = (d = i.files) == null ? void 0 : d.dimensions))) : n || (e.fileTypes.images = L.parseConfig(e.requestSettings, o, t, i)));\n    }\n    // prettier-ignore\n  }, {\n    key: \"processImagesConfig\",\n    value: function processImagesConfig(e, t, i, n) {\n      if (!i && !n) return;\n      var o = _objectSpread({\n        acceptedFormats: \"image/*\"\n      }, (n == null ? void 0 : n.files) || {});\n      e.fileTypes.images = L.parseConfig(e.requestSettings, o, t, i);\n    }\n    // default for direct service\n  }, {\n    key: \"populateDefaultFileIO\",\n    value: function populateDefaultFileIO(e, t) {\n      var _e$files, _i$acceptedFormats, _n$maxNumberOfFiles;\n      var i, n;\n      e && ((_e$files = e.files) !== null && _e$files !== void 0 ? _e$files : e.files = {}, (_i$acceptedFormats = (i = e.files).acceptedFormats) !== null && _i$acceptedFormats !== void 0 ? _i$acceptedFormats : i.acceptedFormats = t, (_n$maxNumberOfFiles = (n = e.files).maxNumberOfFiles) !== null && _n$maxNumberOfFiles !== void 0 ? _n$maxNumberOfFiles : n.maxNumberOfFiles = 1);\n    }\n  }, {\n    key: \"set\",\n    value: function set(e, t, i) {\n      L.populateDefaultFileIO(i == null ? void 0 : i.audio, \".4a,.mp3,.webm,.mp4,.mpga,.wav,.mpeg,.m4a\"), L.populateDefaultFileIO(i == null ? void 0 : i.images, \".png,.jpg\");\n      var n = Pi.createNew();\n      L.processImagesConfig(t, n, e.images, i == null ? void 0 : i.images), L.processCamera(t, n, e.camera, e.images), L.processGifConfig(t, n, e.gifs, i == null ? void 0 : i.gifs), L.processAudioConfig(t, n, e.audio, i == null ? void 0 : i.audio), L.processMicrophone(t, n, e.microphone, e.audio), L.processMixedFiles(t, n, e.mixedFiles);\n    }\n  }]);\n  return L;\n}();\nvar Le = /*#__PURE__*/function () {\n  function Le(e, t, i) {\n    var _a$url;\n    _classCallCheck(this, Le);\n    var n, r, o, a;\n    this.rawBody = {}, this.validateConfigKey = !1, this.canSendMessage = Le.canSendMessage, this.requestSettings = {}, this.fileTypes = {}, this.completionsHandlers = {}, this.streamHandlers = {}, this.deepChat = e, this.demo = i, Object.assign(this.rawBody, (n = e.request) == null ? void 0 : n.additionalBodyProps), this.totalMessagesMaxCharLength = (r = e == null ? void 0 : e.requestBodyLimits) == null ? void 0 : r.totalMessagesMaxCharLength, this.maxMessages = (o = e == null ? void 0 : e.requestBodyLimits) == null ? void 0 : o.maxMessages, L.set(e, this, t), e.request && (this.requestSettings = e.request), this.demo && ((_a$url = (a = this.requestSettings).url) !== null && _a$url !== void 0 ? _a$url : a.url = ve.URL), this.requestSettings.websocket && $.setup(this);\n  }\n  _createClass(Le, [{\n    key: \"verifyKey\",\n    value: function verifyKey(e, t) {}\n  }, {\n    key: \"getServiceIOByType\",\n    value: function getServiceIOByType(e) {\n      if (e.type.startsWith(\"audio\") && this.fileTypes.audio) return this.fileTypes.audio;\n      if (e.type.startsWith(\"image\")) {\n        if (this.fileTypes.gifs && e.type.endsWith(\"/gif\")) return this.fileTypes.gifs;\n        if (this.fileTypes.images) return this.fileTypes.images;\n        if (this.camera) return this.camera;\n      }\n      return this.fileTypes.mixedFiles;\n    }\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17(e, t) {\n        var i,\n          n,\n          _args17 = arguments;\n        return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n          while (1) switch (_context17.prev = _context17.next) {\n            case 0:\n              i = _args17.length > 2 && _args17[2] !== undefined ? _args17[2] : !0;\n              n = this.deepChat.stream;\n              return _context17.abrupt(\"return\", n && !I.isSimulation(n) ? I.request(this, e, t) : _.request(this, e, t, i));\n            case 3:\n            case \"end\":\n              return _context17.stop();\n          }\n        }, _callee17, this);\n      }));\n      function request(_x32, _x33) {\n        return _request4.apply(this, arguments);\n      }\n      return request;\n    }()\n  }, {\n    key: \"callAPIWithText\",\n    value: function () {\n      var _callAPIWithText = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18(e, t) {\n        var _o$headers, _a$ContentType;\n        var r, o, a, l, i, n;\n        return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n          while (1) switch (_context18.prev = _context18.next) {\n            case 0:\n              i = _objectSpread({\n                messages: t\n              }, this.rawBody);\n              n = !1;\n              (r = this.requestSettings.headers) != null && r[\"Content-Type\"] || ((_o$headers = (o = this.requestSettings).headers) !== null && _o$headers !== void 0 ? _o$headers : o.headers = {}, (_a$ContentType = (a = this.requestSettings.headers)[\"Content-Type\"]) !== null && _a$ContentType !== void 0 ? _a$ContentType : a[\"Content-Type\"] = \"application/json\", n = !0);\n              _context18.next = 5;\n              return this.request(i, e);\n            case 5:\n              n && ((l = this.requestSettings.headers) == null || delete l[\"Content-Type\"]);\n            case 6:\n            case \"end\":\n              return _context18.stop();\n          }\n        }, _callee18, this);\n      }));\n      function callAPIWithText(_x34, _x35) {\n        return _callAPIWithText.apply(this, arguments);\n      }\n      return callAPIWithText;\n    }()\n  }, {\n    key: \"callApiWithFiles\",\n    value: function () {\n      var _callApiWithFiles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19(e, t, i) {\n        var n, r, o;\n        return _regeneratorRuntime().wrap(function _callee19$(_context19) {\n          while (1) switch (_context19.prev = _context19.next) {\n            case 0:\n              n = Le.createCustomFormDataBody(this.rawBody, t, i), r = this.requestSettings, o = this.getServiceIOByType(i[0]);\n              this.requestSettings = (o == null ? void 0 : o.request) || this.requestSettings;\n              _context19.next = 4;\n              return this.request(n, e, !1);\n            case 4:\n              this.requestSettings = r;\n            case 5:\n            case \"end\":\n              return _context19.stop();\n          }\n        }, _callee19, this);\n      }));\n      function callApiWithFiles(_x36, _x37, _x38) {\n        return _callApiWithFiles.apply(this, arguments);\n      }\n      return callApiWithFiles;\n    }()\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee20(e, t, i) {\n        return _regeneratorRuntime().wrap(function _callee20$(_context20) {\n          while (1) switch (_context20.prev = _context20.next) {\n            case 0:\n              i ? this.callApiWithFiles(e, t, i) : this.callAPIWithText(e, t);\n            case 1:\n            case \"end\":\n              return _context20.stop();\n          }\n        }, _callee20, this);\n      }));\n      function callServiceAPI(_x39, _x40, _x41) {\n        return _callServiceAPI.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }() // prettier-ignore\n  }, {\n    key: \"callAPI\",\n    value: function () {\n      var _callAPI = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee21(e, t) {\n        var i, n;\n        return _regeneratorRuntime().wrap(function _callee21$(_context21) {\n          while (1) switch (_context21.prev = _context21.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context21.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = Xe.processMessages(t.messages, this.maxMessages, this.totalMessagesMaxCharLength);\n              if (this.requestSettings.websocket) {\n                n = _objectSpread({\n                  messages: i\n                }, this.rawBody);\n                $.sendWebsocket(this, n, t, !1);\n              } else this.callServiceAPI(t, i, e.files);\n            case 4:\n            case \"end\":\n              return _context21.stop();\n          }\n        }, _callee21, this);\n      }));\n      function callAPI(_x42, _x43) {\n        return _callAPI.apply(this, arguments);\n      }\n      return callAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee22(e) {\n        return _regeneratorRuntime().wrap(function _callee22$(_context22) {\n          while (1) switch (_context22.prev = _context22.next) {\n            case 0:\n              if (!e.error) {\n                _context22.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              if (!e.result) {\n                _context22.next = 4;\n                break;\n              }\n              return _context22.abrupt(\"return\", ke.handleResponseProperty(e));\n            case 4:\n              if (!E.validateResponseFormat(e)) {\n                _context22.next = 6;\n                break;\n              }\n              return _context22.abrupt(\"return\", e);\n            case 6:\n            case \"end\":\n              return _context22.stop();\n          }\n        }, _callee22);\n      }));\n      function extractResultData(_x44) {\n        return _extractResultData.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }, {\n    key: \"isDirectConnection\",\n    value: function isDirectConnection() {\n      return !1;\n    }\n  }, {\n    key: \"isWebModel\",\n    value: function isWebModel() {\n      return !1;\n    }\n  }], [{\n    key: \"canSendMessage\",\n    value: function canSendMessage(e, t, i) {\n      return i ? !0 : !!(e && e.trim() !== \"\") || !!(t && t.length > 0);\n    }\n  }, {\n    key: \"createCustomFormDataBody\",\n    value: function createCustomFormDataBody(e, t, i) {\n      var n = new FormData();\n      i.forEach(function (a) {\n        return n.append(\"files\", a);\n      }), Object.keys(e).forEach(function (a) {\n        return n.append(a, String(e[a]));\n      });\n      var r = 0;\n      t.slice(0, t.length - 1).forEach(function (a) {\n        n.append(\"message\".concat(r += 1), JSON.stringify(a));\n      });\n      var o = t[t.length - 1];\n      return o.text && (delete o.files, n.append(\"message\".concat(r += 1), JSON.stringify(o))), n;\n    }\n  }]);\n  return Le;\n}();\nvar U = /*#__PURE__*/function (_Le) {\n  _inherits(U, _Le);\n  var _super = _createSuper(U);\n  // prettier-ignore\n  function U(e, t, i, n, r) {\n    var _this6;\n    _classCallCheck(this, U);\n    var o;\n    _this6 = _super.call(this, e, r), _this6.insertKeyPlaceholderText = \"API Key\", _this6.getKeyLink = \"\", Object.assign(_this6.rawBody, (o = e.request) == null ? void 0 : o.additionalBodyProps), _this6.keyVerificationDetails = t, _this6.buildHeadersFunc = i, n && _this6.setApiKeyProperties(n), _this6.requestSettings = _this6.buildRequestSettings(_this6.key || \"\", e.request);\n    return _this6;\n  }\n  _createClass(U, [{\n    key: \"setApiKeyProperties\",\n    value: function setApiKeyProperties(e) {\n      this.key = e.key, e.validateKeyProperty && (this.validateConfigKey = e.validateKeyProperty);\n    }\n  }, {\n    key: \"buildRequestSettings\",\n    value: function buildRequestSettings(e, t) {\n      var _i$headers;\n      var i = t !== null && t !== void 0 ? t : {};\n      return (_i$headers = i.headers) !== null && _i$headers !== void 0 ? _i$headers : i.headers = {}, Object.assign(i.headers, this.buildHeadersFunc(e)), i;\n    }\n  }, {\n    key: \"keyAuthenticated\",\n    value: function keyAuthenticated(e, t) {\n      this.requestSettings = this.buildRequestSettings(t, this.requestSettings), this.key = t, e();\n    }\n    // prettier-ignore\n  }, {\n    key: \"verifyKey\",\n    value: function verifyKey(e, t) {\n      var _this$keyVerification = this.keyVerificationDetails,\n        i = _this$keyVerification.url,\n        n = _this$keyVerification.method,\n        r = _this$keyVerification.handleVerificationResult,\n        o = _this$keyVerification.createHeaders,\n        a = _this$keyVerification.body,\n        l = (o == null ? void 0 : o(e)) || this.buildHeadersFunc(e);\n      _.verifyKey(e, i, l, n, this.keyAuthenticated.bind(this, t.onSuccess), t.onFail, t.onLoad, r, a);\n    }\n  }, {\n    key: \"isDirectConnection\",\n    value: function isDirectConnection() {\n      return !0;\n    }\n  }]);\n  return U;\n}(Le);\nvar Ft = /*#__PURE__*/function () {\n  function Ft() {\n    _classCallCheck(this, Ft);\n  }\n  _createClass(Ft, null, [{\n    key: \"waitForPropertiesToBeUpdatedBeforeRender\",\n    value: function waitForPropertiesToBeUpdatedBeforeRender(e) {\n      e._propUpdated_ = !1, setTimeout(function () {\n        e._propUpdated_ ? Ft.waitForPropertiesToBeUpdatedBeforeRender(e) : (e._waitingToRender_ = !1, e.onRender());\n      });\n    }\n  }, {\n    key: \"attemptRender\",\n    value: function attemptRender(e) {\n      e._propUpdated_ = !0, e._waitingToRender_ || (e._waitingToRender_ = !0, Ft.waitForPropertiesToBeUpdatedBeforeRender(e));\n    }\n  }]);\n  return Ft;\n}();\nvar Ji = /*#__PURE__*/function (_HTMLElement) {\n  _inherits(He, _HTMLElement);\n  var _super2 = _createSuper(He);\n  // If this is not working, try using propertyName directly\n  function He() {\n    var _this7;\n    _classCallCheck(this, He);\n    _this7 = _super2.call(this), _this7._waitingToRender_ = !1, _this7._propUpdated_ = !1, Object.keys(He._attributeToProperty_).forEach(function (e) {\n      var t = He._attributeToProperty_[e];\n      _this7.constructPropertyAccessors(t), _this7.hasOwnProperty(e) || _this7.constructPropertyAccessors(t, e);\n    });\n    return _this7;\n  }\n  _createClass(He, [{\n    key: \"constructPropertyAccessors\",\n    value:\n    // need to be called here as accessors need to be set for the class instance\n    function constructPropertyAccessors(e, t) {\n      var i;\n      Object.defineProperty(this, t || e, {\n        get: function get() {\n          return i;\n        },\n        set: function set(o) {\n          i = o, t ? this[e] = o : Ft.attemptRender(this);\n        }\n      });\n    }\n  }, {\n    key: \"attributeChangedCallback\",\n    value: function attributeChangedCallback(e, t, i) {\n      if (t === i) return;\n      var n = He._attributes_[e](i),\n        r = He._attributeToProperty_[e];\n      this[r] = n;\n    }\n  }, {\n    key: \"onRender\",\n    value: function onRender() {}\n  }], [{\n    key: \"observedAttributes\",\n    get: function get() {\n      return Object.keys(He._attributes_) || [];\n    }\n  }]);\n  return He;\n}( /*#__PURE__*/_wrapNativeSuper(HTMLElement));\nJi._attributes_ = {};\nJi._attributeToProperty_ = {};\nvar vo = Ji;\nvar yo = \"<?xml version=\\\"1.0\\\" standalone=\\\"no\\\"?>\\n<svg version=\\\"1.1\\\"\\n\\txmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\" xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n\\txmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"0.9em\\\" height=\\\"0.9em\\\"\\n\\tviewBox=\\\"0 0 1200 1200\\\" enable-background=\\\"new 0 0 1200 1200\\\">\\n\\t\\t<path d=\\\"\\n\\t\\t\\tM669.727,273.516c-22.891-2.476-46.15-3.895-69.727-4.248c-103.025,0.457-209.823,25.517-310.913,73.536\\n\\t\\t\\tc-75.058,37.122-148.173,89.529-211.67,154.174C46.232,529.978,6.431,577.76,0,628.74c0.76,44.162,48.153,98.67,77.417,131.764\\n\\t\\t\\tc59.543,62.106,130.754,113.013,211.67,154.174c2.75,1.335,5.51,2.654,8.276,3.955l-75.072,131.102l102.005,60.286l551.416-960.033\\n\\t\\t\\tl-98.186-60.008L669.727,273.516z M902.563,338.995l-74.927,129.857c34.47,44.782,54.932,100.006,54.932,159.888\\n\\t\\t\\tc0,149.257-126.522,270.264-282.642,270.264c-6.749,0-13.29-0.728-19.922-1.172l-49.585,85.84c22.868,2.449,45.99,4.233,69.58,4.541\\n\\t\\t\\tc103.123-0.463,209.861-25.812,310.84-73.535c75.058-37.122,148.246-89.529,211.743-154.174\\n\\t\\t\\tc31.186-32.999,70.985-80.782,77.417-131.764c-0.76-44.161-48.153-98.669-77.417-131.763\\n\\t\\t\\tc-59.543-62.106-130.827-113.013-211.743-154.175C908.108,341.478,905.312,340.287,902.563,338.995L902.563,338.995z\\n\\t\\t\\tM599.927,358.478c6.846,0,13.638,0.274,20.361,0.732l-58.081,100.561c-81.514,16.526-142.676,85.88-142.676,168.897\\n\\t\\t\\tc0,20.854,3.841,40.819,10.913,59.325c0.008,0.021-0.008,0.053,0,0.074l-58.228,100.854\\n\\t\\t\\tc-34.551-44.823-54.932-100.229-54.932-160.182C317.285,479.484,443.808,358.477,599.927,358.478L599.927,358.478z M768.896,570.513\\n\\t\\t\\tL638.013,797.271c81.076-16.837,141.797-85.875,141.797-168.603C779.81,608.194,775.724,588.729,768.896,570.513L768.896,570.513z\\\"\\n\\t\\t\\t/>\\n</svg>\\n\",\n  xo = \"<?xml version=\\\"1.0\\\" standalone=\\\"no\\\"?>\\n<svg version=\\\"1.1\\\"\\n\\txmlns:sodipodi=\\\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\\\" xmlns:inkscape=\\\"http://www.inkscape.org/namespaces/inkscape\\\"\\n\\txmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" width=\\\"0.9em\\\" height=\\\"0.9em\\\"\\n\\tviewBox=\\\"0 0 1200 1200\\\" enable-background=\\\"new 0 0 1200 1200\\\">\\n\\t\\t<path id=\\\"path6686\\\" inkscape:connector-curvature=\\\"0\\\" d=\\\"M779.843,599.925c0,95.331-80.664,172.612-180.169,172.612\\n\\t\\t\\tc-99.504,0-180.168-77.281-180.168-172.612c0-95.332,80.664-172.612,180.168-172.612\\n\\t\\t\\tC699.179,427.312,779.843,504.594,779.843,599.925z M600,240.521c-103.025,0.457-209.814,25.538-310.904,73.557\\n\\t\\t\\tc-75.058,37.122-148.206,89.496-211.702,154.141C46.208,501.218,6.431,549,0,599.981c0.76,44.161,48.13,98.669,77.394,131.763\\n\\t\\t\\tc59.543,62.106,130.786,113.018,211.702,154.179c94.271,45.751,198.616,72.092,310.904,73.557\\n\\t\\t\\tc103.123-0.464,209.888-25.834,310.866-73.557c75.058-37.122,148.243-89.534,211.74-154.179\\n\\t\\t\\tc31.185-32.999,70.962-80.782,77.394-131.763c-0.76-44.161-48.13-98.671-77.394-131.764\\n\\t\\t\\tc-59.543-62.106-130.824-112.979-211.74-154.141C816.644,268.36,712.042,242.2,600,240.521z M599.924,329.769\\n\\t\\t\\tc156.119,0,282.675,120.994,282.675,270.251c0,149.256-126.556,270.25-282.675,270.25S317.249,749.275,317.249,600.02\\n\\t\\t\\tC317.249,450.763,443.805,329.769,599.924,329.769L599.924,329.769z\\\"/>\\n</svg>\\n\";\nvar q = /*#__PURE__*/function () {\n  function q() {\n    _classCallCheck(this, q);\n  }\n  _createClass(q, null, [{\n    key: \"createSVGElement\",\n    value: function createSVGElement(e) {\n      return new DOMParser().parseFromString(e, \"image/svg+xml\").documentElement;\n    }\n  }]);\n  return q;\n}();\nvar rs = /*#__PURE__*/function () {\n  function Ge() {\n    _classCallCheck(this, Ge);\n  }\n  _createClass(Ge, null, [{\n    key: \"changeVisibility\",\n    value:\n    // prettier-ignore\n    function changeVisibility(e, t, i, n) {\n      n.target.id === Ge.VISIBLE_ICON_ID ? (t.style.display = \"none\", i.style.display = \"block\", e.type = \"password\") : (t.style.display = \"block\", i.style.display = \"none\", e.type = \"text\");\n    }\n  }, {\n    key: \"createIconElement\",\n    value: function createIconElement(e, t) {\n      var i = q.createSVGElement(e);\n      return i.id = t, i.classList.add(\"visibility-icon\"), i;\n    }\n    // prettier-ignore\n  }, {\n    key: \"create\",\n    value: function create(e) {\n      var t = document.createElement(\"div\");\n      t.id = \"visibility-icon-container\";\n      var i = Ge.createIconElement(xo, Ge.VISIBLE_ICON_ID);\n      i.style.display = \"none\", t.appendChild(i);\n      var n = Ge.createIconElement(yo, \"not-visible-icon\");\n      return t.appendChild(n), t.onclick = Ge.changeVisibility.bind(this, e, i, n), t;\n    }\n  }]);\n  return Ge;\n}();\nrs.VISIBLE_ICON_ID = \"visible-icon\";\nvar Eo = rs;\nvar P = /*#__PURE__*/function () {\n  function P() {\n    _classCallCheck(this, P);\n  }\n  _createClass(P, null, [{\n    key: \"createCautionText\",\n    value: function createCautionText() {\n      var e = document.createElement(\"a\");\n      return e.classList.add(\"insert-key-input-help-text\"), e.innerText = \"Please exercise CAUTION when inserting your API key outside of deepchat.dev or localhost!!\", e;\n    }\n  }, {\n    key: \"createHelpLink\",\n    value: function createHelpLink(e) {\n      var t = document.createElement(\"a\");\n      return t.classList.add(\"insert-key-input-help-text\"), t.href = e, t.innerText = \"Find more info here\", t.target = \"_blank\", t;\n    }\n  }, {\n    key: \"createFailText\",\n    value: function createFailText() {\n      var e = document.createElement(\"div\");\n      return e.id = \"insert-key-input-invalid-text\", e.style.display = \"none\", e;\n    }\n  }, {\n    key: \"createHelpTextContainer\",\n    value: function createHelpTextContainer(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n      var i = document.createElement(\"div\");\n      i.id = \"insert-key-help-text-container\";\n      var n = document.createElement(\"div\");\n      n.id = \"insert-key-help-text-contents\";\n      var r = P.createFailText();\n      if (n.appendChild(r), e) {\n        var o = P.createHelpLink(e);\n        n.appendChild(o);\n      }\n      if (t === !0) {\n        var _o2 = P.createCautionText();\n        n.appendChild(_o2);\n      }\n      return i.appendChild(n), {\n        helpTextContainerElement: i,\n        failTextElement: r\n      };\n    }\n  }, {\n    key: \"onFail\",\n    value: function onFail(e, t, i, n) {\n      e.classList.replace(\"insert-key-input-valid\", \"insert-key-input-invalid\"), i.innerText = n, i.style.display = \"block\", t.innerText = \"Start\", e.classList.remove(\"loading\");\n    }\n  }, {\n    key: \"onLoad\",\n    value: function onLoad(e, t) {\n      e.classList.add(\"loading\"), t.innerHTML = '<div id=\"loading-ring\"></div>';\n    }\n    // prettier-ignore\n  }, {\n    key: \"verifyKey\",\n    value: function verifyKey(e, t, i) {\n      var n = e.value.trim();\n      i.verifyKey(n, t);\n    }\n    // prettier-ignore\n  }, {\n    key: \"addVerificationEvents\",\n    value: function addVerificationEvents(e, t, i, n, r) {\n      var o = {\n          onSuccess: n,\n          onFail: P.onFail.bind(this, e, t, i),\n          onLoad: P.onLoad.bind(this, e, t)\n        },\n        a = P.verifyKey.bind(this, e, o, r);\n      t.onclick = a, e.onkeydown = function (l) {\n        !e.classList.contains(\"loading\") && l.key === R.ENTER && a();\n      };\n    }\n  }, {\n    key: \"createStartButton\",\n    value: function createStartButton() {\n      var e = document.createElement(\"div\");\n      return e.id = \"start-button\", e.innerText = \"Start\", e;\n    }\n  }, {\n    key: \"onInputFocus\",\n    value: function onInputFocus(e) {\n      e.target.classList.replace(\"insert-key-input-invalid\", \"insert-key-input-valid\");\n    }\n  }, {\n    key: \"createInput\",\n    value: function createInput(e) {\n      var t = document.createElement(\"div\");\n      t.id = \"insert-key-input-container\";\n      var i = document.createElement(\"input\");\n      return i.id = \"insert-key-input\", i.placeholder = e || \"API Key\", i.type = \"password\", i.classList.add(\"insert-key-input-valid\"), i.onfocus = P.onInputFocus, t.appendChild(i), t;\n    }\n    // prettier-ignore\n  }, {\n    key: \"createContents\",\n    value: function createContents(e, t) {\n      var d;\n      var i = document.createElement(\"div\");\n      i.id = \"insert-key-contents\";\n      var n = P.createInput(t.insertKeyPlaceholderText),\n        r = n.children[0],\n        o = Eo.create(r);\n      n.appendChild(o), i.appendChild(n);\n      var a = P.createStartButton(),\n        _P$createHelpTextCont = P.createHelpTextContainer(t.getKeyLink, (d = t.deepChat._insertKeyViewStyles) == null ? void 0 : d.displayCautionText),\n        l = _P$createHelpTextCont.helpTextContainerElement,\n        c = _P$createHelpTextCont.failTextElement;\n      return i.appendChild(a), i.appendChild(l), P.addVerificationEvents(r, a, c, e, t), i;\n    }\n  }, {\n    key: \"createElements\",\n    value: function createElements(e, t) {\n      var i = document.createElement(\"div\");\n      i.id = \"insert-key-view\";\n      var n = P.createContents(e, t);\n      return i.appendChild(n), i;\n    }\n  }, {\n    key: \"render\",\n    value: function render(e, t, i) {\n      var n = P.createElements(t, i);\n      e.replaceChildren(n);\n    }\n  }]);\n  return P;\n}();\nvar yt = /*#__PURE__*/function () {\n  function pe() {\n    _classCallCheck(this, pe);\n  }\n  _createClass(pe, null, [{\n    key: \"enableButtons\",\n    value: function enableButtons(e, t) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      window.webLLM ? (e && (e.disabled = !1), t && (t.disabled = !1)) : i < $i.MODULE_SEARCH_LIMIT_S * 4 && setTimeout(function () {\n        return pe.enableButtons(e, t, i + 1);\n      }, 250);\n    }\n    // prettier-ignore\n  }, {\n    key: \"setUpInitial\",\n    value: function setUpInitial(e, t, i, n) {\n      var r = (t == null ? void 0 : t.downloadClass) || pe.DOWNLOAD_BUTTON_CLASS,\n        o = (t == null ? void 0 : t.uploadClass) || pe.UPLOAD_BUTTON_CLASS,\n        a = (t == null ? void 0 : t.fileInputClass) || pe.FILE_INPUT_CLASS;\n      return setTimeout(function () {\n        var l = i == null ? void 0 : i.getElementsByClassName(r)[0],\n          c = i == null ? void 0 : i.getElementsByClassName(a)[0],\n          d = i == null ? void 0 : i.getElementsByClassName(o)[0];\n        l && (l.onclick = function () {\n          return e();\n        }), c && (c.onchange = function () {\n          c.files && c.files.length > 0 && e(c.files);\n        }), d && (d.onclick = function () {\n          return c.click();\n        }), (l || d) && pe.enableButtons(l, d);\n      }), (t == null ? void 0 : t.initialHtml) || \"<div>\\n        Download or upload a web model that will run entirely on your browser: <br/> \\n        <button disabled class=\\\"\".concat(r, \" deep-chat-button deep-chat-web-model-button\\\">Download</button>\\n        \").concat(n ? \"\" : \"<input type=\\\"file\\\" class=\\\"\".concat(a, \"\\\" hidden multiple />\\n          <button disabled class=\\\"\").concat(o, \" deep-chat-button deep-chat-web-model-button\\\">Upload</button>\"), \"\\n      </div>\");\n    }\n  }, {\n    key: \"exportFile\",\n    value: function exportFile(e) {\n      var t = document.createElement(\"a\"),\n        i = 4;\n      var _loop2 = function _loop2(n) {\n        setTimeout(function () {\n          var r = n * i;\n          for (var o = r; o < Math.min(r + i, e.length); o += 1) {\n            var a = URL.createObjectURL(e[o]);\n            t.href = a, t.download = e[o].name, document.body.appendChild(t), t.click(), URL.revokeObjectURL(a);\n          }\n        }, 500 * n);\n      };\n      for (var n = 0; n < e.length / i; n += 1) {\n        _loop2(n);\n      }\n    }\n    // prettier-ignore\n  }, {\n    key: \"setUpAfterLoad\",\n    value: function setUpAfterLoad(e, t, i, n) {\n      var r = (t == null ? void 0 : t.exportFilesClass) || pe.EXPORT_BUTTON_CLASS;\n      return setTimeout(function () {\n        var o = i == null ? void 0 : i.getElementsByClassName(r)[0];\n        o && (o.onclick = function () {\n          return pe.exportFile(e);\n        });\n      }), (t == null ? void 0 : t.afterLoadHtml) || \"<div>\\n        Model loaded successfully and has been cached for future requests.\\n        \".concat(n ? \"\" : \"<br/> <button style=\\\"margin-top: 5px\\\" class=\\\"\".concat(r, \" deep-chat-button\\\">Export</button>\"), \"\\n      </div>\");\n    }\n  }]);\n  return pe;\n}();\nyt.DOWNLOAD_BUTTON_CLASS = \"deep-chat-download-button\";\nyt.UPLOAD_BUTTON_CLASS = \"deep-chat-upload-button\";\nyt.FILE_INPUT_CLASS = \"deep-chat-file-input\";\nyt.EXPORT_BUTTON_CLASS = \"deep-chat-export-button\";\nvar xn = yt;\nvar En = {\n    model_list: [{\n      model_url: \"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f32_1-MLC/resolve/main/\",\n      local_id: \"Llama-2-7b-chat-hf-q4f32_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f32_1-ctx4k_cs1k-webgpu.wasm\"\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f16_1-MLC/resolve/main/\",\n      local_id: \"Llama-2-7b-chat-hf-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/Llama-2-13b-chat-hf-q4f16_1-MLC/resolve/main/\",\n      local_id: \"Llama-2-13b-chat-hf-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-13b-chat-hf/Llama-2-13b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/Llama-2-70b-chat-hf-q4f16_1-MLC/resolve/main/\",\n      local_id: \"Llama-2-70b-chat-hf-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-70b-chat-hf/Llama-2-70b-chat-hf-q4f16_1-ctx4k_cs1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f16_1-MLC/resolve/main/\",\n      local_id: \"RedPajama-INCITE-Chat-3B-v1-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f16_1-ctx2k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f32_1-MLC/resolve/main/\",\n      local_id: \"RedPajama-INCITE-Chat-3B-v1-q4f32_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f32_1-ctx2k-webgpu.wasm\"\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/WizardMath-7B-V1.1-q4f16_1-MLC/resolve/main/\",\n      local_id: \"WizardMath-7B-V1.1-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/Mistral-7B-Instruct-v0.2-q4f16_1-MLC/resolve/main/\",\n      local_id: \"Mistral-7B-Instruct-v0.2-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/OpenHermes-2.5-Mistral-7B-q4f16_1-MLC/resolve/main/\",\n      local_id: \"OpenHermes-2.5-Mistral-7B-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/NeuralHermes-2.5-Mistral-7B-q4f16_1-MLC/resolve/main/\",\n      local_id: \"NeuralHermes-2.5-Mistral-7B-q4f16_1\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Mistral-7B-Instruct-v0.2/Mistral-7B-Instruct-v0.2-q4f16_1-sw4k_cs1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    },\n    // Models below fit for 128MB buffer limit (e.g. webgpu on Android)\n    {\n      model_url: \"https://huggingface.co/mlc-ai/Llama-2-7b-chat-hf-q4f16_1-MLC/resolve/main/\",\n      local_id: \"Llama-2-7b-chat-hf-q4f16_1-1k\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/Llama-2-7b-chat-hf/Llama-2-7b-chat-hf-q4f16_1-ctx1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f16_1-MLC/resolve/main/\",\n      local_id: \"RedPajama-INCITE-Chat-3B-v1-q4f16_1-1k\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f16_1-ctx1k-webgpu.wasm\",\n      required_features: [\"shader-f16\"]\n    }, {\n      model_url: \"https://huggingface.co/mlc-ai/RedPajama-INCITE-Chat-3B-v1-q4f32_1-MLC/resolve/main/\",\n      local_id: \"RedPajama-INCITE-Chat-3B-v1-q4f32_1-1k\",\n      model_lib_url: \"https://raw.githubusercontent.com/mlc-ai/binary-mlc-llm-libs/main/RedPajama-INCITE-Chat-3B-v1/RedPajama-INCITE-Chat-3B-v1-q4f32_1-ctx1k-webgpu.wasm\"\n    }],\n    use_web_worker: !0\n  },\n  et = /*#__PURE__*/function (_Le2) {\n    _inherits(M, _Le2);\n    var _super3 = _createSuper(M);\n    function M(e) {\n      var _this8;\n      _classCallCheck(this, M);\n      var t, i;\n      _this8 = _super3.call(this, e), _this8._isModelLoaded = !1, _this8._isModelLoading = !1, _this8._loadOnFirstMessage = !1, _this8._webModel = {}, _this8.permittedErrorPrefixes = [M.MULTIPLE_MODELS_ERROR, M.WEB_LLM_NOT_FOUND_ERROR, M.GENERIC_ERROR], _this8._conversationHistory = [], _typeof(e.webModel) == \"object\" && (_this8._webModel = e.webModel), (t = _this8._webModel.load) != null && t.clearCache && M.clearAllCache(), _this8.findModelInWindow(e), _this8.canSendMessage = _this8.canSubmit.bind(_assertThisInitialized(_this8)), _this8._chatEl = (i = e.shadowRoot) == null ? void 0 : i.children[0], e.initialMessages && M.setUpHistory(_this8._conversationHistory, e.initialMessages);\n      return _this8;\n    }\n    // need ref of messages object as web model exhibits unique behaviour to manipulate chat\n    _createClass(M, [{\n      key: \"setUpMessages\",\n      value: function setUpMessages(e) {\n        var _this9 = this;\n        this._messages = e, this._removeIntro = function () {\n          e.removeIntroductoryMessage(), _this9._removeIntro = void 0;\n        };\n      }\n    }, {\n      key: \"findModelInWindow\",\n      value: function findModelInWindow(e) {\n        var _this10 = this;\n        var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var i;\n        window.webLLM ? this.configureInit(this.shouldAddInitialMessage(e.introMessage)) : t > M.MODULE_SEARCH_LIMIT_S ? ((i = this._messages) == null || i.addNewErrorMessage(\"service\", M.WEB_LLM_NOT_FOUND_ERROR), console.error(\"The deep-chat-web-llm module has not been attached to the window object. Please see the following guide:\"), console.error(\"https://deepchat.dev/examples/externalModules\")) : setTimeout(function () {\n          return _this10.findModelInWindow(e, t + 1);\n        }, 1e3);\n      }\n    }, {\n      key: \"shouldAddInitialMessage\",\n      value: function shouldAddInitialMessage(e) {\n        var t;\n        return !e && this._webModel && ((t = this._webModel.introMessage) == null ? void 0 : t.displayed) !== !1;\n      }\n    }, {\n      key: \"scrollToTop\",\n      value: function scrollToTop(e) {\n        var _this11 = this;\n        var t;\n        ((t = this._webModel.introMessage) == null ? void 0 : t.autoScroll) !== !1 && setTimeout(function () {\n          var i, n;\n          (i = _this11._messages) != null && i.elementRef && Y.scrollToTop((n = _this11._messages) == null ? void 0 : n.elementRef);\n        }, e);\n      }\n      // prettier-ignore\n    }, {\n      key: \"getIntroMessage\",\n      value: function getIntroMessage(e) {\n        if (!this.shouldAddInitialMessage(e) || !this._chatEl) return;\n        var t = xn.setUpInitial(this.init.bind(this), this._webModel.introMessage, this._chatEl, !!this._webModel.worker);\n        return this.scrollToTop(1), {\n          role: v.AI_ROLE,\n          html: t,\n          sendUpdate: !1\n        };\n      }\n    }, {\n      key: \"configureInit\",\n      value: function () {\n        var _configureInit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee23(e) {\n          var t;\n          return _regeneratorRuntime().wrap(function _callee23$(_context23) {\n            while (1) switch (_context23.prev = _context23.next) {\n              case 0:\n                t = this._webModel.load;\n                if (!t) {\n                  _context23.next = 8;\n                  break;\n                }\n                if (!t.onInit) {\n                  _context23.next = 5;\n                  break;\n                }\n                this.init();\n                return _context23.abrupt(\"return\");\n              case 5:\n                if (!t.onMessage) {\n                  _context23.next = 8;\n                  break;\n                }\n                this._loadOnFirstMessage = !0;\n                return _context23.abrupt(\"return\");\n              case 8:\n                e || this.init();\n              case 9:\n              case \"end\":\n                return _context23.stop();\n            }\n          }, _callee23, this);\n        }));\n        function configureInit(_x45) {\n          return _configureInit.apply(this, arguments);\n        }\n        return configureInit;\n      }()\n    }, {\n      key: \"init\",\n      value: function () {\n        var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee24(e) {\n          var i, t;\n          return _regeneratorRuntime().wrap(function _callee24$(_context24) {\n            while (1) switch (_context24.prev = _context24.next) {\n              case 0:\n                (i = this._messages) == null || i.removeError();\n                t = this.attemptToCreateChat();\n                _context24.t0 = t;\n                if (!_context24.t0) {\n                  _context24.next = 6;\n                  break;\n                }\n                _context24.next = 6;\n                return this.loadModel(t, e);\n              case 6:\n              case \"end\":\n                return _context24.stop();\n            }\n          }, _callee24, this);\n        }));\n        function init(_x46) {\n          return _init.apply(this, arguments);\n        }\n        return init;\n      }()\n    }, {\n      key: \"attemptToCreateChat\",\n      value: function attemptToCreateChat() {\n        var t;\n        if (M.chat) {\n          (t = this._messages) == null || t.addNewErrorMessage(\"service\", M.MULTIPLE_MODELS_ERROR), console.error(M.MULTIPLE_MODELS_ERROR);\n          return;\n        }\n        if (this._isModelLoaded || this._isModelLoading) return;\n        var e = this._webModel.worker;\n        return En.use_web_worker && e ? new window.webLLM.ChatWorkerClient(e) : new window.webLLM.ChatModule();\n      }\n    }, {\n      key: \"getConfig\",\n      value: function getConfig() {\n        var i;\n        var e = M.DEFAULT_MODEL;\n        this._webModel.model && (e = this._webModel.model);\n        var t = JSON.parse(JSON.stringify(En));\n        if (this._webModel.urls) {\n          var n = t.model_list.find(function (r) {\n            return r.local_id = e;\n          });\n          n && (this._webModel.urls.model && (n.model_url = this._webModel.urls.model), this._webModel.urls.wasm && (n.model_lib_url = this._webModel.urls.wasm));\n        }\n        return (i = this._webModel.load) != null && i.skipCache && (t.use_cache = !1), {\n          model: e,\n          appConfig: t\n        };\n      }\n      // prettier-ignore\n    }, {\n      key: \"loadModel\",\n      value: function () {\n        var _loadModel = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee25(e, t) {\n          var _this12 = this;\n          var o, a, l, c, d, i, n, r, _this$getConfig, u, h, p, _u;\n          return _regeneratorRuntime().wrap(function _callee25$(_context25) {\n            while (1) switch (_context25.prev = _context25.next) {\n              case 0:\n                this.scrollToTop(), M.chat = e, this._isModelLoading = !0;\n                i = ((o = this._webModel.introMessage) == null ? void 0 : o.displayed) === !1;\n                n = function n(u) {\n                  var h;\n                  (h = _this12._messages) == null || h.addNewMessage({\n                    html: \"<div>\".concat(u.text, \"</div>\"),\n                    overwrite: !0,\n                    sendUpdate: !1\n                  }), i && (setTimeout(function () {\n                    var p;\n                    return Y.scrollToBottom((p = _this12._messages) == null ? void 0 : p.elementRef);\n                  }), i = !1);\n                };\n                M.chat.setInitProgressCallback(n);\n                _context25.prev = 4;\n                _this$getConfig = this.getConfig(), u = _this$getConfig.model, h = _this$getConfig.appConfig, p = {};\n                this._webModel.instruction && (p.conv_config = {\n                  system: this._webModel.instruction\n                });\n                this._conversationHistory.length > 0 && (p.conversation_history = this._conversationHistory);\n                _context25.next = 10;\n                return M.chat.reload(u, p, h, t);\n              case 10:\n                r = _context25.sent;\n                _context25.next = 16;\n                break;\n              case 13:\n                _context25.prev = 13;\n                _context25.t0 = _context25[\"catch\"](4);\n                return _context25.abrupt(\"return\", this.unloadChat(_context25.t0));\n              case 16:\n                if ((a = this._webModel.introMessage) != null && a.removeAfterLoad) this._webModel.introMessage.displayed === !1 ? (c = this._messages) == null || c.removeLastMessage() : (d = this._removeIntro) == null || d.call(this);else {\n                  _u = xn.setUpAfterLoad(r, this._webModel.introMessage, this._chatEl, !!this._webModel.worker);\n                  (l = this._messages) == null || l.addNewMessage({\n                    html: _u,\n                    overwrite: !0,\n                    sendUpdate: !1\n                  });\n                }\n                this._isModelLoaded = !0, this._isModelLoading = !1;\n              case 18:\n              case \"end\":\n                return _context25.stop();\n            }\n          }, _callee25, this, [[4, 13]]);\n        }));\n        function loadModel(_x47, _x48) {\n          return _loadModel.apply(this, arguments);\n        }\n        return loadModel;\n      }()\n    }, {\n      key: \"unloadChat\",\n      value: function () {\n        var _unloadChat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee26(e) {\n          var t;\n          return _regeneratorRuntime().wrap(function _callee26$(_context26) {\n            while (1) switch (_context26.prev = _context26.next) {\n              case 0:\n                (t = this._messages) == null || t.addNewErrorMessage(\"service\", M.GENERIC_ERROR);\n                console.error(e);\n                this._isModelLoaded = !1;\n                this._isModelLoading = !1;\n                _context26.t0 = M.chat;\n                if (!_context26.t0) {\n                  _context26.next = 9;\n                  break;\n                }\n                _context26.next = 8;\n                return M.chat.unload();\n              case 8:\n                M.chat = void 0;\n              case 9:\n              case \"end\":\n                return _context26.stop();\n            }\n          }, _callee26, this);\n        }));\n        function unloadChat(_x49) {\n          return _unloadChat.apply(this, arguments);\n        }\n        return unloadChat;\n      }()\n    }, {\n      key: \"immediateResp\",\n      value: function () {\n        var _immediateResp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee27(e, t, i) {\n          var n, r;\n          return _regeneratorRuntime().wrap(function _callee27$(_context27) {\n            while (1) switch (_context27.prev = _context27.next) {\n              case 0:\n                _context27.next = 2;\n                return i.generate(t, void 0, 0);\n              case 2:\n                _context27.t0 = _context27.sent;\n                n = {\n                  text: _context27.t0\n                };\n                _context27.next = 6;\n                return M.processResponse(this.deepChat, e, n);\n              case 6:\n                r = _context27.sent;\n                r && e.addNewMessage(r), this.completionsHandlers.onFinish();\n              case 8:\n              case \"end\":\n                return _context27.stop();\n            }\n          }, _callee27, this);\n        }));\n        function immediateResp(_x50, _x51, _x52) {\n          return _immediateResp.apply(this, arguments);\n        }\n        return immediateResp;\n      }()\n    }, {\n      key: \"streamResp\",\n      value: function () {\n        var _streamResp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee29(e, t, i) {\n          var _this13 = this;\n          var n;\n          return _regeneratorRuntime().wrap(function _callee29$(_context29) {\n            while (1) switch (_context29.prev = _context29.next) {\n              case 0:\n                this.streamHandlers.abortStream.abort = function () {\n                  i.interruptGenerate();\n                }, this.streamHandlers.onOpen();\n                n = new Ze(e);\n                _context29.next = 4;\n                return i.generate(t, /*#__PURE__*/function () {\n                  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee28(r, o) {\n                    var a;\n                    return _regeneratorRuntime().wrap(function _callee28$(_context28) {\n                      while (1) switch (_context28.prev = _context28.next) {\n                        case 0:\n                          _context28.next = 2;\n                          return M.processResponse(_this13.deepChat, e, {\n                            text: o\n                          });\n                        case 2:\n                          a = _context28.sent;\n                          a && n.upsertStreamedMessage({\n                            text: a.text,\n                            overwrite: !0\n                          });\n                        case 4:\n                        case \"end\":\n                          return _context28.stop();\n                      }\n                    }, _callee28);\n                  }));\n                  return function (_x56, _x57) {\n                    return _ref7.apply(this, arguments);\n                  };\n                }());\n              case 4:\n                n.finaliseStreamedMessage();\n                this.streamHandlers.onClose();\n              case 6:\n              case \"end\":\n                return _context29.stop();\n            }\n          }, _callee29, this);\n        }));\n        function streamResp(_x53, _x54, _x55) {\n          return _streamResp.apply(this, arguments);\n        }\n        return streamResp;\n      }()\n    }, {\n      key: \"generateRespByType\",\n      value: function () {\n        var _generateRespByType = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee30(e, t, i, n) {\n          var r;\n          return _regeneratorRuntime().wrap(function _callee30$(_context30) {\n            while (1) switch (_context30.prev = _context30.next) {\n              case 0:\n                _context30.prev = 0;\n                if (!i) {\n                  _context30.next = 6;\n                  break;\n                }\n                _context30.next = 4;\n                return this.streamResp(e, t, n);\n              case 4:\n                _context30.next = 8;\n                break;\n              case 6:\n                _context30.next = 8;\n                return this.immediateResp(e, t, n);\n              case 8:\n                _context30.next = 13;\n                break;\n              case 10:\n                _context30.prev = 10;\n                _context30.t0 = _context30[\"catch\"](0);\n                (r = this._messages) == null || r.addNewErrorMessage(\"service\"), console.log(_context30.t0);\n              case 13:\n              case \"end\":\n                return _context30.stop();\n            }\n          }, _callee30, this, [[0, 10]]);\n        }));\n        function generateRespByType(_x58, _x59, _x60, _x61) {\n          return _generateRespByType.apply(this, arguments);\n        }\n        return generateRespByType;\n      }()\n    }, {\n      key: \"generateResp\",\n      value: function () {\n        var _generateResp = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee31(e, t, i) {\n          var n, _yield$E$processReque5, r, o, a, l, c;\n          return _regeneratorRuntime().wrap(function _callee31$(_context31) {\n            while (1) switch (_context31.prev = _context31.next) {\n              case 0:\n                n = t[t.length - 1].text;\n                _context31.next = 3;\n                return E.processRequestInterceptor(this.deepChat, {\n                  body: {\n                    text: n\n                  }\n                });\n              case 3:\n                _yield$E$processReque5 = _context31.sent;\n                r = _yield$E$processReque5.body;\n                o = _yield$E$processReque5.error;\n                a = !!this.deepChat.stream;\n                try {\n                  if (o) E.displayError(e, new Error(o)), (a ? this.streamHandlers.onClose : this.completionsHandlers.onFinish)();else if (!r || !r.text) {\n                    l = C.INVALID_MODEL_REQUEST({\n                      body: r\n                    }, !1);\n                    console.error(l);\n                    c = a ? this.streamHandlers.onClose : this.completionsHandlers.onFinish;\n                    E.onInterceptorError(e, l, c);\n                  } else this.generateRespByType(e, r.text, !!this.deepChat.stream, i);\n                } catch (l) {\n                  this.unloadChat(l);\n                }\n              case 8:\n              case \"end\":\n                return _context31.stop();\n            }\n          }, _callee31, this);\n        }));\n        function generateResp(_x62, _x63, _x64) {\n          return _generateResp.apply(this, arguments);\n        }\n        return generateResp;\n      }()\n    }, {\n      key: \"callServiceAPI\",\n      value: function () {\n        var _callServiceAPI2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee32(e, t) {\n          var i, n;\n          return _regeneratorRuntime().wrap(function _callee32$(_context32) {\n            while (1) switch (_context32.prev = _context32.next) {\n              case 0:\n                if (this._isModelLoaded) {\n                  _context32.next = 7;\n                  break;\n                }\n                if (!this._loadOnFirstMessage) {\n                  _context32.next = 6;\n                  break;\n                }\n                _context32.next = 4;\n                return this.init();\n              case 4:\n                _context32.next = 7;\n                break;\n              case 6:\n                return _context32.abrupt(\"return\");\n              case 7:\n                !M.chat || this._isModelLoading || ((i = this._webModel.introMessage) != null && i.removeAfterMessage && ((n = this._removeIntro) == null || n.call(this)), e.addLoadingMessage(), this.generateResp(e, t, M.chat));\n              case 8:\n              case \"end\":\n                return _context32.stop();\n            }\n          }, _callee32, this);\n        }));\n        function callServiceAPI(_x65, _x66) {\n          return _callServiceAPI2.apply(this, arguments);\n        }\n        return callServiceAPI;\n      }()\n    }, {\n      key: \"canSubmit\",\n      value: function canSubmit(e) {\n        return !(e != null && e.trim()) || this._isModelLoading ? !1 : this._loadOnFirstMessage ? !0 : !!this._isModelLoaded;\n      }\n    }, {\n      key: \"isWebModel\",\n      value: function isWebModel() {\n        return !0;\n      }\n    }], [{\n      key: \"setUpHistory\",\n      value: function setUpHistory(e, t) {\n        t.forEach(function (i, n) {\n          if (i.role === v.USER_ROLE && i.text) {\n            var r = t[n + 1];\n            r != null && r.text && r.role !== v.USER_ROLE && e.push([i.text, r.text]);\n          }\n        });\n      }\n    }, {\n      key: \"processResponse\",\n      value: function () {\n        var _processResponse = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee33(e, t, i) {\n          var r, n, o;\n          return _regeneratorRuntime().wrap(function _callee33$(_context33) {\n            while (1) switch (_context33.prev = _context33.next) {\n              case 0:\n                _context33.next = 2;\n                return (r = e.responseInterceptor) == null ? void 0 : r.call(e, i);\n              case 2:\n                _context33.t0 = _context33.sent;\n                if (_context33.t0) {\n                  _context33.next = 5;\n                  break;\n                }\n                _context33.t0 = i;\n              case 5:\n                n = _context33.t0;\n                if (!n.error) {\n                  _context33.next = 11;\n                  break;\n                }\n                E.displayError(t, new Error(n.error));\n                return _context33.abrupt(\"return\");\n              case 11:\n                if (!(!n || !n.text)) {\n                  _context33.next = 15;\n                  break;\n                }\n                o = C.INVALID_MODEL_RESPONSE(i, !!e.responseInterceptor, n);\n                E.displayError(t, new Error(o));\n                return _context33.abrupt(\"return\");\n              case 15:\n                return _context33.abrupt(\"return\", n);\n              case 16:\n              case \"end\":\n                return _context33.stop();\n            }\n          }, _callee33);\n        }));\n        function processResponse(_x67, _x68, _x69) {\n          return _processResponse.apply(this, arguments);\n        }\n        return processResponse;\n      }()\n    }, {\n      key: \"clearAllCache\",\n      value: function clearAllCache() {\n        M.clearCache(\"webllm/model\"), M.clearCache(\"webllm/wasm\");\n      }\n    }, {\n      key: \"clearCache\",\n      value: function clearCache(e) {\n        caches.open(e).then(function (t) {\n          t.keys().then(function (i) {\n            i.forEach(function (n) {\n              t[\"delete\"](n);\n            });\n          });\n        });\n      }\n    }]);\n    return M;\n  }(Le);\net.GENERIC_ERROR = \"Error, please check the [troubleshooting](https://deepchat.dev/docs/webModel#troubleshooting) section of documentation for help.\";\net.MULTIPLE_MODELS_ERROR = \"Cannot run multiple web models\";\net.WEB_LLM_NOT_FOUND_ERROR = \"WebLLM module not found\";\net.DEFAULT_MODEL = \"Llama-2-7b-chat-hf-q4f32_1\";\net.MODULE_SEARCH_LIMIT_S = 5;\nvar $i = et;\nvar Bt = /*#__PURE__*/function () {\n  function Bt() {\n    _classCallCheck(this, Bt);\n  }\n  _createClass(Bt, null, [{\n    key: \"buildHeaders\",\n    value: function buildHeaders(e) {\n      return {\n        Authorization: \"Bearer \".concat(e),\n        \"Content-Type\": \"application/json\"\n        // bigcode/santacoder expects this so adding just-in-case\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleVerificationResult\",\n    value: function handleVerificationResult(e, t, i, n) {\n      var r = e;\n      Array.isArray(r.error) && r.error[0] === \"Error in `parameters`: field required\" ? i(t) : n(C.INVALID_KEY);\n    }\n  }, {\n    key: \"buildKeyVerificationDetails\",\n    value: function buildKeyVerificationDetails() {\n      return {\n        url: \"https://api-inference.huggingface.co/models/gpt2\",\n        method: \"POST\",\n        handleVerificationResult: Bt.handleVerificationResult\n      };\n    }\n  }]);\n  return Bt;\n}();\nvar os = /*#__PURE__*/function (_U) {\n  _inherits(ji, _U);\n  var _super4 = _createSuper(ji);\n  // prettier-ignore\n  function ji(e, t, i, n, r, o) {\n    var _this14;\n    _classCallCheck(this, ji);\n    _this14 = _super4.call(this, e, Bt.buildKeyVerificationDetails(), Bt.buildHeaders, r, o), _this14.insertKeyPlaceholderText = \"Hugging Face Token\", _this14.getKeyLink = \"https://huggingface.co/settings/tokens\", _this14.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Hugging Face</b></div>\\n    <p>First message may take an extented amount of time to complete as the model needs to be initialized.</p>\", _this14.permittedErrorPrefixes = [\"Authorization header\"], _this14.url = \"\".concat(ji.URL_PREFIX).concat(i), _this14.textInputPlaceholderText = t, _typeof(n) == \"object\" && (n.model && (_this14.url = \"\".concat(ji.URL_PREFIX).concat(n.model)), n.options && (_this14.rawBody.options = n.options), n.parameters && (_this14.rawBody.parameters = n.parameters));\n    return _this14;\n  }\n  // prettier-ignore\n  _createClass(ji, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t, i) {\n      var _n$options;\n      var n = JSON.parse(JSON.stringify(e)),\n        r = t[t.length - 1].text;\n      if (r) return (_n$options = n.options) !== null && _n$options !== void 0 ? _n$options : n.options = {}, n.options.wait_for_model = !0, _objectSpread({\n        inputs: r\n      }, n);\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee34(e, t, i) {\n        var n;\n        return _regeneratorRuntime().wrap(function _callee34$(_context34) {\n          while (1) switch (_context34.prev = _context34.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context34.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              n = this.preprocessBody(this.rawBody, t, i);\n              _.request(this, n, e);\n            case 4:\n            case \"end\":\n              return _context34.stop();\n          }\n        }, _callee34, this);\n      }));\n      function callServiceAPI(_x70, _x71, _x72) {\n        return _callServiceAPI3.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }]);\n  return ji;\n}(U);\nos.URL_PREFIX = \"https://api-inference.huggingface.co/models/\";\nvar Pe = os;\nvar xt = /*#__PURE__*/function (_Pe) {\n  _inherits(xt, _Pe);\n  var _super5 = _createSuper(xt);\n  // prettier-ignore\n  function xt(e, t, i, n, r, o) {\n    var _this15;\n    _classCallCheck(this, xt);\n    _this15 = _super5.call(this, e, t, i, n, r, o), _this15.isTextInputDisabled = !0, _this15.canSendMessage = xt.canSendFile;\n    return _this15;\n  }\n  _createClass(xt, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t, i) {\n      return i[0];\n    }\n    // prettier-ignore\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee35(e, t, i) {\n        return _regeneratorRuntime().wrap(function _callee35$(_context35) {\n          while (1) switch (_context35.prev = _context35.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context35.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (i != null && i[0]) {\n                _context35.next = 4;\n                break;\n              }\n              throw new Error(\"No file was added\");\n            case 4:\n              _.poll(this, i[0], e, !1);\n            case 5:\n            case \"end\":\n              return _context35.stop();\n          }\n        }, _callee35, this);\n      }));\n      function callServiceAPI(_x73, _x74, _x75) {\n        return _callServiceAPI4.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }], [{\n    key: \"canSendFile\",\n    value: function canSendFile(e, t) {\n      return !!(t != null && t[0]);\n    }\n  }]);\n  return xt;\n}(Pe);\nvar So = /*#__PURE__*/function (_xt) {\n  _inherits(So, _xt);\n  var _super6 = _createSuper(So);\n  // prettier-ignore\n  function So(e) {\n    _classCallCheck(this, So);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.audioClassification,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    return _super6.call(this, e, \"Attach an audio file\", \"ehcalabres/wav2vec2-lg-xlsr-en-speech-emotion-recognition\", t, i, {\n      audio: {}\n    });\n  }\n  _createClass(So, [{\n    key: \"extractPollResultData\",\n    value: function () {\n      var _extractPollResultData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee36(e) {\n        var t;\n        return _regeneratorRuntime().wrap(function _callee36$(_context36) {\n          while (1) switch (_context36.prev = _context36.next) {\n            case 0:\n              if (!e.estimated_time) {\n                _context36.next = 2;\n                break;\n              }\n              return _context36.abrupt(\"return\", {\n                timeoutMS: (e.estimated_time + 1) * 1e3\n              });\n            case 2:\n              if (!e.error) {\n                _context36.next = 4;\n                break;\n              }\n              throw e.error;\n            case 4:\n              return _context36.abrupt(\"return\", {\n                text: ((t = e[0]) == null ? void 0 : t.label) || \"\"\n              });\n            case 5:\n            case \"end\":\n              return _context36.stop();\n          }\n        }, _callee36);\n      }));\n      function extractPollResultData(_x76) {\n        return _extractPollResultData.apply(this, arguments);\n      }\n      return extractPollResultData;\n    }()\n  }]);\n  return So;\n}(xt);\nvar wo = /*#__PURE__*/function (_xt2) {\n  _inherits(wo, _xt2);\n  var _super7 = _createSuper(wo);\n  function wo(e) {\n    _classCallCheck(this, wo);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.imageClassification,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    return _super7.call(this, e, \"Attach an image file\", \"google/vit-base-patch16-224\", t, i, {\n      images: {}\n    });\n  }\n  _createClass(wo, [{\n    key: \"extractPollResultData\",\n    value: function () {\n      var _extractPollResultData2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee37(e) {\n        var t;\n        return _regeneratorRuntime().wrap(function _callee37$(_context37) {\n          while (1) switch (_context37.prev = _context37.next) {\n            case 0:\n              if (!e.estimated_time) {\n                _context37.next = 2;\n                break;\n              }\n              return _context37.abrupt(\"return\", {\n                timeoutMS: (e.estimated_time + 1) * 1e3\n              });\n            case 2:\n              if (!e.error) {\n                _context37.next = 4;\n                break;\n              }\n              throw e.error;\n            case 4:\n              return _context37.abrupt(\"return\", {\n                text: ((t = e[0]) == null ? void 0 : t.label) || \"\"\n              });\n            case 5:\n            case \"end\":\n              return _context37.stop();\n          }\n        }, _callee37);\n      }));\n      function extractPollResultData(_x77) {\n        return _extractPollResultData2.apply(this, arguments);\n      }\n      return extractPollResultData;\n    }()\n  }]);\n  return wo;\n}(xt);\nvar Et = \"data:image/png;base64,\";\nvar re = /*#__PURE__*/function () {\n  function re() {\n    _classCallCheck(this, re);\n  }\n  _createClass(re, null, [{\n    key: \"buildHeaders\",\n    value: function buildHeaders(e) {\n      return {\n        Authorization: \"Bearer \".concat(e),\n        \"Content-Type\": \"application/json\"\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleVerificationResult\",\n    value: function handleVerificationResult(e, t, i, n) {\n      e.message ? n(C.INVALID_KEY) : i(t);\n    }\n  }, {\n    key: \"buildKeyVerificationDetails\",\n    value: function buildKeyVerificationDetails() {\n      return {\n        url: \"https://api.stability.ai/v1/engines/list\",\n        method: \"GET\",\n        handleVerificationResult: re.handleVerificationResult\n      };\n    }\n  }]);\n  return re;\n}();\nvar ni = /*#__PURE__*/function (_U2) {\n  _inherits(ni, _U2);\n  var _super8 = _createSuper(ni);\n  // prettier-ignore\n  function ni(e, t, i, n, r) {\n    var _this16;\n    _classCallCheck(this, ni);\n    _this16 = _super8.call(this, e, t, i, n, r), _this16.insertKeyPlaceholderText = \"Stability AI API Key\", _this16.getKeyLink = \"https://platform.stability.ai/docs/getting-started/authentication\", _this16.permittedErrorPrefixes = [\"Incorrect\", \"invalid_\"];\n    return _this16;\n  }\n  return _createClass(ni);\n}(U);\nvar zt = /*#__PURE__*/function (_ni) {\n  _inherits(zt, _ni);\n  var _super9 = _createSuper(zt);\n  function zt(e) {\n    var _this17;\n    _classCallCheck(this, zt);\n    var o;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t == null ? void 0 : t.stabilityAI,\n      n = {\n        images: {\n          files: {\n            acceptedFormats: \".png\",\n            maxNumberOfFiles: 1\n          }\n        }\n      };\n    _this17 = _super9.call(this, e, re.buildKeyVerificationDetails(), re.buildHeaders, i, n), _this17.url = \"https://api.stability.ai/v1/generation/esrgan-v1-x2plus/image-to-image/upscale\", _this17.textInputPlaceholderText = \"Describe image changes\", _this17.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Stability AI</b></div>\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px; margin-top: 5px\\\"><b>Image to Image Upscale</b></div>\\n    <p>Upload an image to generate a new one with higher resolution.</p>\\n    <p>Click <a href=\\\"https://platform.stability.ai/\\\">here</a> for more info.</p>\";\n    var r = (o = t == null ? void 0 : t.stabilityAI) == null ? void 0 : o.imageToImageUpscale;\n    _typeof(r) == \"object\" && (r.engine_id && (_this17.url = \"https://api.stability.ai/v1/generation/\".concat(r.engine_id, \"/image-to-image/upscale\")), zt.cleanConfig(r), Object.assign(_this17.rawBody, r)), _this17.canSendMessage = zt.canSendFileMessage;\n    return _this17;\n  }\n  _createClass(zt, [{\n    key: \"createFormDataBody\",\n    value: function createFormDataBody(e, t) {\n      var i = new FormData();\n      return i.append(\"image\", t), Object.keys(e).forEach(function (n) {\n        i.append(n, String(e[n]));\n      }), i;\n    }\n    // prettier-ignore\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee38(e, t, i) {\n        var n;\n        return _regeneratorRuntime().wrap(function _callee38$(_context38) {\n          while (1) switch (_context38.prev = _context38.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context38.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (i) {\n                _context38.next = 4;\n                break;\n              }\n              throw new Error(\"Image was not found\");\n            case 4:\n              n = this.createFormDataBody(this.rawBody, i[0]);\n              E.tempRemoveContentHeader(this.requestSettings, _.request.bind(this, this, n, e), !1);\n            case 6:\n            case \"end\":\n              return _context38.stop();\n          }\n        }, _callee38, this);\n      }));\n      function callServiceAPI(_x78, _x79, _x80) {\n        return _callServiceAPI5.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee39(e) {\n        return _regeneratorRuntime().wrap(function _callee39$(_context39) {\n          while (1) switch (_context39.prev = _context39.next) {\n            case 0:\n              if (!e.message) {\n                _context39.next = 2;\n                break;\n              }\n              throw e.message;\n            case 2:\n              return _context39.abrupt(\"return\", {\n                files: e.artifacts.map(function (i) {\n                  return {\n                    src: \"\".concat(Et).concat(i.base64),\n                    type: \"image\"\n                  };\n                })\n              });\n            case 3:\n            case \"end\":\n              return _context39.stop();\n          }\n        }, _callee39);\n      }));\n      function extractResultData(_x81) {\n        return _extractResultData2.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }], [{\n    key: \"cleanConfig\",\n    value: function cleanConfig(e) {\n      delete e.engine_id;\n    }\n  }, {\n    key: \"canSendFileMessage\",\n    value: function canSendFileMessage(e, t) {\n      return !!(t != null && t[0]);\n    }\n  }]);\n  return zt;\n}(ni);\nvar Ut = /*#__PURE__*/function (_ni2) {\n  _inherits(Ut, _ni2);\n  var _super10 = _createSuper(Ut);\n  function Ut(e) {\n    var _this18;\n    _classCallCheck(this, Ut);\n    var o;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t == null ? void 0 : t.stabilityAI,\n      n = {\n        images: {\n          files: {\n            acceptedFormats: \".png\",\n            maxNumberOfFiles: 2\n          }\n        }\n      };\n    _this18 = _super10.call(this, e, re.buildKeyVerificationDetails(), re.buildHeaders, i, n), _this18.url = \"https://api.stability.ai/v1/generation/stable-diffusion-xl-1024-v1-0/image-to-image/masking\", _this18._maskSource = \"MASK_IMAGE_WHITE\", _this18.textInputPlaceholderText = \"Describe image changes\", _this18.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Stability AI</b></div>\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px; margin-top: 5px\\\"><b>Image to Image Masking</b></div>\\n    <p>Upload an image, its mask image to create a new one based on the changes you have described for the mask area.</p>\\n    <p>Click <a href=\\\"https://platform.stability.ai/\\\">here</a> for more info.</p>\";\n    var r = (o = t == null ? void 0 : t.stabilityAI) == null ? void 0 : o.imageToImageMasking;\n    _typeof(r) == \"object\" && (r.engine_id && (_this18.url = \"https://api.stability.ai/v1/generation/\".concat(r.engine_id, \"/image-to-image/masking\")), r.weight !== void 0 && r.weight !== null && (_this18._imageWeight = r.weight), r.mask_source !== void 0 && r.mask_source !== null && (_this18._maskSource = r.mask_source), Ut.cleanConfig(r), Object.assign(_this18.rawBody, r)), _this18.canSendMessage = Ut.canSendFileTextMessage;\n    return _this18;\n  }\n  _createClass(Ut, [{\n    key: \"createFormDataBody\",\n    value: function createFormDataBody(e, t, i, n) {\n      var r = new FormData();\n      return r.append(\"init_image\", t), r.append(\"mask_source\", String(this._maskSource)), r.append(\"mask_image\", i), n && n !== \"\" && r.append(\"text_prompts[0][text]\", n), this._imageWeight !== void 0 && this._imageWeight !== null && r.append(\"text_prompts[0][weight]\", String(this._imageWeight)), Object.keys(e).forEach(function (o) {\n        r.append(o, String(e[o]));\n      }), r.get(\"weight\") === void 0 && r.append(\"weight\", String(1)), r;\n    }\n    // prettier-ignore\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee40(e, t, i) {\n        var o, a, n, r;\n        return _regeneratorRuntime().wrap(function _callee40$(_context40) {\n          while (1) switch (_context40.prev = _context40.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context40.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (!(!i || !i[0] || !i[1])) {\n                _context40.next = 4;\n                break;\n              }\n              throw new Error(\"Image was not found\");\n            case 4:\n              n = (a = (o = t[t.length - 1]) == null ? void 0 : o.text) == null ? void 0 : a.trim(), r = this.createFormDataBody(this.rawBody, i[0], i[1], n);\n              E.tempRemoveContentHeader(this.requestSettings, _.request.bind(this, this, r, e), !1);\n            case 6:\n            case \"end\":\n              return _context40.stop();\n          }\n        }, _callee40, this);\n      }));\n      function callServiceAPI(_x82, _x83, _x84) {\n        return _callServiceAPI6.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee41(e) {\n        return _regeneratorRuntime().wrap(function _callee41$(_context41) {\n          while (1) switch (_context41.prev = _context41.next) {\n            case 0:\n              if (!e.message) {\n                _context41.next = 2;\n                break;\n              }\n              throw e.message;\n            case 2:\n              return _context41.abrupt(\"return\", {\n                files: e.artifacts.map(function (i) {\n                  return {\n                    src: \"\".concat(Et).concat(i.base64),\n                    type: \"image\"\n                  };\n                })\n              });\n            case 3:\n            case \"end\":\n              return _context41.stop();\n          }\n        }, _callee41);\n      }));\n      function extractResultData(_x85) {\n        return _extractResultData3.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }], [{\n    key: \"cleanConfig\",\n    value: function cleanConfig(e) {\n      delete e.engine_id, delete e.weight;\n    }\n  }, {\n    key: \"canSendFileTextMessage\",\n    value: function canSendFileTextMessage(e, t) {\n      return !!(t != null && t[0]) && !!(e && e.trim() !== \"\");\n    }\n  }]);\n  return Ut;\n}(ni);\nvar _o = /*#__PURE__*/function (_xt3) {\n  _inherits(_o, _xt3);\n  var _super11 = _createSuper(_o);\n  function _o(e) {\n    _classCallCheck(this, _o);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.audioSpeechRecognition,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    return _super11.call(this, e, \"Attach an audio file\", \"facebook/wav2vec2-large-960h-lv60-self\", t, i, {\n      audio: {}\n    });\n  }\n  _createClass(_o, [{\n    key: \"extractPollResultData\",\n    value: function () {\n      var _extractPollResultData3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee42(e) {\n        return _regeneratorRuntime().wrap(function _callee42$(_context42) {\n          while (1) switch (_context42.prev = _context42.next) {\n            case 0:\n              if (!e.estimated_time) {\n                _context42.next = 2;\n                break;\n              }\n              return _context42.abrupt(\"return\", {\n                timeoutMS: (e.estimated_time + 1) * 1e3\n              });\n            case 2:\n              if (!e.error) {\n                _context42.next = 4;\n                break;\n              }\n              throw e.error;\n            case 4:\n              return _context42.abrupt(\"return\", {\n                text: e.text || \"\"\n              });\n            case 5:\n            case \"end\":\n              return _context42.stop();\n          }\n        }, _callee42);\n      }));\n      function extractPollResultData(_x86) {\n        return _extractPollResultData3.apply(this, arguments);\n      }\n      return extractPollResultData;\n    }()\n  }]);\n  return _o;\n}(xt);\nvar Mo = /*#__PURE__*/function (_Pe2) {\n  _inherits(Mo, _Pe2);\n  var _super12 = _createSuper(Mo);\n  function Mo(e) {\n    _classCallCheck(this, Mo);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.textGeneration,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    return _super12.call(this, e, \"Once upon a time\", \"gpt2\", t, i);\n  }\n  _createClass(Mo, [{\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee43(e) {\n        return _regeneratorRuntime().wrap(function _callee43$(_context43) {\n          while (1) switch (_context43.prev = _context43.next) {\n            case 0:\n              if (!e.error) {\n                _context43.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              return _context43.abrupt(\"return\", {\n                text: e[0].generated_text || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context43.stop();\n          }\n        }, _callee43);\n      }));\n      function extractResultData(_x87) {\n        return _extractResultData4.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Mo;\n}(Pe);\nvar To = /*#__PURE__*/function (_Pe3) {\n  _inherits(To, _Pe3);\n  var _super13 = _createSuper(To);\n  function To(e) {\n    var _this19;\n    _classCallCheck(this, To);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.questionAnswer,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    _this19 = _super13.call(this, e, \"Ask a question\", \"bert-large-uncased-whole-word-masking-finetuned-squad\", t, i), _this19.permittedErrorPrefixes = [\"Authorization header\", \"Error in\"], _this19.context = t.context;\n    return _this19;\n  }\n  _createClass(To, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = t[t.length - 1].text;\n      if (i) return {\n        inputs: {\n          question: i,\n          context: this.context,\n          options: {\n            wait_for_model: !0\n          }\n        }\n      };\n    }\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee44(e) {\n        return _regeneratorRuntime().wrap(function _callee44$(_context44) {\n          while (1) switch (_context44.prev = _context44.next) {\n            case 0:\n              if (!e.error) {\n                _context44.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              return _context44.abrupt(\"return\", {\n                text: e.answer || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context44.stop();\n          }\n        }, _callee44);\n      }));\n      function extractResultData(_x88) {\n        return _extractResultData5.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return To;\n}(Pe);\nvar Co = /*#__PURE__*/function (_Pe4) {\n  _inherits(Co, _Pe4);\n  var _super14 = _createSuper(Co);\n  function Co(e) {\n    _classCallCheck(this, Co);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.summarization,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    return _super14.call(this, e, \"Insert text to summarize\", \"facebook/bart-large-cnn\", t, i);\n  }\n  _createClass(Co, [{\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee45(e) {\n        return _regeneratorRuntime().wrap(function _callee45$(_context45) {\n          while (1) switch (_context45.prev = _context45.next) {\n            case 0:\n              if (!e.error) {\n                _context45.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              return _context45.abrupt(\"return\", {\n                text: e[0].summary_text || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context45.stop();\n          }\n        }, _callee45);\n      }));\n      function extractResultData(_x89) {\n        return _extractResultData6.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Co;\n}(Pe);\nvar Ao = /*#__PURE__*/function (_Pe5) {\n  _inherits(Ao, _Pe5);\n  var _super15 = _createSuper(Ao);\n  function Ao(e) {\n    var _this20$maxMessages;\n    var _this20;\n    _classCallCheck(this, Ao);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.conversation,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    _this20 = _super15.call(this, e, \"Ask me anything!\", \"facebook/blenderbot-400M-distill\", t, i), (_this20$maxMessages = _this20.maxMessages) !== null && _this20$maxMessages !== void 0 ? _this20$maxMessages : _this20.maxMessages = -1;\n    return _this20;\n  }\n  // prettier-ignore\n  _createClass(Ao, [{\n    key: \"processMessages\",\n    value: function processMessages(e) {\n      var t = e.filter(function (a) {\n          return a.text;\n        }),\n        i = t[t.length - 1].text,\n        n = t.slice(0, t.length - 1);\n      if (!i) return;\n      var r = n.filter(function (a) {\n          return a.role === \"user\";\n        }).map(function (a) {\n          return a.text;\n        }),\n        o = n.filter(function (a) {\n          return a.role === \"ai\";\n        }).map(function (a) {\n          return a.text;\n        });\n      return {\n        past_user_inputs: r,\n        generated_responses: o,\n        mostRecentMessageText: i\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var _i$options;\n      var i = JSON.parse(JSON.stringify(e)),\n        n = this.processMessages(t);\n      if (n) return (_i$options = i.options) !== null && _i$options !== void 0 ? _i$options : i.options = {}, i.options.wait_for_model = !0, _objectSpread({\n        inputs: {\n          past_user_inputs: n.past_user_inputs,\n          generated_responses: n.generated_responses,\n          text: n.mostRecentMessageText\n        }\n      }, i);\n    }\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee46(e) {\n        return _regeneratorRuntime().wrap(function _callee46$(_context46) {\n          while (1) switch (_context46.prev = _context46.next) {\n            case 0:\n              if (!e.error) {\n                _context46.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              return _context46.abrupt(\"return\", {\n                text: e.generated_text || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context46.stop();\n          }\n        }, _callee46);\n      }));\n      function extractResultData(_x90) {\n        return _extractResultData7.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Ao;\n}(Pe);\nvar qt = /*#__PURE__*/function (_ni3) {\n  _inherits(qt, _ni3);\n  var _super16 = _createSuper(qt);\n  function qt(e) {\n    var _this21;\n    _classCallCheck(this, qt);\n    var o;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t.stabilityAI,\n      n = {\n        images: {\n          files: {\n            acceptedFormats: \".png\",\n            maxNumberOfFiles: 1\n          }\n        }\n      };\n    _this21 = _super16.call(this, e, re.buildKeyVerificationDetails(), re.buildHeaders, i, n), _this21.url = \"https://api.stability.ai/v1/generation/stable-diffusion-v1-6/image-to-image\", _this21.textInputPlaceholderText = \"Describe image changes\", _this21.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Stability AI: Image to Image</b></div>\\n    <p>Upload an image to create a new one with the changes you have described.</p>\\n    <p>Click <a href=\\\"https://platform.stability.ai/\\\">here</a> for more info.</p>\";\n    var r = (o = t.stabilityAI) == null ? void 0 : o.imageToImage;\n    _typeof(r) == \"object\" && (r.engine_id && (_this21.url = \"https://api.stability.ai/v1/generation/\".concat(r.engine_id, \"/text-to-image\")), r.weight !== void 0 && r.weight !== null && (_this21._imageWeight = r.weight), qt.cleanConfig(r), Object.assign(_this21.rawBody, r)), _this21.canSendMessage = qt.canSendFileTextMessage;\n    return _this21;\n  }\n  _createClass(qt, [{\n    key: \"createFormDataBody\",\n    value: function createFormDataBody(e, t, i) {\n      var n = new FormData();\n      return n.append(\"init_image\", t), i && i !== \"\" && n.append(\"text_prompts[0][text]\", i), this._imageWeight !== void 0 && this._imageWeight !== null && n.append(\"text_prompts[0][weight]\", String(this._imageWeight)), Object.keys(e).forEach(function (r) {\n        n.append(r, String(e[r]));\n      }), n.get(\"weight\") === void 0 && n.append(\"weight\", String(1)), n;\n    }\n    // prettier-ignore\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee47(e, t, i) {\n        var o, a, n, r;\n        return _regeneratorRuntime().wrap(function _callee47$(_context47) {\n          while (1) switch (_context47.prev = _context47.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context47.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (i) {\n                _context47.next = 4;\n                break;\n              }\n              throw new Error(\"Image was not found\");\n            case 4:\n              n = (a = (o = t[t.length - 1]) == null ? void 0 : o.text) == null ? void 0 : a.trim(), r = this.createFormDataBody(this.rawBody, i[0], n);\n              E.tempRemoveContentHeader(this.requestSettings, _.request.bind(this, this, r, e), !1);\n            case 6:\n            case \"end\":\n              return _context47.stop();\n          }\n        }, _callee47, this);\n      }));\n      function callServiceAPI(_x91, _x92, _x93) {\n        return _callServiceAPI7.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee48(e) {\n        return _regeneratorRuntime().wrap(function _callee48$(_context48) {\n          while (1) switch (_context48.prev = _context48.next) {\n            case 0:\n              if (!e.message) {\n                _context48.next = 2;\n                break;\n              }\n              throw e.message;\n            case 2:\n              return _context48.abrupt(\"return\", {\n                files: e.artifacts.map(function (i) {\n                  return {\n                    src: \"\".concat(Et).concat(i.base64),\n                    type: \"image\"\n                  };\n                })\n              });\n            case 3:\n            case \"end\":\n              return _context48.stop();\n          }\n        }, _callee48);\n      }));\n      function extractResultData(_x94) {\n        return _extractResultData8.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }], [{\n    key: \"cleanConfig\",\n    value: function cleanConfig(e) {\n      delete e.engine_id, delete e.weight;\n    }\n  }, {\n    key: \"canSendFileTextMessage\",\n    value: function canSendFileTextMessage(e, t) {\n      return !!(t != null && t[0]) && !!(e && e.trim() !== \"\");\n    }\n  }]);\n  return qt;\n}(ni);\nvar ko = /*#__PURE__*/function (_Pe6) {\n  _inherits(ko, _Pe6);\n  var _super17 = _createSuper(ko);\n  function ko(e) {\n    _classCallCheck(this, ko);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.translation,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    return _super17.call(this, e, \"Insert text to translate\", \"Helsinki-NLP/opus-tatoeba-en-ja\", t, i);\n  }\n  _createClass(ko, [{\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee49(e) {\n        return _regeneratorRuntime().wrap(function _callee49$(_context49) {\n          while (1) switch (_context49.prev = _context49.next) {\n            case 0:\n              if (!e.error) {\n                _context49.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              return _context49.abrupt(\"return\", {\n                text: e[0].translation_text || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context49.stop();\n          }\n        }, _callee49);\n      }));\n      function extractResultData(_x95) {\n        return _extractResultData9.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return ko;\n}(Pe);\nvar Ht = /*#__PURE__*/function (_ni4) {\n  _inherits(Ht, _ni4);\n  var _super18 = _createSuper(Ht);\n  function Ht(e) {\n    var _this22;\n    _classCallCheck(this, Ht);\n    var r;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t.stabilityAI;\n    _this22 = _super18.call(this, e, re.buildKeyVerificationDetails(), re.buildHeaders, i), _this22.url = \"https://api.stability.ai/v1/generation/stable-diffusion-v1-6/text-to-image\", _this22.textInputPlaceholderText = \"Describe an image\", _this22.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Stability AI: Text to Image</b></div>\\n    <p>Insert text to generate an image.</p>\\n    <p>Click <a href=\\\"https://platform.stability.ai/\\\">here</a> for more info.</p>\";\n    var n = (r = t.stabilityAI) == null ? void 0 : r.textToImage;\n    _typeof(n) == \"object\" && (n.engine_id && (_this22.url = \"https://api.stability.ai/v1/generation/\".concat(n.engine_id, \"/text-to-image\")), n.weight !== void 0 && n.weight !== null && (_this22._imageWeight = n.weight), Ht.cleanConfig(n), Object.assign(_this22.rawBody, n)), _this22.canSendMessage = Ht.canSendTextMessage;\n    return _this22;\n  }\n  _createClass(Ht, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = JSON.parse(JSON.stringify(e)),\n        n = {\n          text: t\n        };\n      return this._imageWeight && (n.weight = this._imageWeight), i.text_prompts = [n], i;\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee50(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee50$(_context50) {\n          while (1) switch (_context50.prev = _context50.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context50.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(this.rawBody, t[t.length - 1].text);\n              _.request(this, i, e);\n            case 4:\n            case \"end\":\n              return _context50.stop();\n          }\n        }, _callee50, this);\n      }));\n      function callServiceAPI(_x96, _x97) {\n        return _callServiceAPI8.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee51(e) {\n        return _regeneratorRuntime().wrap(function _callee51$(_context51) {\n          while (1) switch (_context51.prev = _context51.next) {\n            case 0:\n              if (!e.message) {\n                _context51.next = 2;\n                break;\n              }\n              throw e.message;\n            case 2:\n              return _context51.abrupt(\"return\", {\n                files: e.artifacts.map(function (i) {\n                  return {\n                    src: \"\".concat(Et).concat(i.base64),\n                    type: \"image\"\n                  };\n                })\n              });\n            case 3:\n            case \"end\":\n              return _context51.stop();\n          }\n        }, _callee51);\n      }));\n      function extractResultData(_x98) {\n        return _extractResultData10.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }], [{\n    key: \"cleanConfig\",\n    value: function cleanConfig(e) {\n      delete e.engine_id, delete e.weight;\n    }\n  }, {\n    key: \"canSendTextMessage\",\n    value: function canSendTextMessage(e) {\n      return !!(e && e.trim() !== \"\");\n    }\n  }]);\n  return Ht;\n}(ni);\nvar Io = /*#__PURE__*/function (_Pe7) {\n  _inherits(Io, _Pe7);\n  var _super19 = _createSuper(Io);\n  function Io(e) {\n    var _this23;\n    _classCallCheck(this, Io);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.huggingFace) == null ? void 0 : r.fillMask,\n      i = (o = e.directConnection) == null ? void 0 : o.huggingFace;\n    _this23 = _super19.call(this, e, \"The goal of life is [MASK].\", \"bert-base-uncased\", t, i), _this23.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Hugging Face</b></div>\\n    <p>Insert a sentence with the word [MASK] and the model will try to fill it for you. E.g. I want [MASK].</p>\\n    <p>First message may take an extented amount of time to complete as the model needs to be initialized.</p>\", _this23.permittedErrorPrefixes = [\"Authorization header\", \"No mask_token\"];\n    return _this23;\n  }\n  _createClass(Io, [{\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee52(e) {\n        return _regeneratorRuntime().wrap(function _callee52$(_context52) {\n          while (1) switch (_context52.prev = _context52.next) {\n            case 0:\n              if (!e.error) {\n                _context52.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              return _context52.abrupt(\"return\", {\n                text: e[0].sequence || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context52.stop();\n          }\n        }, _callee52);\n      }));\n      function extractResultData(_x99) {\n        return _extractResultData11.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Io;\n}(Pe);\nvar Gt = /*#__PURE__*/function () {\n  function Gt() {\n    _classCallCheck(this, Gt);\n  }\n  _createClass(Gt, null, [{\n    key: \"buildHeaders\",\n    value: function buildHeaders(e) {\n      return {\n        Authorization: \"Bearer \".concat(e),\n        \"Content-Type\": \"application/json\",\n        accept: \"application/json\"\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleVerificationResult\",\n    value: function handleVerificationResult(e, t, i, n) {\n      var o;\n      (o = e.message) != null && o.includes(\"invalid request: prompt must be at least 1 token long\") ? i(t) : n(C.INVALID_KEY);\n    }\n  }, {\n    key: \"buildKeyVerificationDetails\",\n    value: function buildKeyVerificationDetails() {\n      return {\n        url: \"https://api.cohere.ai/v1/generate\",\n        method: \"POST\",\n        handleVerificationResult: Gt.handleVerificationResult,\n        body: JSON.stringify({\n          prompt: \"\"\n        })\n      };\n    }\n  }]);\n  return Gt;\n}();\nvar Yi = /*#__PURE__*/function (_U3) {\n  _inherits(Yi, _U3);\n  var _super20 = _createSuper(Yi);\n  function Yi(e, t, i, n, r) {\n    var _this24;\n    _classCallCheck(this, Yi);\n    _this24 = _super20.call(this, e, Gt.buildKeyVerificationDetails(), Gt.buildHeaders, r), _this24.insertKeyPlaceholderText = \"Cohere API Key\", _this24.getKeyLink = \"https://dashboard.cohere.ai/api-keys\", _this24.permittedErrorPrefixes = [\"invalid\"], _this24.url = t, _this24.textInputPlaceholderText = i, n && _typeof(n) == \"object\" && Object.assign(_this24.rawBody, n);\n    return _this24;\n  }\n  return _createClass(Yi);\n}(U);\nvar Lo = /*#__PURE__*/function (_Yi) {\n  _inherits(Lo, _Yi);\n  var _super21 = _createSuper(Lo);\n  function Lo(e) {\n    _classCallCheck(this, Lo);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.cohere) == null ? void 0 : r.textGeneration,\n      i = (o = e.directConnection) == null ? void 0 : o.cohere;\n    return _super21.call(this, e, \"https://api.cohere.ai/v1/generate\", \"Once upon a time\", t, i);\n  }\n  _createClass(Lo, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = JSON.parse(JSON.stringify(e)),\n        n = t[t.length - 1].text;\n      if (n) return _objectSpread({\n        prompt: n\n      }, i);\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee53(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee53$(_context53) {\n          while (1) switch (_context53.prev = _context53.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context53.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(this.rawBody, t);\n              _.request(this, i, e);\n            case 4:\n            case \"end\":\n              return _context53.stop();\n          }\n        }, _callee53, this);\n      }));\n      function callServiceAPI(_x100, _x101) {\n        return _callServiceAPI9.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee54(e) {\n        var t;\n        return _regeneratorRuntime().wrap(function _callee54$(_context54) {\n          while (1) switch (_context54.prev = _context54.next) {\n            case 0:\n              if (!e.message) {\n                _context54.next = 2;\n                break;\n              }\n              throw e.message;\n            case 2:\n              return _context54.abrupt(\"return\", {\n                text: ((t = e.generations) == null ? void 0 : t[0].text) || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context54.stop();\n          }\n        }, _callee54);\n      }));\n      function extractResultData(_x102) {\n        return _extractResultData12.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Lo;\n}(Yi);\nvar Ro = /*#__PURE__*/function (_Yi2) {\n  _inherits(Ro, _Yi2);\n  var _super22 = _createSuper(Ro);\n  function Ro(e) {\n    _classCallCheck(this, Ro);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.cohere) == null ? void 0 : r.summarization,\n      i = (o = e.directConnection) == null ? void 0 : o.cohere;\n    return _super22.call(this, e, \"https://api.cohere.ai/v1/summarize\", \"Insert text to summarize\", t, i);\n  }\n  _createClass(Ro, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = JSON.parse(JSON.stringify(e)),\n        n = t[t.length - 1].text;\n      if (n) return _objectSpread({\n        text: n\n      }, i);\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee55(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee55$(_context55) {\n          while (1) switch (_context55.prev = _context55.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context55.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(this.rawBody, t);\n              _.request(this, i, e);\n            case 4:\n            case \"end\":\n              return _context55.stop();\n          }\n        }, _callee55, this);\n      }));\n      function callServiceAPI(_x103, _x104) {\n        return _callServiceAPI10.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee56(e) {\n        return _regeneratorRuntime().wrap(function _callee56$(_context56) {\n          while (1) switch (_context56.prev = _context56.next) {\n            case 0:\n              if (!e.message) {\n                _context56.next = 2;\n                break;\n              }\n              throw e.message;\n            case 2:\n              return _context56.abrupt(\"return\", {\n                text: e.summary || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context56.stop();\n          }\n        }, _callee56);\n      }));\n      function extractResultData(_x105) {\n        return _extractResultData13.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Ro;\n}(Yi);\nvar O = /*#__PURE__*/function () {\n  function O() {\n    _classCallCheck(this, O);\n  }\n  _createClass(O, null, [{\n    key: \"buildHeaders\",\n    value: function buildHeaders(e) {\n      return {\n        Authorization: \"Bearer \".concat(e),\n        \"Content-Type\": \"application/json\"\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleVerificationResult\",\n    value: function handleVerificationResult(e, t, i, n) {\n      var r = e;\n      r.error ? r.error.code === \"invalid_api_key\" ? n(C.INVALID_KEY) : n(C.CONNECTION_FAILED) : i(t);\n    }\n  }, {\n    key: \"buildKeyVerificationDetails\",\n    value: function buildKeyVerificationDetails() {\n      return {\n        url: \"https://api.openai.com/v1/models\",\n        method: \"GET\",\n        handleVerificationResult: O.handleVerificationResult\n      };\n    }\n  }, {\n    key: \"storeFiles\",\n    value: function () {\n      var _storeFiles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee58(e, t, i) {\n        var n, r, o, a;\n        return _regeneratorRuntime().wrap(function _callee58$(_context58) {\n          while (1) switch (_context58.prev = _context58.next) {\n            case 0:\n              n = e.requestSettings.headers;\n              if (n) {\n                _context58.next = 3;\n                break;\n              }\n              return _context58.abrupt(\"return\");\n            case 3:\n              e.url = \"https://api.openai.com/v1/files\";\n              r = n[E.CONTENT_TYPE];\n              delete n[E.CONTENT_TYPE];\n              o = i.map( /*#__PURE__*/function () {\n                var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee57(a) {\n                  var l;\n                  return _regeneratorRuntime().wrap(function _callee57$(_context57) {\n                    while (1) switch (_context57.prev = _context57.next) {\n                      case 0:\n                        l = new FormData();\n                        return _context57.abrupt(\"return\", (l.append(\"purpose\", \"assistants\"), l.append(\"file\", a), new Promise(function (c) {\n                          c(O.directFetch(e, l, \"POST\", !1));\n                        })));\n                      case 2:\n                      case \"end\":\n                        return _context57.stop();\n                    }\n                  }, _callee57);\n                }));\n                return function (_x109) {\n                  return _ref8.apply(this, arguments);\n                };\n              }());\n              _context58.prev = 7;\n              _context58.next = 10;\n              return Promise.all(o);\n            case 10:\n              a = _context58.sent.map(function (l) {\n                return l.id;\n              });\n              return _context58.abrupt(\"return\", (n[E.CONTENT_TYPE] = r, a));\n            case 14:\n              _context58.prev = 14;\n              _context58.t0 = _context58[\"catch\"](7);\n              throw n[E.CONTENT_TYPE] = r, E.displayError(t, _context58.t0), e.completionsHandlers.onFinish(), _context58.t0;\n            case 17:\n            case \"end\":\n              return _context58.stop();\n          }\n        }, _callee58, null, [[7, 14]]);\n      }));\n      function storeFiles(_x106, _x107, _x108) {\n        return _storeFiles.apply(this, arguments);\n      }\n      return storeFiles;\n    }() // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  }, {\n    key: \"directFetch\",\n    value: function () {\n      var _directFetch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee59(e, t, i) {\n        var n,\n          r,\n          _args59 = arguments;\n        return _regeneratorRuntime().wrap(function _callee59$(_context59) {\n          while (1) switch (_context59.prev = _context59.next) {\n            case 0:\n              n = _args59.length > 3 && _args59[3] !== undefined ? _args59[3] : !0;\n              e.requestSettings.method = i;\n              _context59.next = 4;\n              return E.fetch(e, e.requestSettings.headers, n, t).then(function (o) {\n                return E.processResponseByType(o);\n              });\n            case 4:\n              r = _context59.sent;\n              if (!r.error) {\n                _context59.next = 7;\n                break;\n              }\n              throw r.error.message;\n            case 7:\n              return _context59.abrupt(\"return\", r);\n            case 8:\n            case \"end\":\n              return _context59.stop();\n          }\n        }, _callee59);\n      }));\n      function directFetch(_x110, _x111, _x112) {\n        return _directFetch.apply(this, arguments);\n      }\n      return directFetch;\n    }()\n  }]);\n  return O;\n}();\nvar Zi = /*#__PURE__*/function (_U4) {\n  _inherits(Fi, _U4);\n  var _super23 = _createSuper(Fi);\n  function Fi(e) {\n    var _o$model, _a$voice;\n    var _this25;\n    _classCallCheck(this, Fi);\n    var r, o, a;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t == null ? void 0 : t.openAI;\n    _this25 = _super23.call(this, e, O.buildKeyVerificationDetails(), O.buildHeaders, i), _this25.insertKeyPlaceholderText = \"OpenAI API Key\", _this25.getKeyLink = \"https://platform.openai.com/account/api-keys\", _this25.url = \"https://api.openai.com/v1/audio/speech\", _this25.permittedErrorPrefixes = [\"Invalid\"], _this25.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>OpenAI : Text To Speech</b></div>\\n    <p>Generate an audio file based on your text input.</p>\\n    <p>Click <a href=\\\"https://platform.openai.com/docs/guides/text-to-speech\\\">here</a> for more information.</p>\";\n    var n = (r = t == null ? void 0 : t.openAI) == null ? void 0 : r.textToSpeech;\n    _typeof(n) == \"object\" && Object.assign(_this25.rawBody, n), (_o$model = (o = _this25.rawBody).model) !== null && _o$model !== void 0 ? _o$model : o.model = Fi.DEFAULT_MODEL, (_a$voice = (a = _this25.rawBody).voice) !== null && _a$voice !== void 0 ? _a$voice : a.voice = Fi.DEFAULT_VOIDE, _this25.textInputPlaceholderText = \"Insert text to generate audio\", _this25.rawBody.response_format = \"mp3\";\n    return _this25;\n  }\n  _createClass(Fi, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var r, o;\n      var i = JSON.parse(JSON.stringify(e)),\n        n = (o = (r = t[t.length - 1]) == null ? void 0 : r.text) == null ? void 0 : o.trim();\n      return n && n !== \"\" && (i.input = n), i;\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee60(e, t) {\n        var n, i;\n        return _regeneratorRuntime().wrap(function _callee60$(_context60) {\n          while (1) switch (_context60.prev = _context60.next) {\n            case 0:\n              if ((n = this.requestSettings) != null && n.headers) {\n                _context60.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              this.url = this.requestSettings.url || this.url;\n              i = this.preprocessBody(this.rawBody, t);\n              _.request(this, i, e);\n            case 5:\n            case \"end\":\n              return _context60.stop();\n          }\n        }, _callee60, this);\n      }));\n      function callServiceAPI(_x113, _x114) {\n        return _callServiceAPI11.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee61(e) {\n        return _regeneratorRuntime().wrap(function _callee61$(_context61) {\n          while (1) switch (_context61.prev = _context61.next) {\n            case 0:\n              if (!(e instanceof Blob)) {\n                _context61.next = 2;\n                break;\n              }\n              return _context61.abrupt(\"return\", new Promise(function (t) {\n                var i = new FileReader();\n                i.readAsDataURL(e), i.onload = function (n) {\n                  t({\n                    files: [{\n                      src: n.target.result,\n                      type: \"audio\"\n                    }]\n                  });\n                };\n              }));\n            case 2:\n              if (!e.error) {\n                _context61.next = 4;\n                break;\n              }\n              throw e.error.message;\n            case 4:\n              return _context61.abrupt(\"return\", {\n                error: \"error\"\n              });\n            case 5:\n            case \"end\":\n              return _context61.stop();\n          }\n        }, _callee61);\n      }));\n      function extractResultData(_x115) {\n        return _extractResultData14.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Fi;\n}(U);\nZi.DEFAULT_MODEL = \"tts-1\";\nZi.DEFAULT_VOIDE = \"alloy\";\nvar Oo = Zi;\nvar si = /*#__PURE__*/function (_U5) {\n  _inherits(Ee, _U5);\n  var _super24 = _createSuper(Ee);\n  function Ee(e) {\n    var _o$model2;\n    var _this26;\n    _classCallCheck(this, Ee);\n    var r, o;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t == null ? void 0 : t.openAI;\n    _this26 = _super24.call(this, e, O.buildKeyVerificationDetails(), O.buildHeaders, i, {\n      audio: {}\n    }), _this26.insertKeyPlaceholderText = \"OpenAI API Key\", _this26.getKeyLink = \"https://platform.openai.com/account/api-keys\", _this26.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>OpenAI : Speech To Text</b></div>\\n    <p><b>Upload an audio file</b> to transcribe it into text. You can optionally provide text to guide the audio\\n      processing.\\n    <p>Click <a href=\\\"https://platform.openai.com/docs/guides/speech-to-text\\\">here</a> for more info.</p>\", _this26.url = \"\", _this26.permittedErrorPrefixes = [\"Invalid\"], _this26.textInputPlaceholderText = \"Upload an audio file\", _this26._service_url = Ee.AUDIO_TRANSCRIPTIONS_URL;\n    var n = (r = t == null ? void 0 : t.openAI) == null ? void 0 : r.audio;\n    _typeof(n) == \"object\" && (_this26.processConfig(n), Ee.cleanConfig(n), Object.assign(_this26.rawBody, n)), (_o$model2 = (o = _this26.rawBody).model) !== null && _o$model2 !== void 0 ? _o$model2 : o.model = Ee.DEFAULT_MODEL, _this26.rawBody.response_format = \"json\", _this26.canSendMessage = Ee.canSendFileMessage;\n    return _this26;\n  }\n  _createClass(Ee, [{\n    key: \"processConfig\",\n    value: function processConfig(e) {\n      e != null && e.type && e.type === \"translation\" && (this._service_url = Ee.AUDIO_TRANSLATIONS_URL, delete e.language);\n    }\n  }, {\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var r, o;\n      var i = JSON.parse(JSON.stringify(e)),\n        n = (o = (r = t[t.length - 1]) == null ? void 0 : r.text) == null ? void 0 : o.trim();\n      return n && n !== \"\" && (i.prompt = n), i;\n    }\n    // prettier-ignore\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee62(e, t, i) {\n        var o, n, r;\n        return _regeneratorRuntime().wrap(function _callee62$(_context62) {\n          while (1) switch (_context62.prev = _context62.next) {\n            case 0:\n              if ((o = this.requestSettings) != null && o.headers) {\n                _context62.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (i != null && i[0]) {\n                _context62.next = 4;\n                break;\n              }\n              throw new Error(\"No file was added\");\n            case 4:\n              this.url = this.requestSettings.url || this._service_url;\n              n = this.preprocessBody(this.rawBody, t), r = Ee.createFormDataBody(n, i[0]);\n              E.tempRemoveContentHeader(this.requestSettings, _.request.bind(this, this, r, e), !1);\n            case 7:\n            case \"end\":\n              return _context62.stop();\n          }\n        }, _callee62, this);\n      }));\n      function callServiceAPI(_x116, _x117, _x118) {\n        return _callServiceAPI12.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee63(e) {\n        return _regeneratorRuntime().wrap(function _callee63$(_context63) {\n          while (1) switch (_context63.prev = _context63.next) {\n            case 0:\n              if (!e.error) {\n                _context63.next = 2;\n                break;\n              }\n              throw e.error.message;\n            case 2:\n              return _context63.abrupt(\"return\", {\n                text: e.text\n              });\n            case 3:\n            case \"end\":\n              return _context63.stop();\n          }\n        }, _callee63);\n      }));\n      function extractResultData(_x119) {\n        return _extractResultData15.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }], [{\n    key: \"canSendFileMessage\",\n    value: function canSendFileMessage(e, t) {\n      return !!(t != null && t[0]);\n    }\n  }, {\n    key: \"cleanConfig\",\n    value: function cleanConfig(e) {\n      delete e.type;\n    }\n  }, {\n    key: \"createFormDataBody\",\n    value: function createFormDataBody(e, t) {\n      var i = new FormData();\n      return i.append(\"file\", t), Object.keys(e).forEach(function (n) {\n        i.append(n, String(e[n]));\n      }), i;\n    }\n  }]);\n  return Ee;\n}(U);\nsi.AUDIO_TRANSCRIPTIONS_URL = \"https://api.openai.com/v1/audio/transcriptions\";\nsi.AUDIO_TRANSLATIONS_URL = \"https://api.openai.com/v1/audio/translations\";\nsi.DEFAULT_MODEL = \"whisper-1\";\nvar No = si;\nvar Z = /*#__PURE__*/function () {\n  function Z() {\n    _classCallCheck(this, Z);\n  }\n  _createClass(Z, null, [{\n    key: \"buildTextToSpeechHeaders\",\n    value: function buildTextToSpeechHeaders(e, t) {\n      return {\n        \"Ocp-Apim-Subscription-Key\": t,\n        \"Content-Type\": \"application/ssml+xml\",\n        \"X-Microsoft-OutputFormat\": e\n      };\n    }\n  }, {\n    key: \"buildSpeechToTextHeaders\",\n    value: function buildSpeechToTextHeaders(e) {\n      return {\n        \"Ocp-Apim-Subscription-Key\": e,\n        Accept: \"application/json\"\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleSpeechVerificationResult\",\n    value: function handleSpeechVerificationResult(e, t, i, n) {\n      e.error ? n(C.INVALID_KEY) : i(t);\n    }\n  }, {\n    key: \"buildSpeechKeyVerificationDetails\",\n    value: function buildSpeechKeyVerificationDetails(e) {\n      return {\n        url: \"https://\".concat(e, \".api.cognitive.microsoft.com/sts/v1.0/issuetoken\"),\n        method: \"POST\",\n        createHeaders: function createHeaders(t) {\n          return {\n            \"Ocp-Apim-Subscription-Key\": \"\".concat(t)\n          };\n        },\n        handleVerificationResult: Z.handleSpeechVerificationResult\n      };\n    }\n  }, {\n    key: \"buildSummarizationHeader\",\n    value: function buildSummarizationHeader(e) {\n      return {\n        \"Ocp-Apim-Subscription-Key\": e,\n        \"Content-Type\": \"application/json\"\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleLanguageVerificationResult\",\n    value: function handleLanguageVerificationResult(e, t, i, n) {\n      var o;\n      ((o = e.error) == null ? void 0 : o.code) === \"401\" ? n(C.INVALID_KEY) : i(t);\n    }\n  }, {\n    key: \"buildLanguageKeyVerificationDetails\",\n    value: function buildLanguageKeyVerificationDetails(e) {\n      return {\n        url: \"\".concat(e, \"/language/analyze-text/jobs?api-version=2022-10-01-preview\"),\n        method: \"POST\",\n        createHeaders: function createHeaders(t) {\n          return {\n            \"Ocp-Apim-Subscription-Key\": \"\".concat(t)\n          };\n        },\n        handleVerificationResult: Z.handleLanguageVerificationResult\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleTranslationVerificationResult\",\n    value: function handleTranslationVerificationResult(e, t, i, n) {\n      e.json().then(function (o) {\n        !Array.isArray(o) && o.error.code === 401e3 ? n(C.INVALID_KEY) : i(t);\n      });\n    }\n  }, {\n    key: \"buildTranslationKeyVerificationDetails\",\n    value: function buildTranslationKeyVerificationDetails(e) {\n      return {\n        url: \"https://api.cognitive.microsofttranslator.com/translate?api-version=3.0&to=es\",\n        method: \"POST\",\n        createHeaders: function createHeaders(t) {\n          return Z.buildTranslationHeaders(e, t);\n        },\n        handleVerificationResult: Z.handleTranslationVerificationResult\n      };\n    }\n  }, {\n    key: \"buildTranslationHeaders\",\n    value: function buildTranslationHeaders(e, t) {\n      var i = {\n        \"Ocp-Apim-Subscription-Key\": t,\n        \"Content-Type\": \"application/json\"\n      };\n      return e && (i[\"Ocp-Apim-Subscription-Region\"] = e), i;\n    }\n  }]);\n  return Z;\n}();\nvar Po = /*#__PURE__*/function (_U6) {\n  _inherits(Po, _U6);\n  var _super25 = _createSuper(Po);\n  // prettier-ignore\n  function Po(e, t, i, n, r) {\n    var _this27;\n    _classCallCheck(this, Po);\n    _this27 = _super25.call(this, e, Z.buildLanguageKeyVerificationDetails(i), t, n, r), _this27.insertKeyPlaceholderText = \"Azure Language Subscription Key\", _this27.getKeyLink =\n    // eslint-disable-next-line max-len\n    \"https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions#create-and-manage-subscriptions-in-azure-portal\", _this27.permittedErrorPrefixes = [\"Access\"];\n    return _this27;\n  }\n  return _createClass(Po);\n}(U);\nvar Do = /*#__PURE__*/function (_Po) {\n  _inherits(Do, _Po);\n  var _super26 = _createSuper(Do);\n  function Do(e) {\n    var _a$language;\n    var _this28;\n    _classCallCheck(this, Do);\n    var n, r, o, a;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.azure) == null ? void 0 : r.summarization,\n      i = (o = e.directConnection) == null ? void 0 : o.azure;\n    _this28 = _super26.call(this, e, Z.buildSummarizationHeader, t.endpoint, i), _this28.url = \"\", _this28.textInputPlaceholderText = \"Insert text to summarize\", (_a$language = (a = _this28.rawBody).language) !== null && _a$language !== void 0 ? _a$language : a.language = \"en\", Object.assign(_this28.rawBody, t), _this28.url = \"\".concat(t.endpoint, \"/language/analyze-text/jobs?api-version=2022-10-01-preview\");\n    return _this28;\n  }\n  _createClass(Do, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = t[t.length - 1].text;\n      if (i) return {\n        analysisInput: {\n          documents: [{\n            id: \"1\",\n            language: e.language,\n            text: i\n          }]\n        },\n        tasks: [{\n          kind: \"ExtractiveSummarization\"\n        }]\n      };\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee64(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee64$(_context64) {\n          while (1) switch (_context64.prev = _context64.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context64.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(this.rawBody, t);\n              _.request(this, i, e), this.messages = e;\n            case 4:\n            case \"end\":\n              return _context64.stop();\n          }\n        }, _callee64, this);\n      }));\n      function callServiceAPI(_x120, _x121) {\n        return _callServiceAPI13.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee65(e) {\n        var t, _i9, n;\n        return _regeneratorRuntime().wrap(function _callee65$(_context65) {\n          while (1) switch (_context65.prev = _context65.next) {\n            case 0:\n              if (!e.error) {\n                _context65.next = 2;\n                break;\n              }\n              throw e.error.message;\n            case 2:\n              if (this.messages && this.completionsHandlers) {\n                _i9 = e.headers.get(\"operation-location\"), n = {\n                  method: \"GET\",\n                  headers: (t = this.requestSettings) == null ? void 0 : t.headers\n                };\n                _.executePollRequest(this, _i9, n, this.messages);\n              }\n              return _context65.abrupt(\"return\", {\n                makingAnotherRequest: !0\n              });\n            case 4:\n            case \"end\":\n              return _context65.stop();\n          }\n        }, _callee65, this);\n      }));\n      function extractResultData(_x122) {\n        return _extractResultData16.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }, {\n    key: \"extractPollResultData\",\n    value: function () {\n      var _extractPollResultData4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee66(e) {\n        var t, _iterator, _step, _i10;\n        return _regeneratorRuntime().wrap(function _callee66$(_context66) {\n          while (1) switch (_context66.prev = _context66.next) {\n            case 0:\n              if (!e.error) {\n                _context66.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              if (!(e.status === \"running\")) {\n                _context66.next = 4;\n                break;\n              }\n              return _context66.abrupt(\"return\", {\n                timeoutMS: 2e3\n              });\n            case 4:\n              if (!(e.errors.length > 0)) {\n                _context66.next = 6;\n                break;\n              }\n              throw e.errors[0];\n            case 6:\n              if (!(e.tasks.items[0].results.errors.length > 0)) {\n                _context66.next = 8;\n                break;\n              }\n              throw e.tasks.items[0].results.errors[0];\n            case 8:\n              t = \"\";\n              _iterator = _createForOfIteratorHelper(e.tasks.items[0].results.documents[0].sentences);\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  _i10 = _step.value;\n                  t += _i10.text;\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n              return _context66.abrupt(\"return\", {\n                text: t || \"\"\n              });\n            case 12:\n            case \"end\":\n              return _context66.stop();\n          }\n        }, _callee66);\n      }));\n      function extractPollResultData(_x123) {\n        return _extractPollResultData4.apply(this, arguments);\n      }\n      return extractPollResultData;\n    }()\n  }]);\n  return Do;\n}(Po);\nvar ct = /*#__PURE__*/function () {\n  function ct() {\n    _classCallCheck(this, ct);\n  }\n  _createClass(ct, null, [{\n    key: \"poll\",\n    value: function () {\n      var _poll2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee67(e, t) {\n        var i, a, l, d;\n        return _regeneratorRuntime().wrap(function _callee67$(_context67) {\n          while (1) switch (_context67.prev = _context67.next) {\n            case 0:\n              i = {\n                authorization: e,\n                \"content-type\": \"application/json\"\n              };\n              _context67.t0 = \"https://api.assemblyai.com/v2/transcript/\";\n              _context67.next = 4;\n              return fetch(\"https://api.assemblyai.com/v2/transcript\", {\n                method: \"POST\",\n                body: JSON.stringify({\n                  audio_url: t\n                }),\n                headers: i\n              });\n            case 4:\n              _context67.next = 6;\n              return _context67.sent.json();\n            case 6:\n              _context67.t1 = _context67.sent.id;\n              a = _context67.t0.concat.call(_context67.t0, _context67.t1);\n            case 8:\n              if (l) {\n                _context67.next = 24;\n                break;\n              }\n              _context67.next = 11;\n              return fetch(a, {\n                headers: i\n              });\n            case 11:\n              _context67.next = 13;\n              return _context67.sent.json();\n            case 13:\n              d = _context67.sent;\n              if (!(d.status === \"completed\")) {\n                _context67.next = 18;\n                break;\n              }\n              l = d;\n              _context67.next = 22;\n              break;\n            case 18:\n              if (!(d.status === \"error\")) {\n                _context67.next = 20;\n                break;\n              }\n              throw new Error(\"Transcription failed: \".concat(d.error));\n            case 20:\n              _context67.next = 22;\n              return new Promise(function (u) {\n                return setTimeout(u, 3e3);\n              });\n            case 22:\n              _context67.next = 8;\n              break;\n            case 24:\n              return _context67.abrupt(\"return\", l);\n            case 25:\n            case \"end\":\n              return _context67.stop();\n          }\n        }, _callee67);\n      }));\n      function poll(_x124, _x125) {\n        return _poll2.apply(this, arguments);\n      }\n      return poll;\n    }()\n  }, {\n    key: \"buildHeaders\",\n    value: function buildHeaders(e) {\n      return {\n        Authorization: e,\n        \"Content-Type\": \"application/octet-stream\"\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"handleVerificationResult\",\n    value: function handleVerificationResult(e, t, i, n) {\n      var r = e;\n      r.error ? r.error.code === \"invalid_api_key\" ? n(C.INVALID_KEY) : n(C.CONNECTION_FAILED) : i(t);\n    }\n  }, {\n    key: \"buildKeyVerificationDetails\",\n    value: function buildKeyVerificationDetails() {\n      return {\n        url: \"https://api.assemblyai.com/v2/upload\",\n        method: \"POST\",\n        handleVerificationResult: ct.handleVerificationResult\n      };\n    }\n  }]);\n  return ct;\n}();\nvar Xi = /*#__PURE__*/function (_U7) {\n  _inherits(Xi, _U7);\n  var _super27 = _createSuper(Xi);\n  function Xi(e) {\n    var _this29;\n    _classCallCheck(this, Xi);\n    var i;\n    var t = (i = e.directConnection) == null ? void 0 : i.assemblyAI;\n    _this29 = _super27.call(this, e, ct.buildKeyVerificationDetails(), ct.buildHeaders, t, {\n      audio: {}\n    }), _this29.insertKeyPlaceholderText = \"AssemblyAI API Key\", _this29.getKeyLink = \"https://www.assemblyai.com/app/account\", _this29.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>AssemblyAI Audio</b></div>\\n    <p><b>Upload an audio file</b> to transcribe it into text.\\n    <p>\\n      Click <a href=\\\"https://www.assemblyai.com/docs/Guides/transcribing_an_audio_file#get-started\\\">here</a> for more info.\\n    </p>\", _this29.url = \"https://api.assemblyai.com/v2/upload\", _this29.isTextInputDisabled = !0, _this29.textInputPlaceholderText = \"Upload an audio file\", _this29.permittedErrorPrefixes = [\"Authentication\", \"Invalid\"], _this29.canSendMessage = Xi.canFileSendMessage;\n    return _this29;\n  }\n  _createClass(Xi, [{\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee68(e, t, i) {\n        var n;\n        return _regeneratorRuntime().wrap(function _callee68$(_context68) {\n          while (1) switch (_context68.prev = _context68.next) {\n            case 0:\n              if ((n = this.requestSettings) != null && n.headers) {\n                _context68.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (i != null && i[0]) {\n                _context68.next = 4;\n                break;\n              }\n              throw new Error(\"No file was added\");\n            case 4:\n              _.request(this, i[0], e, !1);\n            case 5:\n            case \"end\":\n              return _context68.stop();\n          }\n        }, _callee68, this);\n      }));\n      function callServiceAPI(_x126, _x127, _x128) {\n        return _callServiceAPI14.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee69(e) {\n        var n, r, t;\n        return _regeneratorRuntime().wrap(function _callee69$(_context69) {\n          while (1) switch (_context69.prev = _context69.next) {\n            case 0:\n              if (!e.error) {\n                _context69.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              t = (r = (n = this.requestSettings) == null ? void 0 : n.headers) == null ? void 0 : r.Authorization;\n              _context69.next = 5;\n              return ct.poll(t, e.upload_url);\n            case 5:\n              _context69.t0 = _context69.sent.text;\n              return _context69.abrupt(\"return\", {\n                text: _context69.t0\n              });\n            case 7:\n            case \"end\":\n              return _context69.stop();\n          }\n        }, _callee69, this);\n      }));\n      function extractResultData(_x129) {\n        return _extractResultData17.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }], [{\n    key: \"canFileSendMessage\",\n    value: function canFileSendMessage(e, t) {\n      return !!(t != null && t[0]);\n    }\n  }]);\n  return Xi;\n}(U);\nvar as = /*#__PURE__*/function (_U8) {\n  _inherits(as, _U8);\n  var _super28 = _createSuper(as);\n  // prettier-ignore\n  function as(e, t, i, n, r) {\n    var _this30;\n    _classCallCheck(this, as);\n    _this30 = _super28.call(this, e, Z.buildSpeechKeyVerificationDetails(i), t, n, r), _this30.insertKeyPlaceholderText = \"Azure Speech Subscription Key\", _this30.getKeyLink =\n    // eslint-disable-next-line max-len\n    \"https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions#create-and-manage-subscriptions-in-azure-portal\";\n    return _this30;\n  }\n  return _createClass(as);\n}(U);\nvar ls = /*#__PURE__*/function (_as) {\n  _inherits(cs, _as);\n  var _super29 = _createSuper(cs);\n  // prettier-ignore\n  function cs(e) {\n    var _a$lang, _l$name, _c$gender;\n    var _this31;\n    _classCallCheck(this, cs);\n    var n, r, o, a, l, c;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.azure) == null ? void 0 : r.textToSpeech,\n      i = (o = e.directConnection) == null ? void 0 : o.azure;\n    _this31 = _super29.call(this, e, Z.buildTextToSpeechHeaders.bind({}, (t == null ? void 0 : t.outputFormat) || \"audio-16khz-128kbitrate-mono-mp3\"), t.region, i), _this31.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Azure Text To Speech</b></div>\\n    <p>Insert text to synthesize it to audio.\\n    <p>\\n      Click <a href=\\\"\".concat(cs.HELP_LINK, \"\\\">here</a> for more info.\\n    </p>\"), _this31.url = \"\", Object.assign(_this31.rawBody, t), (_a$lang = (a = _this31.rawBody).lang) !== null && _a$lang !== void 0 ? _a$lang : a.lang = \"en-US\", (_l$name = (l = _this31.rawBody).name) !== null && _l$name !== void 0 ? _l$name : l.name = \"en-US-JennyNeural\", (_c$gender = (c = _this31.rawBody).gender) !== null && _c$gender !== void 0 ? _c$gender : c.gender = \"Female\", _this31.url = \"https://\".concat(t.region, \".tts.speech.microsoft.com/cognitiveservices/v1\");\n    return _this31;\n  }\n  _createClass(cs, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = t[t.length - 1].text;\n      if (i) return \"<speak version='1.0' xml:lang='\".concat(e.lang, \"'>\\n      <voice xml:lang='\").concat(e.lang, \"' xml:gender='\").concat(e.gender, \"' name='\").concat(e.name, \"'>\\n        \").concat(i, \"\\n      </voice>\\n    </speak>\");\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee70(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee70$(_context70) {\n          while (1) switch (_context70.prev = _context70.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context70.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(this.rawBody, t);\n              _.request(this, i, e, !1);\n            case 4:\n            case \"end\":\n              return _context70.stop();\n          }\n        }, _callee70, this);\n      }));\n      function callServiceAPI(_x130, _x131) {\n        return _callServiceAPI15.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee71(e) {\n        return _regeneratorRuntime().wrap(function _callee71$(_context71) {\n          while (1) switch (_context71.prev = _context71.next) {\n            case 0:\n              return _context71.abrupt(\"return\", new Promise(function (t) {\n                var i = new FileReader();\n                i.readAsDataURL(e), i.onload = function (n) {\n                  t({\n                    files: [{\n                      src: n.target.result,\n                      type: \"audio\"\n                    }]\n                  });\n                };\n              }));\n            case 1:\n            case \"end\":\n              return _context71.stop();\n          }\n        }, _callee71);\n      }));\n      function extractResultData(_x132) {\n        return _extractResultData18.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return cs;\n}(as);\nls.HELP_LINK =\n// eslint-disable-next-line max-len\n\"https://learn.microsoft.com/en-GB/azure/cognitive-services/speech-service/get-started-text-to-speech?tabs=windows%2Cterminal&pivots=programming-language-rest\";\nvar jo = ls;\nvar ds = /*#__PURE__*/function (_as2) {\n  _inherits(Bi, _as2);\n  var _super30 = _createSuper(Bi);\n  function Bi(e) {\n    var _this32;\n    _classCallCheck(this, Bi);\n    var o, a, l;\n    var t = (a = (o = e.directConnection) == null ? void 0 : o.azure) == null ? void 0 : a.speechToText,\n      i = (l = e.directConnection) == null ? void 0 : l.azure,\n      n = {\n        audio: {\n          files: {\n            acceptedFormats: \".wav,.ogg\"\n          }\n        }\n      };\n    _this32 = _super30.call(this, e, Z.buildSpeechToTextHeaders, t.region, i, n), _this32.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>Azure Speech To Text</b></div>\\n    <p><b>Upload a .wav or .ogg audio file</b> to transcribe it into text.\\n    <p>\\n      Click <a href=\\\"\".concat(Bi.HELP_LINK, \"\\\">here</a> for more info.\\n    </p>\"), _this32.url = \"\", _this32.isTextInputDisabled = !0, _this32.textInputPlaceholderText = \"Upload an audio file\", _this32.canSendMessage = Bi.canFileSendMessage;\n    var r = t.lang || \"en-US\";\n    _this32.url = \"https://\".concat(t.region, \".stt.speech.microsoft.com/speech/recognition/conversation/cognitiveservices/v1?language=\").concat(r, \"&format=detailed\"), _this32.recordAudio = void 0;\n    return _this32;\n  }\n  _createClass(Bi, [{\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee72(e, t, i) {\n        var n, r;\n        return _regeneratorRuntime().wrap(function _callee72$(_context72) {\n          while (1) switch (_context72.prev = _context72.next) {\n            case 0:\n              if ((n = this.requestSettings) != null && n.headers) {\n                _context72.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (i != null && i[0]) {\n                _context72.next = 4;\n                break;\n              }\n              throw new Error(\"No file was added\");\n            case 4:\n              (r = this.requestSettings) != null && r.headers && (this.requestSettings.headers[\"Content-Type\"] = i[0].name.toLocaleLowerCase().endsWith(\".wav\") ? \"audio/wav; codecs=audio/pcm; samplerate=16000\" : \"audio/ogg; codecs=opus\"), _.request(this, i[0], e, !1);\n            case 5:\n            case \"end\":\n              return _context72.stop();\n          }\n        }, _callee72, this);\n      }));\n      function callServiceAPI(_x133, _x134, _x135) {\n        return _callServiceAPI16.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData19 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee73(e) {\n        return _regeneratorRuntime().wrap(function _callee73$(_context73) {\n          while (1) switch (_context73.prev = _context73.next) {\n            case 0:\n              if (!e.error) {\n                _context73.next = 2;\n                break;\n              }\n              throw e.error;\n            case 2:\n              return _context73.abrupt(\"return\", {\n                text: e.DisplayText || \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context73.stop();\n          }\n        }, _callee73);\n      }));\n      function extractResultData(_x136) {\n        return _extractResultData19.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }], [{\n    key: \"canFileSendMessage\",\n    value: function canFileSendMessage(e, t) {\n      return !!(t != null && t[0]);\n    }\n  }]);\n  return Bi;\n}(as);\nds.HELP_LINK =\n// eslint-disable-next-line max-len\n\"https://learn.microsoft.com/en-GB/azure/cognitive-services/speech-service/get-started-text-to-speech?tabs=windows%2Cterminal&pivots=programming-language-rest\";\nvar Fo = ds;\nvar Bo = /*#__PURE__*/function (_U9) {\n  _inherits(Bo, _U9);\n  var _super31 = _createSuper(Bo);\n  // prettier-ignore\n  function Bo(e) {\n    var _this33;\n    _classCallCheck(this, Bo);\n    var n, r, o;\n    var t = (r = (n = e.directConnection) == null ? void 0 : n.azure) == null ? void 0 : r.translation,\n      i = (o = e.directConnection) == null ? void 0 : o.azure;\n    _this33 = _super31.call(this, e, Z.buildTranslationKeyVerificationDetails(t.region), Z.buildTranslationHeaders.bind({}, t == null ? void 0 : t.region), i), _this33.insertKeyPlaceholderText = \"Azure Translate Subscription Key\", _this33.getKeyLink =\n    // eslint-disable-next-line max-len\n    \"https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions#create-and-manage-subscriptions-in-azure-portal\", _this33.url = \"\", _this33.url = \"https://api.cognitive.microsofttranslator.com/translate?api-version=3.0&to=\".concat(t.language || \"es\");\n    return _this33;\n  }\n  _createClass(Bo, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e) {\n      var t = e[e.length - 1].text;\n      if (t) return [{\n        Text: t\n      }];\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee74(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee74$(_context74) {\n          while (1) switch (_context74.prev = _context74.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context74.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(t);\n              _.request(this, i, e);\n            case 4:\n            case \"end\":\n              return _context74.stop();\n          }\n        }, _callee74, this);\n      }));\n      function callServiceAPI(_x137, _x138) {\n        return _callServiceAPI17.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData20 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee75(e) {\n        var t;\n        return _regeneratorRuntime().wrap(function _callee75$(_context75) {\n          while (1) switch (_context75.prev = _context75.next) {\n            case 0:\n              if (!Array.isArray(e)) {\n                _context75.next = 2;\n                break;\n              }\n              return _context75.abrupt(\"return\", {\n                text: ((t = e[0].translations) == null ? void 0 : t[0].text) || \"\"\n              });\n            case 2:\n              throw e.error;\n            case 3:\n            case \"end\":\n              return _context75.stop();\n          }\n        }, _callee75);\n      }));\n      function extractResultData(_x139) {\n        return _extractResultData20.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return Bo;\n}(U);\nvar Qi = /*#__PURE__*/function (_U10) {\n  _inherits(ae, _U10);\n  var _super32 = _createSuper(ae);\n  function ae(e) {\n    var _l$headers, _c$OpenAIBeta;\n    var _this34;\n    _classCallCheck(this, ae);\n    var r, o, a, l, c;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t.openAI;\n    _this34 = _super32.call(this, e, O.buildKeyVerificationDetails(), O.buildHeaders, i), _this34.insertKeyPlaceholderText = \"OpenAI API Key\", _this34.getKeyLink = \"https://platform.openai.com/account/api-keys\", _this34.url = \"\", _this34.permittedErrorPrefixes = [\"Incorrect\"], _this34.searchedForThreadId = !1;\n    var n = (r = t.openAI) == null ? void 0 : r.assistant;\n    if (_typeof(n) == \"object\") {\n      _this34.rawBody.assistant_id = n.assistant_id;\n      var _ref9 = (a = (o = e.directConnection) == null ? void 0 : o.openAI) == null ? void 0 : a.assistant,\n        d = _ref9.function_handler;\n      d && (_this34._functionHandler = d);\n    }\n    (_l$headers = (l = _this34.requestSettings).headers) !== null && _l$headers !== void 0 ? _l$headers : l.headers = {}, (_c$OpenAIBeta = (c = _this34.requestSettings.headers)[\"OpenAI-Beta\"]) !== null && _c$OpenAIBeta !== void 0 ? _c$OpenAIBeta : c[\"OpenAI-Beta\"] = \"assistants=v1\", _this34.maxMessages = 1;\n    return _this34;\n  }\n  _createClass(ae, [{\n    key: \"processMessage\",\n    value: function processMessage(e, t) {\n      var i = this.totalMessagesMaxCharLength || -1;\n      return {\n        content: Xe.getCharacterLimitMessages(e, i)[0].text || \"\",\n        role: \"user\",\n        file_ids: t\n      };\n    }\n  }, {\n    key: \"createNewThreadMessages\",\n    value: function createNewThreadMessages(e, t, i) {\n      var n = JSON.parse(JSON.stringify(e)),\n        r = this.processMessage(t, i);\n      return n.thread = {\n        messages: [r]\n      }, n;\n    }\n  }, {\n    key: \"callService\",\n    value: function callService(e, t, i) {\n      if (this.sessionId) {\n        this.url = \"\".concat(ae.THREAD_PREFIX, \"/\").concat(this.sessionId, \"/messages\");\n        var n = this.processMessage(t, i);\n        _.request(this, n, e);\n      } else {\n        this.url = \"\".concat(ae.THREAD_PREFIX, \"/runs\");\n        var _n2 = this.createNewThreadMessages(this.rawBody, t, i);\n        _.request(this, _n2, e);\n      }\n      this.messages = e;\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee76(e, t, i) {\n        var n;\n        return _regeneratorRuntime().wrap(function _callee76$(_context76) {\n          while (1) switch (_context76.prev = _context76.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context76.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              this.searchedForThreadId || this.searchPreviousMessagesForThreadId(e.messages);\n              if (!i) {\n                _context76.next = 9;\n                break;\n              }\n              _context76.next = 6;\n              return O.storeFiles(this, e, i);\n            case 6:\n              _context76.t0 = _context76.sent;\n              _context76.next = 10;\n              break;\n            case 9:\n              _context76.t0 = void 0;\n            case 10:\n              n = _context76.t0;\n              this.requestSettings.method = \"POST\", this.callService(e, t, n);\n            case 12:\n            case \"end\":\n              return _context76.stop();\n          }\n        }, _callee76, this);\n      }));\n      function callServiceAPI(_x140, _x141, _x142) {\n        return _callServiceAPI18.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"searchPreviousMessagesForThreadId\",\n    value: function searchPreviousMessagesForThreadId(e) {\n      var t = e.find(function (i) {\n        return i._sessionId;\n      });\n      t && (this.sessionId = t._sessionId), this.searchedForThreadId = !0;\n    }\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData21 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee77(e) {\n        var n, t, i;\n        return _regeneratorRuntime().wrap(function _callee77$(_context77) {\n          while (1) switch (_context77.prev = _context77.next) {\n            case 0:\n              if (!e.error) {\n                _context77.next = 2;\n                break;\n              }\n              throw e.error.message;\n            case 2:\n              _context77.next = 4;\n              return this.assignThreadAndRun(e);\n            case 4:\n              t = \"\".concat(ae.THREAD_PREFIX, \"/\").concat(this.sessionId, \"/runs/\").concat(this.run_id), i = {\n                method: \"GET\",\n                headers: (n = this.requestSettings) == null ? void 0 : n.headers\n              };\n              return _context77.abrupt(\"return\", (_.executePollRequest(this, t, i, this.messages), {\n                makingAnotherRequest: !0\n              }));\n            case 6:\n            case \"end\":\n              return _context77.stop();\n          }\n        }, _callee77, this);\n      }));\n      function extractResultData(_x143) {\n        return _extractResultData21.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }, {\n    key: \"assignThreadAndRun\",\n    value: function () {\n      var _assignThreadAndRun = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee78(e) {\n        var t;\n        return _regeneratorRuntime().wrap(function _callee78$(_context78) {\n          while (1) switch (_context78.prev = _context78.next) {\n            case 0:\n              if (!this.sessionId) {\n                _context78.next = 8;\n                break;\n              }\n              this.url = \"\".concat(ae.THREAD_PREFIX, \"/\").concat(this.sessionId, \"/runs\");\n              _context78.next = 4;\n              return O.directFetch(this, JSON.parse(JSON.stringify(this.rawBody)), \"POST\");\n            case 4:\n              t = _context78.sent;\n              this.run_id = t.id;\n              _context78.next = 9;\n              break;\n            case 8:\n              this.sessionId = e.thread_id, this.run_id = e.id, this.messages && (this.messages.messages[this.messages.messages.length - 1]._sessionId = this.sessionId);\n            case 9:\n            case \"end\":\n              return _context78.stop();\n          }\n        }, _callee78, this);\n      }));\n      function assignThreadAndRun(_x144) {\n        return _assignThreadAndRun.apply(this, arguments);\n      }\n      return assignThreadAndRun;\n    }()\n  }, {\n    key: \"extractPollResultData\",\n    value: function () {\n      var _extractPollResultData5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee79(e) {\n        var r, t, i, n;\n        return _regeneratorRuntime().wrap(function _callee79$(_context79) {\n          while (1) switch (_context79.prev = _context79.next) {\n            case 0:\n              t = e.status, i = e.required_action;\n              if (!(t === \"queued\" || t === \"in_progress\")) {\n                _context79.next = 3;\n                break;\n              }\n              return _context79.abrupt(\"return\", {\n                timeoutMS: ae.POLLING_TIMEOUT_MS\n              });\n            case 3:\n              if (!(t === \"completed\" && this.messages)) {\n                _context79.next = 10;\n                break;\n              }\n              this.url = \"\".concat(ae.THREAD_PREFIX, \"/\").concat(e.thread_id, \"/messages\");\n              _context79.next = 7;\n              return O.directFetch(this, {}, \"GET\");\n            case 7:\n              _context79.t0 = _context79.sent.data[0].content[0].text.value;\n              _context79.t1 = this.sessionId;\n              return _context79.abrupt(\"return\", {\n                text: _context79.t0,\n                _sessionId: _context79.t1\n              });\n            case 10:\n              n = (r = i == null ? void 0 : i.submit_tool_outputs) == null ? void 0 : r.tool_calls;\n              if (!(t === \"requires_action\" && n)) {\n                _context79.next = 15;\n                break;\n              }\n              _context79.next = 14;\n              return this.handleTools(n);\n            case 14:\n              return _context79.abrupt(\"return\", _context79.sent);\n            case 15:\n              throw Error(\"Thread run status: \".concat(t));\n            case 16:\n            case \"end\":\n              return _context79.stop();\n          }\n        }, _callee79, this);\n      }));\n      function extractPollResultData(_x145) {\n        return _extractPollResultData5.apply(this, arguments);\n      }\n      return extractPollResultData;\n    }() // prettier-ignore\n  }, {\n    key: \"handleTools\",\n    value: function () {\n      var _handleTools = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee80(e) {\n        var t, i, n;\n        return _regeneratorRuntime().wrap(function _callee80$(_context80) {\n          while (1) switch (_context80.prev = _context80.next) {\n            case 0:\n              if (this._functionHandler) {\n                _context80.next = 2;\n                break;\n              }\n              throw Error(\"Please define the `function_handler` property inside the [openAI](https://deepchat.dev/docs/directConnection/openAI#Assistant) object.\");\n            case 2:\n              t = e.map(function (r) {\n                return {\n                  name: r[\"function\"].name,\n                  arguments: r[\"function\"].arguments\n                };\n              });\n              _context80.next = 5;\n              return this._functionHandler(t);\n            case 5:\n              i = _context80.sent;\n              if (!(!Array.isArray(i) || i.find(function (r) {\n                return typeof r != \"string\";\n              }) || e.length !== i.length)) {\n                _context80.next = 8;\n                break;\n              }\n              throw Error(\"Response must contain an array of strings for each individual function/tool_call, see https://deepchat.dev/docs/directConnection/OpenAI/#assistant-functions.\");\n            case 8:\n              n = i.map(function (r, o) {\n                return {\n                  tool_call_id: e[o].id,\n                  output: r\n                };\n              });\n              this.url = \"\".concat(ae.THREAD_PREFIX, \"/\").concat(this.sessionId, \"/runs/\").concat(this.run_id, \"/submit_tool_outputs\");\n              _context80.next = 12;\n              return O.directFetch(this, {\n                tool_outputs: n\n              }, \"POST\");\n            case 12:\n              return _context80.abrupt(\"return\", {\n                timeoutMS: ae.POLLING_TIMEOUT_MS\n              });\n            case 13:\n            case \"end\":\n              return _context80.stop();\n          }\n        }, _callee80, this);\n      }));\n      function handleTools(_x146) {\n        return _handleTools.apply(this, arguments);\n      }\n      return handleTools;\n    }()\n  }]);\n  return ae;\n}(U);\nQi.THREAD_PREFIX = \"https://api.openai.com/v1/threads\";\nQi.POLLING_TIMEOUT_MS = 800;\nvar zo = Qi;\nvar ri = /*#__PURE__*/function (_U11) {\n  _inherits(Se, _U11);\n  var _super33 = _createSuper(Se);\n  function Se(e) {\n    var _this35;\n    _classCallCheck(this, Se);\n    var o;\n    var t = e.directConnection,\n      i = t == null ? void 0 : t.openAI,\n      n = {\n        images: {\n          files: {\n            acceptedFormats: \".png\",\n            maxNumberOfFiles: 2\n          }\n        }\n      };\n    _this35 = _super33.call(this, e, O.buildKeyVerificationDetails(), O.buildHeaders, i, n), _this35.insertKeyPlaceholderText = \"OpenAI API Key\", _this35.getKeyLink = \"https://platform.openai.com/account/api-keys\", _this35.introPanelMarkUp = \"\\n    <div style=\\\"width: 100%; text-align: center; margin-left: -10px\\\"><b>OpenAI DALL\\xB7E</b></div>\\n    <p><b>Insert text</b> to generate an image.</p>\\n    <p><b>Upload 1</b> PNG image to generate its variation and optionally insert text to specify the change.</p>\\n    <p><b>Upload 2</b> PNG images where the second is a copy of the first with a transparent area where the edit should\\n      take place and text to specify the edit.</p>\\n    <p>Click <a href=\\\"https://platform.openai.com/docs/guides/images/introduction\\\">here</a> for more info.</p>\", _this35.url = \"\", _this35.permittedErrorPrefixes = [\"Incorrect\", \"Invalid input image\"];\n    var r = (o = t == null ? void 0 : t.openAI) == null ? void 0 : o.images;\n    if (_this35.camera) {\n      var a = _typeof(r) == \"object\" && r.size ? Number.parseInt(r.size) : 1024;\n      _this35.camera.files = {\n        dimensions: {\n          width: a,\n          height: a\n        }\n      };\n    }\n    _typeof(r) == \"object\" && Object.assign(_this35.rawBody, r), _this35.canSendMessage = Se.canFileSendMessage;\n    return _this35;\n  }\n  _createClass(Se, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = JSON.parse(JSON.stringify(e));\n      return t && t !== \"\" && (i.prompt = t), i;\n    }\n    // prettier-ignore\n  }, {\n    key: \"callApiWithImage\",\n    value: function callApiWithImage(e, t, i) {\n      var o, a;\n      var n;\n      var r = (a = (o = t[t.length - 1]) == null ? void 0 : o.text) == null ? void 0 : a.trim();\n      if (i[1] || r && r !== \"\") {\n        this.url = Se.IMAGE_EDIT_URL;\n        var l = this.preprocessBody(this.rawBody, r);\n        n = Se.createFormDataBody(l, i[0], i[1]);\n      } else this.url = Se.IMAGE_VARIATIONS_URL, n = Se.createFormDataBody(this.rawBody, i[0]);\n      E.tempRemoveContentHeader(this.requestSettings, _.request.bind(this, this, n, e), !1);\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI19 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee81(e, t, i) {\n        var n, r;\n        return _regeneratorRuntime().wrap(function _callee81$(_context81) {\n          while (1) switch (_context81.prev = _context81.next) {\n            case 0:\n              if ((n = this.requestSettings) != null && n.headers) {\n                _context81.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              if (!(i != null && i[0])) {\n                _context81.next = 6;\n                break;\n              }\n              this.callApiWithImage(e, t, i);\n              _context81.next = 11;\n              break;\n            case 6:\n              if (this.requestSettings) {\n                _context81.next = 8;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 8:\n              this.url = Se.IMAGE_GENERATION_URL;\n              r = this.preprocessBody(this.rawBody, t[t.length - 1].text);\n              _.request(this, r, e);\n            case 11:\n            case \"end\":\n              return _context81.stop();\n          }\n        }, _callee81, this);\n      }));\n      function callServiceAPI(_x147, _x148, _x149) {\n        return _callServiceAPI19.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData22 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee82(e) {\n        return _regeneratorRuntime().wrap(function _callee82$(_context82) {\n          while (1) switch (_context82.prev = _context82.next) {\n            case 0:\n              if (!e.error) {\n                _context82.next = 2;\n                break;\n              }\n              throw e.error.message;\n            case 2:\n              return _context82.abrupt(\"return\", {\n                files: e.data.map(function (i) {\n                  return i.url ? {\n                    src: i.url,\n                    type: \"image\"\n                  } : {\n                    src: \"\".concat(Et).concat(i.b64_json),\n                    type: \"image\"\n                  };\n                })\n              });\n            case 3:\n            case \"end\":\n              return _context82.stop();\n          }\n        }, _callee82);\n      }));\n      function extractResultData(_x150) {\n        return _extractResultData22.apply(this, arguments);\n      }\n      return extractResultData;\n    }() // private static readonly MODAL_MARKDOWN = `\n    // 1 image:\n    // - With text - edits image based on the text\n    // - No text - creates a variation of the image\n    // 2 images:\n    // - The second image needs to be a copy of the first with a transparent area where the edit should take place.\n    // Add text to describe the required modification.\n    // Click here for [more info](https://platform.openai.com/docs/guides/images/introduction).\n    //   `;\n  }], [{\n    key: \"canFileSendMessage\",\n    value: function canFileSendMessage(e, t) {\n      return !!(t != null && t[0]) || !!(e && e.trim() !== \"\");\n    }\n  }, {\n    key: \"createFormDataBody\",\n    value: function createFormDataBody(e, t, i) {\n      var n = new FormData();\n      return n.append(\"image\", t), i && n.append(\"mask\", i), Object.keys(e).forEach(function (r) {\n        n.append(r, String(e[r]));\n      }), n;\n    }\n  }]);\n  return Se;\n}(U);\nri.IMAGE_GENERATION_URL = \"https://api.openai.com/v1/images/generations\";\nri.IMAGE_VARIATIONS_URL = \"https://api.openai.com/v1/images/variations\";\nri.IMAGE_EDIT_URL = \"https://api.openai.com/v1/images/edits\";\nvar Uo = ri;\nvar dt = /*#__PURE__*/function (_U12) {\n  _inherits(dt, _U12);\n  var _super34 = _createSuper(dt);\n  function dt(e) {\n    var _this36$maxMessages, _l$model;\n    var _this36;\n    _classCallCheck(this, dt);\n    var r, o, a, l;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = t.openAI;\n    _this36 = _super34.call(this, e, O.buildKeyVerificationDetails(), O.buildHeaders, i), _this36.insertKeyPlaceholderText = \"OpenAI API Key\", _this36.getKeyLink = \"https://platform.openai.com/account/api-keys\", _this36.url = \"https://api.openai.com/v1/chat/completions\", _this36.permittedErrorPrefixes = [\"Incorrect\"], _this36._systemMessage = dt.generateSystemMessage(\"You are a helpful assistant.\");\n    var n = (r = t.openAI) == null ? void 0 : r.chat;\n    if (_typeof(n) == \"object\") {\n      n.system_prompt && (_this36._systemMessage = dt.generateSystemMessage(n.system_prompt));\n      var _ref10 = (a = (o = e.directConnection) == null ? void 0 : o.openAI) == null ? void 0 : a.chat,\n        c = _ref10.function_handler;\n      c && (_this36._functionHandler = c), _this36.cleanConfig(n), Object.assign(_this36.rawBody, n);\n    }\n    (_this36$maxMessages = _this36.maxMessages) !== null && _this36$maxMessages !== void 0 ? _this36$maxMessages : _this36.maxMessages = -1, (_l$model = (l = _this36.rawBody).model) !== null && _l$model !== void 0 ? _l$model : l.model = \"gpt-3.5-turbo\";\n    return _this36;\n  }\n  _createClass(dt, [{\n    key: \"cleanConfig\",\n    value: function cleanConfig(e) {\n      delete e.system_prompt, delete e.function_handler;\n    }\n  }, {\n    key: \"preprocessBody\",\n    value:\n    // prettier-ignore\n    function preprocessBody(e, t) {\n      var _i$max_tokens;\n      var i = JSON.parse(JSON.stringify(e)),\n        n = Xe.getCharacterLimitMessages(t, this.totalMessagesMaxCharLength ? this.totalMessagesMaxCharLength - this._systemMessage.content.length : -1).map(function (r) {\n          return {\n            content: dt.getContent(r),\n            role: r.role === v.USER_ROLE ? \"user\" : \"assistant\"\n          };\n        });\n      return t.find(function (r) {\n        return r.files && r.files.length > 0;\n      }) && ((_i$max_tokens = i.max_tokens) !== null && _i$max_tokens !== void 0 ? _i$max_tokens : i.max_tokens = 300), i.messages = [this._systemMessage].concat(_toConsumableArray(n)), i;\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI20 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee83(e, t) {\n        var i, n;\n        return _regeneratorRuntime().wrap(function _callee83$(_context83) {\n          while (1) switch (_context83.prev = _context83.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context83.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(this.rawBody, t), n = this.deepChat.stream;\n              n && (_typeof(n) != \"object\" || !n.simulation) || i.stream ? (i.stream = !0, I.request(this, i, e)) : _.request(this, i, e);\n            case 4:\n            case \"end\":\n              return _context83.stop();\n          }\n        }, _callee83, this);\n      }));\n      function callServiceAPI(_x151, _x152) {\n        return _callServiceAPI20.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }() // prettier-ignore\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData23 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee84(e, t, i) {\n        return _regeneratorRuntime().wrap(function _callee84$(_context84) {\n          while (1) switch (_context84.prev = _context84.next) {\n            case 0:\n              if (!e.error) {\n                _context84.next = 2;\n                break;\n              }\n              throw e.error.message;\n            case 2:\n              return _context84.abrupt(\"return\", e.choices[0].delta ? {\n                text: e.choices[0].delta.content || \"\"\n              } : e.choices[0].message ? e.choices[0].message.tool_calls ? this.handleTools(e.choices[0].message, t, i) : {\n                text: e.choices[0].message.content\n              } : {\n                text: \"\"\n              });\n            case 3:\n            case \"end\":\n              return _context84.stop();\n          }\n        }, _callee84, this);\n      }));\n      function extractResultData(_x153, _x154, _x155) {\n        return _extractResultData23.apply(this, arguments);\n      }\n      return extractResultData;\n    }() // prettier-ignore\n  }, {\n    key: \"handleTools\",\n    value: function () {\n      var _handleTools2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee85(e, t, i) {\n        var a, n, r, o, l;\n        return _regeneratorRuntime().wrap(function _callee85$(_context85) {\n          while (1) switch (_context85.prev = _context85.next) {\n            case 0:\n              if (!(!e.tool_calls || !t || !i || !this._functionHandler)) {\n                _context85.next = 2;\n                break;\n              }\n              throw Error(\"Please define the `function_handler` property inside the [openAI](https://deepchat.dev/docs/directConnection/openAI#Chat) object.\");\n            case 2:\n              n = JSON.parse(JSON.stringify(i));\n              r = e.tool_calls.map(function (l) {\n                return {\n                  name: l[\"function\"].name,\n                  arguments: l[\"function\"].arguments\n                };\n              });\n              _context85.next = 6;\n              return (a = this._functionHandler) == null ? void 0 : a.call(this, r);\n            case 6:\n              o = _context85.sent;\n              if (!o.text) {\n                _context85.next = 9;\n                break;\n              }\n              return _context85.abrupt(\"return\", {\n                text: o.text\n              });\n            case 9:\n              if (!(n.messages.push(e), Array.isArray(o) && !o.find(function (l) {\n                return typeof l != \"string\";\n              }) || r.length === o.length)) {\n                _context85.next = 17;\n                break;\n              }\n              o.forEach(function (c, d) {\n                var h;\n                var u = (h = e.tool_calls) == null ? void 0 : h[d];\n                n == null || n.messages.push({\n                  role: \"tool\",\n                  tool_call_id: u == null ? void 0 : u.id,\n                  name: u == null ? void 0 : u[\"function\"].name,\n                  content: c.response\n                });\n              }), delete n.tools, delete n.tool_choice;\n              _context85.next = 13;\n              return t == null ? void 0 : t(n).then(function (c) {\n                return E.processResponseByType(c);\n              });\n            case 13:\n              l = _context85.sent;\n              if (!l.error) {\n                _context85.next = 16;\n                break;\n              }\n              throw l.error.message;\n            case 16:\n              return _context85.abrupt(\"return\", {\n                text: l.choices[0].message.content || \"\"\n              });\n            case 17:\n              throw Error(\"Response object must either be {response: string}[] for each individual function or {text: string} for a direct response, see https://deepchat.dev/docs/directConnection/OpenAI#FunctionHandler.\");\n            case 18:\n            case \"end\":\n              return _context85.stop();\n          }\n        }, _callee85, this);\n      }));\n      function handleTools(_x156, _x157, _x158) {\n        return _handleTools2.apply(this, arguments);\n      }\n      return handleTools;\n    }()\n  }], [{\n    key: \"generateSystemMessage\",\n    value: function generateSystemMessage(e) {\n      return {\n        role: \"system\",\n        content: e\n      };\n    }\n  }, {\n    key: \"getContent\",\n    value: function getContent(e) {\n      if (e.files && e.files.length > 0) {\n        var t = e.files.map(function (i) {\n          return {\n            type: \"image_url\",\n            image_url: {\n              url: i.src\n            }\n          };\n        });\n        return e.text && e.text.trim().length > 0 && t.unshift({\n          type: \"text\",\n          text: e.text\n        }), t;\n      }\n      return e.text;\n    }\n  }]);\n  return dt;\n}(U);\nvar qo = /*#__PURE__*/function (_Yi3) {\n  _inherits(qo, _Yi3);\n  var _super35 = _createSuper(qo);\n  function qo(e) {\n    var _this37$maxMessages;\n    var _this37;\n    _classCallCheck(this, qo);\n    var r;\n    var t = JSON.parse(JSON.stringify(e.directConnection)),\n      i = (r = t.cohere) == null ? void 0 : r.chat,\n      n = t.cohere;\n    _this37 = _super35.call(this, e, \"https://api.cohere.ai/v1/chat\", \"Ask me anything!\", i, n), _typeof(i) == \"object\" && Object.assign(_this37.rawBody, i), (_this37$maxMessages = _this37.maxMessages) !== null && _this37$maxMessages !== void 0 ? _this37$maxMessages : _this37.maxMessages = -1;\n    return _this37;\n  }\n  _createClass(qo, [{\n    key: \"preprocessBody\",\n    value: function preprocessBody(e, t) {\n      var i = JSON.parse(JSON.stringify(e)),\n        n = t.filter(function (r) {\n          return r.text;\n        });\n      return i.query = n[n.length - 1].text, i.chat_history = n.slice(0, n.length - 1).map(function (r) {\n        return {\n          text: r.text,\n          user_name: r.role === \"ai\" ? \"CHATBOT\" : \"USER\"\n        };\n      }), i;\n    }\n  }, {\n    key: \"callServiceAPI\",\n    value: function () {\n      var _callServiceAPI21 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee86(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee86$(_context86) {\n          while (1) switch (_context86.prev = _context86.next) {\n            case 0:\n              if (this.requestSettings) {\n                _context86.next = 2;\n                break;\n              }\n              throw new Error(\"Request settings have not been set up\");\n            case 2:\n              i = this.preprocessBody(this.rawBody, t);\n              _.request(this, i, e);\n            case 4:\n            case \"end\":\n              return _context86.stop();\n          }\n        }, _callee86, this);\n      }));\n      function callServiceAPI(_x159, _x160) {\n        return _callServiceAPI21.apply(this, arguments);\n      }\n      return callServiceAPI;\n    }()\n  }, {\n    key: \"extractResultData\",\n    value: function () {\n      var _extractResultData24 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee87(e) {\n        return _regeneratorRuntime().wrap(function _callee87$(_context87) {\n          while (1) switch (_context87.prev = _context87.next) {\n            case 0:\n              if (!e.message) {\n                _context87.next = 2;\n                break;\n              }\n              throw e.message;\n            case 2:\n              return _context87.abrupt(\"return\", {\n                text: e.text\n              });\n            case 3:\n            case \"end\":\n              return _context87.stop();\n          }\n        }, _callee87);\n      }));\n      function extractResultData(_x161) {\n        return _extractResultData24.apply(this, arguments);\n      }\n      return extractResultData;\n    }()\n  }]);\n  return qo;\n}(Yi);\nvar Ho = /*#__PURE__*/function () {\n  function Ho() {\n    _classCallCheck(this, Ho);\n  }\n  _createClass(Ho, null, [{\n    key: \"create\",\n    value:\n    // this should only be called when no _activeService is set or is demo as otherwise we don't want to reconnect\n    function create(e) {\n      var t = e.directConnection,\n        i = e.request,\n        n = e.demo,\n        r = e.webModel;\n      if (r) return new $i(e);\n      if (t) {\n        if (t.openAI) return t.openAI.images ? new Uo(e) : t.openAI.speechToText ? new No(e) : t.openAI.textToSpeech ? new Oo(e) : t.openAI.assistant ? new zo(e) : new dt(e);\n        if (t.assemblyAI) return new Xi(e);\n        if (t.cohere) return t.cohere.textGeneration ? new Lo(e) : t.cohere.summarization ? new Ro(e) : new qo(e);\n        if (t.huggingFace) return t.huggingFace.textGeneration ? new Mo(e) : t.huggingFace.summarization ? new Co(e) : t.huggingFace.translation ? new ko(e) : t.huggingFace.fillMask ? new Io(e) : t.huggingFace.questionAnswer ? new To(e) : t.huggingFace.audioSpeechRecognition ? new _o(e) : t.huggingFace.audioClassification ? new So(e) : t.huggingFace.imageClassification ? new wo(e) : new Ao(e);\n        if (t.azure) {\n          if (t.azure.speechToText) return new Fo(e);\n          if (t.azure.textToSpeech) return new jo(e);\n          if (t.azure.summarization) return new Do(e);\n          if (t.azure.translation) return new Bo(e);\n        }\n        if (t.stabilityAI) return t.stabilityAI.imageToImage ? new qt(e) : t.stabilityAI.imageToImageUpscale ? new zt(e) : t.stabilityAI.imageToImageMasking ? new Ut(e) : new Ht(e);\n      }\n      return i ? new Le(e) : new Le(e, void 0, n || !0);\n    }\n  }]);\n  return Ho;\n}();\nvar us = /*#__PURE__*/function () {\n  function zi() {\n    _classCallCheck(this, zi);\n  }\n  _createClass(zi, null, [{\n    key: \"appendStyleSheetToHead\",\n    value: function appendStyleSheetToHead() {\n      var e = document.getElementsByTagName(\"head\")[0];\n      if (!Array.from(e.getElementsByTagName(\"link\")).some(function (i) {\n        return i.getAttribute(\"href\") === zi.FONT_URL;\n      })) {\n        var _i11 = document.createElement(\"link\");\n        _i11.rel = \"stylesheet\", _i11.href = zi.FONT_URL, e.appendChild(_i11);\n      }\n    }\n  }]);\n  return zi;\n}();\nus.FONT_URL = \"https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap\";\nvar Go = us;\nvar hs = /*#__PURE__*/_createClass(function hs() {\n  _classCallCheck(this, hs);\n});\nhs.attibutes = {\n  string: function string(s) {\n    return s;\n  },\n  number: function number(s) {\n    return parseFloat(s);\n  },\n  \"boolean\": function boolean(s) {\n    return s === \"true\";\n  },\n  object: function object(s) {\n    return JSON.parse(s);\n  },\n  array: function array(s) {\n    return JSON.parse(s);\n  },\n  \"function\": function _function(s) {\n    return new Function(\"return \".concat(s))();\n  }\n};\nfunction y(s) {\n  return function (e, t) {\n    Object.defineProperty(e, t, {});\n    var i = e.constructor,\n      n = t.toLocaleLowerCase();\n    i._attributes_[n] = hs.attibutes[s], i._attributeToProperty_[n] = t;\n  };\n}\nvar en = /*#__PURE__*/function () {\n  function en() {\n    _classCallCheck(this, en);\n  }\n  _createClass(en, null, [{\n    key: \"colorToHex\",\n    value: function colorToHex(e) {\n      var t = document.createElement(\"div\");\n      return t.style.color = e, document.body.appendChild(t), \"#\".concat(window.getComputedStyle(t).color.match(/\\d+/g).map(function (r) {\n        return parseInt(r).toString(16).padStart(2, \"0\");\n      }).join(\"\"));\n    }\n  }, {\n    key: \"set\",\n    value: function set(e, t) {\n      var i, n, r, o;\n      if ((n = (i = t == null ? void 0 : t.loading) == null ? void 0 : i.bubble) != null && n.color) {\n        var a = en.colorToHex((o = (r = t == null ? void 0 : t.loading) == null ? void 0 : r.bubble) == null ? void 0 : o.color);\n        e.style.setProperty(\"--message-dots-color\", a), e.style.setProperty(\"--message-dots-color-fade\", \"\".concat(a, \"33\"));\n      } else e.style.setProperty(\"--message-dots-color\", \"#848484\"), e.style.setProperty(\"--message-dots-color-fade\", \"#55555533\");\n    }\n  }]);\n  return en;\n}();\nvar Vt = /*#__PURE__*/function () {\n  function Vt(e, t, i) {\n    _classCallCheck(this, Vt);\n    this._isDisplayed = !1, e ? (this._elementRef = this.createIntroPanelWithChild(e, i), this._isDisplayed = !0) : t && (this._elementRef = this.createInternalIntroPanel(t, i), this._isDisplayed = !0);\n  }\n  _createClass(Vt, [{\n    key: \"createIntroPanelWithChild\",\n    value: function createIntroPanelWithChild(e, t) {\n      var i = Vt.createIntroPanel(t);\n      return e.style.display === \"none\" && (e.style.display = \"block\"), i.appendChild(e), i;\n    }\n  }, {\n    key: \"createInternalIntroPanel\",\n    value: function createInternalIntroPanel(e, t) {\n      var i = Vt.createIntroPanel(t);\n      return i.id = \"internal-intro-panel\", i.innerHTML = e, i;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this._isDisplayed && this._elementRef && (this._elementRef.style.display = \"none\", this._isDisplayed = !1);\n    }\n  }, {\n    key: \"display\",\n    value: function display() {\n      !this._isDisplayed && this._elementRef && (this._elementRef.style.display = \"\", this._isDisplayed = !0);\n    }\n  }], [{\n    key: \"createIntroPanel\",\n    value: function createIntroPanel(e) {\n      var t = document.createElement(\"div\");\n      return t.classList.add(\"intro-panel\"), Object.assign(t.style, e), t;\n    }\n  }]);\n  return Vt;\n}();\nvar Vo = /*#__PURE__*/function () {\n  function Vo() {\n    _classCallCheck(this, Vo);\n  }\n  _createClass(Vo, null, [{\n    key: \"getText\",\n    value: function getText(e, t) {\n      var i, n;\n      if (!e.directConnection && !e.request && !e.webModel && !e.demo) return \"Connect to any API using the [request](https://deepchat.dev/docs/connect#Request)\\n        property or a popular service via\\n        [directConnection](https://deepchat.dev/docs/directConnection/#directConnection).\\n        \\n Host AI entirely on your browser via a [webModel](WORK).\\n        \\n To get started checkout the [Start](https://deepchat.dev/start) page and\\n        live code [examples](https://deepchat.dev/examples/frameworks).\\n        \\n To remove this message set the [demo](https://deepchat.dev/docs/demo#demo) property to true.\";\n      if (e.directConnection) {\n        if (!t.isDirectConnection()) return \"Please define a valid service inside\\n          the [directConnection](https://deepchat.dev/docs/directConnection/#directConnection) object.\";\n        var r = (i = e.directConnection.openAI) == null ? void 0 : i.chat;\n        if (_typeof(r) == \"object\" && r.tools && !r.function_handler) return \"Please define the `function_handler` property inside the openAI [chat](https://deepchat.dev/docs/directConnection/openAI#Chat) object.\";\n        var o = (n = e.directConnection.openAI) == null ? void 0 : n.assistant;\n        if (typeof o == \"boolean\" || o && !o.assistant_id) return \"Please define the `assistant_id` property inside the openAI [assistant](https://deepchat.dev/docs/directConnection/openAI#Assistant) object.\";\n      } else if (e.request && !e.request.url && !e.request.handler) return \"Please define a `url` or a `handler` property inside the [request](https://deepchat.dev/docs/connect#Request) object.\";\n      return null;\n    }\n  }]);\n  return Vo;\n}();\nvar Wo = \"<?xml version=\\\"1.0\\\" encoding=\\\"iso-8859-1\\\"?>\\n<svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" \\n\\t viewBox=\\\"50 30 420 450\\\" xml:space=\\\"preserve\\\">\\n<g filter=\\\"brightness(0) saturate(100%) invert(16%) sepia(0%) saturate(1942%) hue-rotate(215deg) brightness(99%) contrast(93%)\\\">\\n\\t<g>\\n\\t\\t<path d=\\\"M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008\\n\\t\\t\\tC350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237\\n\\t\\t\\th333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931\\n\\t\\t\\tl50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278\\n\\t\\t\\tc-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239\\n\\t\\t\\th66.527V486.763z\\\"/>\\n\\t</g>\\n</g>\\n<g>\\n\\t<g>\\n\\t\\t<path d=\\\"M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175\\n\\t\\t\\tc6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z\\\"/>\\n\\t</g>\\n</g>\\n<g>\\n\\t<g>\\n\\t\\t<path d=\\\"M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175\\n\\t\\t\\tc6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z\\\"/>\\n\\t</g>\\n</g>\\n<g>\\n\\t<g>\\n\\t\\t<path d=\\\"M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175\\n\\t\\t\\tc6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z\\\"/>\\n\\t</g>\\n</g>\\n<g>\\n\\t<g>\\n\\t\\t<path d=\\\"M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256\\n\\t\\t\\tc6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z\\\"/>\\n\\t</g>\\n</g>\\n</svg>\";\nvar fe = /*#__PURE__*/function () {\n  function fe() {\n    _classCallCheck(this, fe);\n  }\n  _createClass(fe, null, [{\n    key: \"createImage\",\n    value: function createImage(e, t) {\n      var i = new Image();\n      return i.src = e.src, ne.scrollDownOnImageLoad(i.src, t), ne.processContent(i, i.src);\n    }\n    // WORK - should base64 images be clickable?\n    // WORK - image still does not scroll down when loaded\n  }, {\n    key: \"addNewImageMessage\",\n    value: function () {\n      var _addNewImageMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee88(e, t, i) {\n        var n, r;\n        return _regeneratorRuntime().wrap(function _callee88$(_context88) {\n          while (1) switch (_context88.prev = _context88.next) {\n            case 0:\n              n = fe.createImage(t, e.elementRef), r = e.createNewMessageElement(\"\", i);\n              r.bubbleElement.appendChild(n), r.bubbleElement.classList.add(\"image-message\"), ne.addMessage(e, r, \"image\", i);\n            case 2:\n            case \"end\":\n              return _context88.stop();\n          }\n        }, _callee88);\n      }));\n      function addNewImageMessage(_x162, _x163, _x164) {\n        return _addNewImageMessage.apply(this, arguments);\n      }\n      return addNewImageMessage;\n    }()\n  }, {\n    key: \"createAudioElement\",\n    value: function createAudioElement(e, t) {\n      var i = document.createElement(\"audio\");\n      return i.src = e.src, i.classList.add(\"audio-player\"), i.controls = !0, ge.IS_SAFARI && (i.classList.add(\"audio-player-safari\"), i.classList.add(t === v.USER_ROLE ? \"audio-player-safari-right\" : \"audio-player-safari-left\")), i;\n    }\n  }, {\n    key: \"addNewAudioMessage\",\n    value: function addNewAudioMessage(e, t, i) {\n      var n = fe.createAudioElement(t, i),\n        r = e.createNewMessageElement(\"\", i);\n      r.bubbleElement.appendChild(n), r.bubbleElement.classList.add(\"audio-message\"), ne.addMessage(e, r, \"audio\", i);\n    }\n  }, {\n    key: \"createAnyFile\",\n    value: function createAnyFile(e) {\n      var t = document.createElement(\"div\");\n      t.classList.add(\"any-file-message-contents\");\n      var i = document.createElement(\"div\");\n      i.classList.add(\"any-file-message-icon-container\");\n      var n = q.createSVGElement(Wo);\n      n.classList.add(\"any-file-message-icon\"), i.appendChild(n);\n      var r = document.createElement(\"div\");\n      return r.classList.add(\"any-file-message-text\"), r.textContent = e.name || ne.DEFAULT_FILE_NAME, t.appendChild(i), t.appendChild(r), ne.processContent(t, e.src);\n    }\n  }, {\n    key: \"addNewAnyFileMessage\",\n    value: function addNewAnyFileMessage(e, t, i) {\n      var n = e.createNewMessageElement(\"\", i),\n        r = fe.createAnyFile(t);\n      n.bubbleElement.classList.add(\"any-file-message-bubble\"), n.bubbleElement.appendChild(r), ne.addMessage(e, n, \"file\", i);\n    }\n    // no overwrite previous message logic as it is complex to track which files are to be overwritten\n  }, {\n    key: \"addMessages\",\n    value: function addMessages(e, t, i) {\n      t.forEach(function (n) {\n        var r, o;\n        n.ref && (n = ne.removeFileRef(n)), n.type === \"audio\" || (r = n.src) != null && r.startsWith(\"data:audio\") ? fe.addNewAudioMessage(e, n, i) : n.type === \"image\" || (o = n.src) != null && o.startsWith(\"data:image\") ? fe.addNewImageMessage(e, n, i) : fe.addNewAnyFileMessage(e, n, i);\n      });\n    }\n  }]);\n  return fe;\n}();\nvar me = /*#__PURE__*/function (_Ke) {\n  _inherits(me, _Ke);\n  var _super36 = _createSuper(me);\n  function me(e, t, i) {\n    var _this38;\n    _classCallCheck(this, me);\n    var a, l;\n    _this38 = _super36.call(this, e);\n    var n = t.permittedErrorPrefixes,\n      r = t.introPanelMarkUp,\n      o = t.demo;\n    _this38._errorMessageOverrides = (a = e.errorMessages) == null ? void 0 : a.overrides, _this38._onClearMessages = jt.onClearMessages.bind(_assertThisInitialized(_this38), e), _this38._onError = jt.onError.bind(_assertThisInitialized(_this38), e), _this38._displayLoadingMessage = me.getDisplayLoadingMessage(e, t), _this38._permittedErrorPrefixes = n, _this38.addSetupMessageIfNeeded(e, t) || _this38.populateIntroPanel(i, r, e.introPanelStyle), _this38.addIntroductoryMessage(e, t), e.initialMessages && _this38.populateInitialMessages(e.initialMessages), _this38._displayServiceErrorMessages = (l = e.errorMessages) == null ? void 0 : l.displayServiceErrorMessages, e.getMessages = function () {\n      return JSON.parse(JSON.stringify(_this38.messages));\n    }, e.clearMessages = _this38.clearMessages.bind(_assertThisInitialized(_this38), t), e.refreshMessages = _this38.refreshTextMessages.bind(_assertThisInitialized(_this38)), e.scrollToBottom = Y.scrollToBottom.bind(_assertThisInitialized(_this38), _this38.elementRef), e._addMessage = function (c, d) {\n      _this38.addNewMessage(_objectSpread(_objectSpread({}, c), {}, {\n        sendUpdate: !!d\n      }), !d);\n    }, t.isWebModel() && t.setUpMessages(_assertThisInitialized(_this38)), o && _this38.prepareDemo(o), e.textToSpeech && Nt.processConfig(e.textToSpeech, function (c) {\n      _this38.textToSpeech = c;\n    });\n    return _this38;\n  }\n  _createClass(me, [{\n    key: \"prepareDemo\",\n    value: function prepareDemo(e) {\n      _typeof(e) == \"object\" && (e.response && (this.customDemoResponse = e.response), e.displayErrors && (e.displayErrors[\"default\"] && this.addNewErrorMessage(\"\", \"\"), e.displayErrors.service && this.addNewErrorMessage(\"service\", \"\"), e.displayErrors.speechToText && this.addNewErrorMessage(\"speechToText\", \"\")), e.displayLoadingBubble && this.addLoadingMessage());\n    }\n  }, {\n    key: \"addSetupMessageIfNeeded\",\n    value: function addSetupMessageIfNeeded(e, t) {\n      var i = Vo.getText(e, t);\n      if (i) {\n        var n = this.createAndAppendNewMessageElement(i, v.AI_ROLE);\n        this.applyCustomStyles(n, v.AI_ROLE, !1);\n      }\n      return !!i;\n    }\n    // WORK - const file for deep chat classes\n  }, {\n    key: \"addIntroductoryMessage\",\n    value: function addIntroductoryMessage(e, t) {\n      var _i12;\n      var n;\n      e != null && e.shadowRoot && (this._introMessage = e.introMessage);\n      var i = this._introMessage;\n      if (t != null && t.isWebModel() && ((_i12 = i) !== null && _i12 !== void 0 ? _i12 : i = t.getIntroMessage(i)), i) {\n        var r;\n        i != null && i.text ? r = this.createAndAppendNewMessageElement(i.text, v.AI_ROLE) : i != null && i.html && (r = Ye.add(this, i.html, v.AI_ROLE, this.messageElementRefs)), r && (this.applyCustomStyles(r, v.AI_ROLE, !1, (n = this.messageStyles) == null ? void 0 : n.intro), r.outerContainer.classList.add(\"deep-chat-intro\"));\n      }\n    }\n  }, {\n    key: \"removeIntroductoryMessage\",\n    value: function removeIntroductoryMessage() {\n      var e = this.messageElementRefs[0];\n      e.outerContainer.classList.contains(\"deep-chat-intro\") && (e.outerContainer.remove(), this.messageElementRefs.shift());\n    }\n  }, {\n    key: \"populateInitialMessages\",\n    value: function populateInitialMessages(e) {\n      var _this39 = this;\n      e.forEach(function (t) {\n        ke.processInitialMessageFile(t), _this39.addNewMessage(t, !0);\n      }), setTimeout(function () {\n        return Y.scrollToBottom(_this39.elementRef);\n      }, 0);\n    }\n    // this should not be activated by streamed messages\n  }, {\n    key: \"addNewMessage\",\n    value: function addNewMessage(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n      var i = me.createMessageContent(e),\n        n = {\n          status: e.overwrite\n        };\n      if (!e.ignoreText && i.text !== void 0 && e.text !== null && (this.addNewTextMessage(i.text, i.role, n), !t && this.textToSpeech && i.role !== v.USER_ROLE && Nt.speak(i.text, this.textToSpeech)), i.files && Array.isArray(i.files) && fe.addMessages(this, i.files, i.role), i.html !== void 0 && i.html !== null) {\n        var r = Ye.add(this, i.html, i.role, this.messageElementRefs, n);\n        be.isElementTemporary(r) && delete i.html;\n      }\n      this.isValidMessageContent(i) && this.updateStateOnMessage(i, e.overwrite, e.sendUpdate, t);\n    }\n  }, {\n    key: \"isValidMessageContent\",\n    value: function isValidMessageContent(e) {\n      return e.text || e.html || e.files && e.files.length > 0;\n    }\n  }, {\n    key: \"updateStateOnMessage\",\n    value: function updateStateOnMessage(e, t) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !0;\n      var n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n      t || this.messages.push(e), i && this.sendClientUpdate(e, n);\n    }\n    // prettier-ignore\n  }, {\n    key: \"removeMessageOnError\",\n    value: function removeMessageOnError() {\n      var e = this.messageElementRefs[this.messageElementRefs.length - 1],\n        t = e == null ? void 0 : e.bubbleElement;\n      (t != null && t.classList.contains(Ze.MESSAGE_CLASS) && t.textContent === \"\" || me.isTemporaryElement(e)) && this.removeLastMessage();\n    }\n    // prettier-ignore\n  }, {\n    key: \"addNewErrorMessage\",\n    value: function addNewErrorMessage(e, t) {\n      var l, c, d, u, h;\n      this.removeMessageOnError();\n      var i = me.createBaseElements(),\n        n = i.outerContainer,\n        r = i.bubbleElement;\n      r.classList.add(\"error-message-text\");\n      var o = this.getPermittedMessage(t) || ((l = this._errorMessageOverrides) == null ? void 0 : l[e]) || ((c = this._errorMessageOverrides) == null ? void 0 : c[\"default\"]) || \"Error, please try again.\";\n      this.renderText(r, o);\n      var a = D.extractParticularSharedStyles([\"fontSize\", \"fontFamily\"], (d = this.messageStyles) == null ? void 0 : d[\"default\"]);\n      D.applyCustomStylesToElements(i, !1, a), D.applyCustomStylesToElements(i, !1, (u = this.messageStyles) == null ? void 0 : u.error), this.elementRef.appendChild(n), Y.scrollToBottom(this.elementRef), this.textToSpeech && Nt.speak(o, this.textToSpeech), (h = this._onError) == null || h.call(this, o);\n    }\n  }, {\n    key: \"getPermittedMessage\",\n    value: function getPermittedMessage(e) {\n      if (e) {\n        if (this._displayServiceErrorMessages) return e;\n        if (typeof e == \"string\" && this._permittedErrorPrefixes) {\n          var t = me.checkPermittedErrorPrefixes(this._permittedErrorPrefixes, e);\n          if (t) return t;\n        } else if (Array.isArray(e) && this._permittedErrorPrefixes) for (var _t3 = 0; _t3 < e.length; _t3 += 1) {\n          var _i13 = me.checkPermittedErrorPrefixes(this._permittedErrorPrefixes, e[_t3]);\n          if (_i13) return _i13;\n        }\n      }\n    }\n  }, {\n    key: \"isLastMessageError\",\n    value: function isLastMessageError() {\n      var e;\n      return (e = v.getLastMessageBubbleElement(this.elementRef)) == null ? void 0 : e.classList.contains(\"error-message-text\");\n    }\n  }, {\n    key: \"removeError\",\n    value: function removeError() {\n      this.isLastMessageError() && v.getLastMessageElement(this.elementRef).remove();\n    }\n  }, {\n    key: \"addLoadingMessage\",\n    value: function addLoadingMessage() {\n      var r;\n      if (!this._displayLoadingMessage) return;\n      var e = this.createMessageElements(\"\", v.AI_ROLE),\n        t = e.outerContainer,\n        i = e.bubbleElement;\n      i.classList.add(\"loading-message-text\");\n      var n = document.createElement(\"div\");\n      n.classList.add(\"dots-flashing\"), i.appendChild(n), this.applyCustomStyles(e, v.AI_ROLE, !1, (r = this.messageStyles) == null ? void 0 : r.loading), en.set(i, this.messageStyles), this.elementRef.appendChild(t), Y.scrollToBottom(this.elementRef);\n    }\n  }, {\n    key: \"populateIntroPanel\",\n    value: function populateIntroPanel(e, t, i) {\n      (e || t) && (this._introPanel = new Vt(e, t, i), this._introPanel._elementRef && (se.apply(this, this._introPanel._elementRef), this.elementRef.appendChild(this._introPanel._elementRef)));\n    }\n  }, {\n    key: \"addMultipleFiles\",\n    value: function () {\n      var _addMultipleFiles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee89(e) {\n        return _regeneratorRuntime().wrap(function _callee89$(_context89) {\n          while (1) switch (_context89.prev = _context89.next) {\n            case 0:\n              return _context89.abrupt(\"return\", Promise.all((e || []).map(function (t) {\n                return new Promise(function (i) {\n                  if (!t.type || t.type === \"any\") {\n                    var n = t.file.name || ne.DEFAULT_FILE_NAME;\n                    i({\n                      name: n,\n                      type: \"any\",\n                      ref: t.file\n                    });\n                  } else {\n                    var _n3 = new FileReader();\n                    _n3.readAsDataURL(t.file), _n3.onload = function () {\n                      i({\n                        src: _n3.result,\n                        type: t.type,\n                        ref: t.file\n                      });\n                    };\n                  }\n                });\n              })));\n            case 1:\n            case \"end\":\n              return _context89.stop();\n          }\n        }, _callee89);\n      }));\n      function addMultipleFiles(_x165) {\n        return _addMultipleFiles.apply(this, arguments);\n      }\n      return addMultipleFiles;\n    }() // WORK - update all message classes to use deep-chat prefix\n  }, {\n    key: \"clearMessages\",\n    value: function clearMessages(e, t) {\n      var n, r;\n      var i = [];\n      this.messageElementRefs.forEach(function (o) {\n        var a = o.bubbleElement.classList;\n        a.contains(\"loading-message-text\") || a.contains(Ze.MESSAGE_CLASS) ? i.push(o) : o.outerContainer.remove();\n      }), Array.from(this.elementRef.children).forEach(function (o) {\n        var l;\n        var a = (l = o.children[0]) == null ? void 0 : l.children[0];\n        a != null && a.classList.contains(\"error-message-text\") && o.remove();\n      }), this.messageElementRefs = i, t !== !1 && ((n = this._introPanel) != null && n._elementRef && this._introPanel.display(), this.addIntroductoryMessage()), this.messages.splice(0, this.messages.length), this.textElementsToText.splice(0, this.textElementsToText.length), (r = this._onClearMessages) == null || r.call(this), delete e.sessionId;\n    }\n  }], [{\n    key: \"getDisplayLoadingMessage\",\n    value: function getDisplayLoadingMessage(e, t) {\n      var _e$displayLoadingBubb;\n      return t.websocket ? !1 : (_e$displayLoadingBubb = e.displayLoadingBubble) !== null && _e$displayLoadingBubb !== void 0 ? _e$displayLoadingBubb : !0;\n    }\n  }, {\n    key: \"checkPermittedErrorPrefixes\",\n    value: function checkPermittedErrorPrefixes(e, t) {\n      for (var _i14 = 0; _i14 < e.length; _i14 += 1) if (t.startsWith(e[_i14])) return t;\n    }\n  }]);\n  return me;\n}(Ke);\nvar St = /*#__PURE__*/function () {\n  function W() {\n    _classCallCheck(this, W);\n  }\n  _createClass(W, null, [{\n    key: \"adjustInputPadding\",\n    value: function adjustInputPadding(e, t) {\n      t[\"inside-left\"].length > 0 && e.classList.add(\"text-input-inner-left-adjustment\"), t[\"inside-right\"].length > 0 && e.classList.add(\"text-input-inner-right-adjustment\");\n    }\n  }, {\n    key: \"adjustForOutsideButton\",\n    value: function adjustForOutsideButton(e, t, i) {\n      i[\"outside-right\"].length === 0 && i[\"outside-left\"].length > 0 ? (e[0].classList.add(W.INPUT_OUTSIDE_LEFT_SMALL_ADJUSTMENT_CLASS), t.classList.add(W.INPUT_OUTSIDE_LEFT_SMALL_ADJUSTMENT_CLASS)) : i[\"outside-left\"].length === 0 && i[\"outside-right\"].length > 0 && (e[3].classList.add(W.INPUT_OUTSIDE_RIGHT_SMALL_ADJUSTMENT_CLASS), t.classList.add(W.INPUT_OUTSIDE_RIGHT_SMALL_ADJUSTMENT_CLASS));\n    }\n    // when submit is the only button\n    // when submit button is outside by itself - we increase the height for a better look\n  }, {\n    key: \"adjustOutsideSubmit\",\n    value: function adjustOutsideSubmit(e, t, i) {\n      if (!(i[\"inside-left\"].length > 0 || i[\"inside-right\"].length > 0)) {\n        if (i[\"outside-right\"].length === 0 && i[\"outside-left\"].length > 0) return e[0].classList.add(W.INPUT_OUTSIDE_LEFT_ADJUSTMENT_CLASS), t.classList.add(W.INPUT_OUTSIDE_LEFT_ADJUSTMENT_CLASS), i[\"outside-left\"].map(function (n) {\n          return n.button.elementRef.classList.add(\"submit-button-enlarged\");\n        });\n        if (i[\"outside-left\"].length === 0 && i[\"outside-right\"].length > 0) return e[3].classList.add(W.INPUT_OUTSIDE_RIGHT_ADJUSTMENT_CLASS), t.classList.add(W.INPUT_OUTSIDE_RIGHT_ADJUSTMENT_CLASS), i[\"outside-right\"].map(function (n) {\n          return n.button.elementRef.classList.add(\"submit-button-enlarged\");\n        });\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(e, t, i, n) {\n      !!W.adjustOutsideSubmit(t, i, n) || W.adjustForOutsideButton(t, i, n), W.adjustInputPadding(e, n);\n    }\n  }]);\n  return W;\n}();\nSt.INPUT_OUTSIDE_LEFT_ADJUSTMENT_CLASS = \"text-input-container-left-adjustment\";\nSt.INPUT_OUTSIDE_RIGHT_ADJUSTMENT_CLASS = \"text-input-container-right-adjustment\";\nSt.INPUT_OUTSIDE_LEFT_SMALL_ADJUSTMENT_CLASS = \"text-input-container-left-small-adjustment\";\nSt.INPUT_OUTSIDE_RIGHT_SMALL_ADJUSTMENT_CLASS = \"text-input-container-right-small-adjustment\";\nvar Ko = St;\nvar Qe = /*#__PURE__*/function () {\n  function Qe() {\n    _classCallCheck(this, Qe);\n  }\n  _createClass(Qe, null, [{\n    key: \"create\",\n    value: function create() {\n      return Array.from({\n        length: 4\n      }).map(function (e, t) {\n        var i = document.createElement(\"div\");\n        return i.classList.add(\"input-button-container\"), (t === 0 || t === 3) && i.classList.add(\"outer-button-container\"), (t === 1 || t === 2) && i.classList.add(\"inner-button-container\"), i;\n      });\n    }\n  }, {\n    key: \"add\",\n    value: function add(e, t) {\n      e.insertBefore(t[1], e.firstChild), e.insertBefore(t[0], e.firstChild), e.appendChild(t[2]), e.appendChild(t[3]);\n    }\n  }, {\n    key: \"getContainerIndex\",\n    value: function getContainerIndex(e) {\n      return e === \"outside-left\" ? 0 : e === \"inside-left\" ? 1 : e === \"inside-right\" ? 2 : 3;\n    }\n  }, {\n    key: \"addButton\",\n    value: function addButton(e, t, i) {\n      t.classList.add(i);\n      var n = Qe.getContainerIndex(i);\n      e[n].appendChild(t), n === 3 && t.classList.add(\"outside-right\");\n    }\n  }]);\n  return Qe;\n}();\nvar Sn = [\"camera\", \"gifs\", \"images\", \"audio\", \"mixedFiles\", \"submit\", \"microphone\"];\nvar j = /*#__PURE__*/function () {\n  function j() {\n    _classCallCheck(this, j);\n  }\n  _createClass(j, null, [{\n    key: \"createTextElement\",\n    value: function createTextElement(e) {\n      var t = document.createElement(\"div\");\n      return t.classList.add(\"text-button\"), t.innerText = e, t;\n    }\n  }, {\n    key: \"createElement\",\n    value: function createElement(e, t) {\n      return t ? j.createTextElement(e) : q.createSVGElement(e);\n    }\n  }, {\n    key: \"createCustomElement\",\n    value: function createCustomElement(e, t) {\n      var n, r, o, a;\n      var i = t == null ? void 0 : t[e];\n      if ((n = i == null ? void 0 : i.text) != null && n.content) return j.createElement((r = i == null ? void 0 : i.text) == null ? void 0 : r.content, !0);\n      if ((o = i == null ? void 0 : i.svg) != null && o.content) return j.createElement((a = i == null ? void 0 : i.svg) == null ? void 0 : a.content, !1);\n    }\n  }, {\n    key: \"processElement\",\n    value: function processElement(e, t) {\n      t != null && t.classList.contains(\"text-button\") || e.classList.add(\"input-button-svg\");\n    }\n    // publicly used for creating elements that do not change state in a sequence\n    // prettier-ignore\n  }, {\n    key: \"createSpecificStateElement\",\n    value: function createSpecificStateElement(e, t, i) {\n      var n;\n      return i && (n = j.createCustomElement(t, i)), j.processElement(e, n), n;\n    }\n    // used for creating elements that change state in a sequence\n    // prettier-ignore\n  }, {\n    key: \"create\",\n    value: function create(e, t, i) {\n      var n = {};\n      if (!i) return j.processElement(e), n;\n      var r = j.createSpecificStateElement(e, t[0], i);\n      n[t[0]] = r;\n      var o = r;\n      return t.slice(1).forEach(function (a) {\n        o = j.createCustomElement(a, i) || o, n[a] = o;\n      }), n;\n    }\n  }]);\n  return j;\n}();\nvar Jo = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 32 32\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n    <path d=\\\"M16 0c-8.836 0-16 7.163-16 16s7.163 16 16 16c8.837 0 16-7.163 16-16s-7.163-16-16-16zM16 30.032c-7.72 0-14-6.312-14-14.032s6.28-14 14-14 14 6.28 14 14-6.28 14.032-14 14.032zM23 15h-6v-6c0-0.552-0.448-1-1-1s-1 0.448-1 1v6h-6c-0.552 0-1 0.448-1 1s0.448 1 1 1h6v6c0 0.552 0.448 1 1 1s1-0.448 1-1v-6h6c0.552 0 1-0.448 1-1s-0.448-1-1-1z\\\"></path>\\n</svg>\";\nvar te = /*#__PURE__*/function () {\n  function te() {\n    _classCallCheck(this, te);\n  }\n  _createClass(te, null, [{\n    key: \"unsetAllCSS\",\n    value: function unsetAllCSS(e, t) {\n      var i, n;\n      t.container && T.unsetAllCSSMouseStates(e, t.container), (i = t.svg) != null && i.styles && T.unsetAllCSSMouseStates(e.children[0], t.svg.styles), (n = t.text) != null && n.styles && T.unsetAllCSSMouseStates(e.children[0], t.text.styles);\n    }\n  }, {\n    key: \"unsetActionCSS\",\n    value: function unsetActionCSS(e, t) {\n      var i, n;\n      t.container && T.unsetActivityCSSMouseStates(e, t.container), (i = t.svg) != null && i.styles && T.unsetActivityCSSMouseStates(e.children[0], t.svg.styles), (n = t.text) != null && n.styles && T.unsetActivityCSSMouseStates(e.children[0], t.text.styles);\n    }\n  }, {\n    key: \"setElementsCSS\",\n    value: function setElementsCSS(e, t, i) {\n      var n, r, o, a, l;\n      Object.assign(e.style, (n = t.container) == null ? void 0 : n[i]), Object.assign(e.children[0].style, (o = (r = t.svg) == null ? void 0 : r.styles) == null ? void 0 : o[i]), Object.assign(e.children[0].style, (l = (a = t.text) == null ? void 0 : a.styles) == null ? void 0 : l[i]);\n    }\n  }, {\n    key: \"setElementCssUpToState\",\n    value: function setElementCssUpToState(e, t, i) {\n      te.setElementsCSS(e, t, \"default\"), i !== \"default\" && (te.setElementsCSS(e, t, \"hover\"), i !== \"hover\" && te.setElementsCSS(e, t, \"click\"));\n    }\n  }]);\n  return te;\n}();\nvar wt = /*#__PURE__*/function () {\n  function wt(e, t, i, n) {\n    _classCallCheck(this, wt);\n    this._mouseState = {\n      state: \"default\"\n    }, this.elementRef = e, this._customStyles = i, this.position = t, this.dropupText = n;\n  }\n  _createClass(wt, [{\n    key: \"buttonMouseLeave\",\n    value: function buttonMouseLeave(e) {\n      this._mouseState.state = \"default\", e && (te.unsetAllCSS(this.elementRef, e), te.setElementsCSS(this.elementRef, e, \"default\"));\n    }\n  }, {\n    key: \"buttonMouseEnter\",\n    value: function buttonMouseEnter(e) {\n      this._mouseState.state = \"hover\", e && te.setElementsCSS(this.elementRef, e, \"hover\");\n    }\n  }, {\n    key: \"buttonMouseUp\",\n    value: function buttonMouseUp(e) {\n      e && te.unsetActionCSS(this.elementRef, e), this.buttonMouseEnter(e);\n    }\n  }, {\n    key: \"buttonMouseDown\",\n    value: function buttonMouseDown(e) {\n      this._mouseState.state = \"click\", e && te.setElementsCSS(this.elementRef, e, \"click\");\n    }\n    // be careful not to use onclick as that is used for button functionality\n  }, {\n    key: \"setEvents\",\n    value: function setEvents(e) {\n      this.elementRef.onmousedown = this.buttonMouseDown.bind(this, e), this.elementRef.onmouseup = this.buttonMouseUp.bind(this, e), this.elementRef.onmouseenter = this.buttonMouseEnter.bind(this, e), this.elementRef.onmouseleave = this.buttonMouseLeave.bind(this, e);\n    }\n  }, {\n    key: \"unsetCustomStateStyles\",\n    value: function unsetCustomStateStyles(e) {\n      if (this._customStyles) for (var t = 0; t < e.length; t += 1) {\n        var _i15 = e[t],\n          n = _i15 && this._customStyles[_i15];\n        n && te.unsetActionCSS(this.elementRef, n);\n      }\n    }\n  }, {\n    key: \"reapplyStateStyle\",\n    value: function reapplyStateStyle(e, t) {\n      if (!this._customStyles) return;\n      t && this.unsetCustomStateStyles(t);\n      var i = this._customStyles[e];\n      i && te.setElementCssUpToState(this.elementRef, i, this._mouseState.state), this.setEvents(i);\n    }\n  }]);\n  return wt;\n}();\nvar gt = /*#__PURE__*/function () {\n  function gt() {\n    _classCallCheck(this, gt);\n  }\n  _createClass(gt, null, [{\n    key: \"focusItemWhenOnEdge\",\n    value: function focusItemWhenOnEdge(e, t) {\n      var i = t ? e.children[0] : e.children[e.children.length - 1];\n      gt.focusSiblingItem(i, e, t, !0);\n    }\n    // isEdgeItem means is it a start or end item\n    // prettier-ignore\n  }, {\n    key: \"focusSiblingItem\",\n    value: function focusSiblingItem(e, t, i) {\n      var n = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n      var r = n ? e : e[i ? \"nextSibling\" : \"previousSibling\"];\n      r ? (e.dispatchEvent(new MouseEvent(\"mouseleave\")), r.dispatchEvent(new MouseEvent(\"mouseenter\"))) : (e.dispatchEvent(new MouseEvent(\"mouseleave\")), gt.focusItemWhenOnEdge(t, i));\n    }\n  }]);\n  return gt;\n}();\nvar _e = /*#__PURE__*/function () {\n  function _e() {\n    _classCallCheck(this, _e);\n  }\n  _createClass(_e, null, [{\n    key: \"addItemEvents\",\n    value: function addItemEvents(e, t, i, n) {\n      Te.add(t, n), t.addEventListener(\"click\", function () {\n        i.click();\n      }), t.addEventListener(\"mouseenter\", function (r) {\n        e.highlightedItem = r.target;\n      }), t.addEventListener(\"mouseleave\", function () {\n        e.highlightedItem = void 0;\n      });\n    }\n  }, {\n    key: \"createItemText\",\n    value: function createItemText(e, t) {\n      var i = document.createElement(\"div\");\n      return Object.assign(i.style, t), i.classList.add(\"dropup-menu-item-text\"), i.textContent = e || \"File\", i;\n    }\n  }, {\n    key: \"createItemIcon\",\n    value: function createItemIcon(e, t) {\n      var i = document.createElement(\"div\");\n      return Object.assign(i.style, t), i.classList.add(\"dropup-menu-item-icon\"), i.appendChild(e.children[0]), i;\n    }\n  }, {\n    key: \"populateItem\",\n    value: function populateItem(e, t, i, n) {\n      var r = e.children[0];\n      r.classList.contains(\"text-button\") ? t.appendChild(_e.createItemText(r.textContent, n == null ? void 0 : n.text)) : (t.appendChild(_e.createItemIcon(e, n == null ? void 0 : n.iconContainer)), t.appendChild(_e.createItemText(i, n == null ? void 0 : n.text)));\n    }\n    // prettier-ignore\n  }, {\n    key: \"createItem\",\n    value: function createItem(e, t, i) {\n      var l;\n      var n = t.elementRef,\n        r = t.dropupText,\n        o = document.createElement(\"div\");\n      Object.assign(o.style, (l = i == null ? void 0 : i.item) == null ? void 0 : l[\"default\"]), _e.populateItem(n, o, r, i), o.classList.add(\"dropup-menu-item\");\n      var a = T.processStateful((i == null ? void 0 : i.item) || {}, {\n        backgroundColor: \"#f3f3f3\"\n      }, {\n        backgroundColor: \"#ebebeb\"\n      });\n      return _e.addItemEvents(e, o, n, a), o;\n    }\n  }]);\n  return _e;\n}();\nvar tn = /*#__PURE__*/function () {\n  function tn(e, t) {\n    var _this40 = this;\n    _classCallCheck(this, tn);\n    var i;\n    this._isOpen = !0, this._styles = t, this.elementRef = tn.createElement((i = this._styles) == null ? void 0 : i.container), this.close(), setTimeout(function () {\n      return _this40.addWindowEvents(e);\n    });\n  }\n  _createClass(tn, [{\n    key: \"open\",\n    value: function open() {\n      this.elementRef.style.display = \"block\", this._isOpen = !0;\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this._isOpen && (this.elementRef.style.display = \"none\", this._isOpen = !1);\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      this._isOpen ? this.close() : this.open();\n    }\n  }, {\n    key: \"addItem\",\n    value: function addItem(e) {\n      var t = _e.createItem(this, e, this._styles);\n      this.elementRef.appendChild(t);\n    }\n    // prettier-ignore\n  }, {\n    key: \"addWindowEvents\",\n    value: function addWindowEvents(e) {\n      this.clickEvent = this.windowClick.bind(this, e), window.addEventListener(\"click\", this.clickEvent), this.keyDownEvent = this.windowKeyDown.bind(this, e), window.addEventListener(\"keydown\", this.keyDownEvent);\n    }\n  }, {\n    key: \"windowClick\",\n    value: function windowClick(e, t) {\n      var i;\n      !e.isConnected && this.clickEvent ? window.removeEventListener(\"click\", this.clickEvent) : e.parentElement !== ((i = t.target.shadowRoot) == null ? void 0 : i.children[0]) && this.close();\n    }\n    // prettier-ignore\n  }, {\n    key: \"windowKeyDown\",\n    value: function windowKeyDown(e, t) {\n      var i, n, r;\n      !e.isConnected && this.keyDownEvent ? window.removeEventListener(\"keydown\", this.keyDownEvent) : this._isOpen && (t.key === R.ESCAPE ? (this.close(), (i = this.highlightedItem) == null || i.dispatchEvent(new MouseEvent(\"mouseleave\"))) : t.key === R.ENTER ? ((n = this.highlightedItem) == null || n.click(), (r = this.highlightedItem) == null || r.dispatchEvent(new MouseEvent(\"mouseleave\"))) : t.key === R.ARROW_DOWN ? gt.focusSiblingItem(this.highlightedItem || this.elementRef.children[this.elementRef.children.length - 1], this.elementRef, !0) : t.key === R.ARROW_UP && gt.focusSiblingItem(this.highlightedItem || this.elementRef.children[0], this.elementRef, !1));\n    }\n  }], [{\n    key: \"createElement\",\n    value: function createElement(e) {\n      var t = document.createElement(\"div\");\n      return t.id = \"dropup-menu\", Object.assign(t.style, e), t;\n    }\n  }]);\n  return tn;\n}();\nvar Je = /*#__PURE__*/function (_wt) {\n  _inherits(Je, _wt);\n  var _super37 = _createSuper(Je);\n  function Je(e, t) {\n    var _this41;\n    _classCallCheck(this, Je);\n    var n;\n    _this41 = _super37.call(this, Je.createButtonElement(), void 0, {\n      styles: (n = t == null ? void 0 : t.button) == null ? void 0 : n.styles\n    });\n    var i = _this41.createInnerElements(_this41._customStyles);\n    _this41._menu = new tn(e, t == null ? void 0 : t.menu), _this41.addClickEvent(), _this41.buttonContainer = Je.createButtonContainer(), _this41.elementRef.appendChild(i.styles), _this41.buttonContainer.appendChild(_this41.elementRef), _this41.elementRef.classList.add(\"dropup-icon\", \"upload-file-button\"), _this41.buttonContainer.appendChild(_this41._menu.elementRef), _this41.reapplyStateStyle(\"styles\"), _this41.addContainerEvents(e);\n    return _this41;\n  }\n  _createClass(Je, [{\n    key: \"createInnerElements\",\n    value: function createInnerElements(e) {\n      return {\n        styles: this.createInnerElement(Je.createSVGIconElement(), \"styles\", e)\n      };\n    }\n  }, {\n    key: \"createInnerElement\",\n    value: function createInnerElement(e, t, i) {\n      return j.createSpecificStateElement(this.elementRef, t, i) || e;\n    }\n  }, {\n    key: \"addClickEvent\",\n    value: function addClickEvent() {\n      this.elementRef.onclick = this._menu.toggle.bind(this._menu);\n    }\n  }, {\n    key: \"addItem\",\n    value: function addItem(e) {\n      this._menu.addItem(e);\n    }\n  }, {\n    key: \"addContainerEvents\",\n    value: function addContainerEvents(e) {\n      var _this42 = this;\n      e.addEventListener(\"click\", function (t) {\n        t.target.classList.contains(\"dropup-icon\") || _this42._menu.close();\n      });\n    }\n  }], [{\n    key: \"createButtonElement\",\n    value: function createButtonElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"input-button\"), e;\n    }\n  }, {\n    key: \"createSVGIconElement\",\n    value: function createSVGIconElement() {\n      var e = q.createSVGElement(Jo);\n      return e.id = \"dropup-icon\", e;\n    }\n  }, {\n    key: \"createButtonContainer\",\n    value: function createButtonContainer() {\n      var e = document.createElement(\"div\");\n      return e.id = \"dropup-container\", e;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(e, t) {\n      var i, n;\n      return (i = t == null ? void 0 : t.button) != null && i.position ? (n = t == null ? void 0 : t.button) == null ? void 0 : n.position : e[\"outside-left\"].length > 0 && e[\"outside-right\"].length === 0 ? \"outside-right\" : \"outside-left\";\n    }\n  }]);\n  return Je;\n}(wt);\nvar F = /*#__PURE__*/function () {\n  function F() {\n    _classCallCheck(this, F);\n  }\n  _createClass(F, null, [{\n    key: \"addToDropup\",\n    value:\n    // prettier-ignore\n    function addToDropup(e, t, i, n) {\n      var r = new Je(i, n);\n      Sn.forEach(function (a) {\n        var l = t[\"dropup-menu\"].findIndex(function (d) {\n            return d.buttonType === a;\n          }),\n          c = t[\"dropup-menu\"][l];\n        c && (r.addItem(c.button), t[\"dropup-menu\"].splice(l, 1));\n      });\n      var o = Je.getPosition(t, n);\n      Qe.addButton(e, r.buttonContainer, o), t[o].push({});\n    }\n  }, {\n    key: \"addToSideContainer\",\n    value: function addToSideContainer(e, t) {\n      [\"inside-left\", \"inside-right\", \"outside-left\", \"outside-right\"].forEach(function (n) {\n        var r = n;\n        t[r].forEach(function (o) {\n          Qe.addButton(e, o.button.elementRef, r);\n        });\n      });\n    }\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(e, t, i) {\n      var n = _objectSpread(_objectSpread({}, e[t]), {}, {\n        buttonType: t\n      });\n      i.push(n), delete e[t];\n    }\n  }, {\n    key: \"createPositionsObj\",\n    value: function createPositionsObj() {\n      return {\n        \"dropup-menu\": [],\n        \"outside-left\": [],\n        \"inside-left\": [],\n        \"inside-right\": [],\n        \"outside-right\": []\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"generatePositions\",\n    value: function generatePositions(e) {\n      var t = F.createPositionsObj();\n      Object.keys(e).forEach(function (n) {\n        var o;\n        var r = (o = e[n]) == null ? void 0 : o.button.position;\n        r && F.setPosition(e, n, t[r]);\n      }), t[\"inside-right\"].length === 0 && e.submit && F.setPosition(e, \"submit\", t[\"inside-right\"]), t[\"outside-right\"].length === 0 && (e.submit ? F.setPosition(e, \"submit\", t[\"outside-right\"]) : e.microphone ? F.setPosition(e, \"microphone\", t[\"outside-right\"]) : e.camera && F.setPosition(e, \"camera\", t[\"outside-right\"])), e.submit && F.setPosition(e, \"submit\", t[\"outside-left\"].length === 0 ? t[\"outside-left\"] : t[\"inside-right\"]), e.microphone && F.setPosition(e, \"microphone\", t[\"outside-left\"].length === 0 ? t[\"outside-left\"] : t[\"inside-right\"]);\n      var i = Object.keys(e);\n      return i.length > 1 || t[\"dropup-menu\"].length > 0 ? Sn.forEach(function (n) {\n        e[n] && t[\"dropup-menu\"].push(_objectSpread(_objectSpread({}, e[n]), {}, {\n          buttonType: n\n        }));\n      }) : i.length === 1 && F.setPosition(e, i[0], t[\"outside-right\"].length === 0 ? t[\"outside-right\"] : t[\"outside-left\"]), t;\n    }\n    // prettier-ignore\n  }, {\n    key: \"addButtons\",\n    value: function addButtons(e, t, i, n) {\n      var r = F.generatePositions(t);\n      return F.addToSideContainer(e, r), r[\"dropup-menu\"].length > 0 && F.addToDropup(e, r, i, n), r;\n    }\n  }]);\n  return F;\n}();\nvar $o = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n<title>file</title>\\n<path d=\\\"M20 10.9696L11.9628 18.5497C10.9782 19.4783 9.64274 20 8.25028 20C6.85782 20 5.52239 19.4783 4.53777 18.5497C3.55315 17.6211 3 16.3616 3 15.0483C3 13.7351 3.55315 12.4756 4.53777 11.547L12.575 3.96687C13.2314 3.34779 14.1217 3 15.05 3C15.9783 3 16.8686 3.34779 17.525 3.96687C18.1814 4.58595 18.5502 5.4256 18.5502 6.30111C18.5502 7.17662 18.1814 8.01628 17.525 8.63535L9.47904 16.2154C9.15083 16.525 8.70569 16.6989 8.24154 16.6989C7.77738 16.6989 7.33224 16.525 7.00403 16.2154C6.67583 15.9059 6.49144 15.4861 6.49144 15.0483C6.49144 14.6106 6.67583 14.1907 7.00403 13.8812L14.429 6.88674\\\" stroke=\\\"#000000\\\" stroke-width=\\\"1.5\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n</svg>\",\n  Yo = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path d=\\\"M20,15.2928932 L20,5.5 C20,4.67157288 19.3284271,4 18.5,4 L5.5,4 C4.67157288,4 4,4.67157288 4,5.5 L4,12.2928932 L7.14644661,9.14644661 C7.34170876,8.95118446 7.65829124,8.95118446 7.85355339,9.14644661 L13.5,14.7928932 L16.1464466,12.1464466 C16.3417088,11.9511845 16.6582912,11.9511845 16.8535534,12.1464466 L20,15.2928932 Z M20,16.7071068 L16.5,13.2071068 L13.8535534,15.8535534 C13.6582912,16.0488155 13.3417088,16.0488155 13.1464466,15.8535534 L7.5,10.2071068 L4,13.7071068 L4,18.5 C4,19.3284271 4.67157288,20 5.5,20 L18.5,20 C19.3284271,20 20,19.3284271 20,18.5 L20,16.7071068 Z M3,5.5 C3,4.11928813 4.11928813,3 5.5,3 L18.5,3 C19.8807119,3 21,4.11928813 21,5.5 L21,18.5 C21,19.8807119 19.8807119,21 18.5,21 L5.5,21 C4.11928813,21 3,19.8807119 3,18.5 L3,5.5 Z M15,6 L17,6 C17.5522847,6 18,6.44771525 18,7 L18,9 C18,9.55228475 17.5522847,10 17,10 L15,10 C14.4477153,10 14,9.55228475 14,9 L14,7 C14,6.44771525 14.4477153,6 15,6 Z M15,7 L15,9 L17,9 L17,7 L15,7 Z\\\"/>\\n</svg>\\n\",\n  Zo = \"<svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"-49.49 -49.49 593.87 593.87\\\" stroke-width=\\\"3.95908\\\" transform=\\\"rotate(0)\\\">\\n  <g stroke-width=\\\"0\\\"></g>\\n  <g stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"0.98977\\\"></g>\\n  <g>\\n    <g>\\n      <g>\\n        <path d=\\\"M163.205,76.413v293.301c-3.434-3.058-7.241-5.867-11.486-8.339c-21.38-12.452-49.663-15.298-77.567-7.846 c-49.038,13.096-80.904,54.519-71.038,92.337c4.019,15.404,14.188,28.221,29.404,37.087c13.553,7.894,29.87,11.933,47.115,11.933 c9.962,0,20.231-1.356,30.447-4.087c42.74-11.406,72.411-44.344,72.807-77.654h0.011v-0.162c0.002-0.166,0-0.331,0-0.496V187.072 l290.971-67.3v178.082c-3.433-3.055-7.238-5.863-11.481-8.334c-21.385-12.452-49.654-15.308-77.567-7.846 c-49.038,13.087-80.904,54.519-71.038,92.356c4.019,15.385,14.183,28.212,29.404,37.067c13.548,7.894,29.875,11.933,47.115,11.933 c9.962,0,20.231-1.356,30.452-4.087c42.74-11.413,72.411-44.346,72.804-77.654h0.004v-0.065c0.003-0.236,0.001-0.469,0-0.704V0 L163.205,76.413z M104.999,471.779c-22.543,6.038-45.942,3.846-62.572-5.846c-10.587-6.163-17.591-14.817-20.255-25.038 c-7.144-27.375,18.452-58.029,57.062-68.346c8.409-2.25,16.938-3.346,25.188-3.346c13.87,0,26.962,3.115,37.389,9.192 c10.587,6.163,17.591,14.817,20.255,25.029c0.809,3.102,1.142,6.248,1.139,9.4v0.321h0.014 C162.99,437.714,139.082,462.678,104.999,471.779z M182.898,166.853V92.067l290.971-67.298v74.784L182.898,166.853z M415.677,399.923c-22.558,6.038-45.942,3.837-62.587-5.846c-10.587-6.163-17.587-14.817-20.25-25.019 c-7.144-27.385,18.452-58.058,57.058-68.365c8.414-2.25,16.942-3.346,25.192-3.346c13.875,0,26.962,3.115,37.385,9.192 c10.596,6.163,17.596,14.817,20.26,25.029v0.01c0.796,3.05,1.124,6.144,1.135,9.244v0.468h0.02 C473.668,365.851,449.763,390.814,415.677,399.923z\\\">\\n        </path>\\n      </g>\\n    </g>\\n  </g>\\n</svg>\",\n  Xo = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 5.9266752 5.6408391\\\" height=\\\"21.31971\\\" width=\\\"22.4\\\">\\n  <g>\\n    <path d=\\\"m 5.2564627,1.548212 c -3.1136005,-0.4796804 -1.5568006,-0.2398402 0,0 z M 2.0001198,2.0922063 c 0.1556781,0 0.2657489,0.020893 0.3917849,0.080366 0.081154,0.038347 0.1153492,0.134065 0.076377,0.2138602 -0.038973,0.07979 -0.1363527,0.1134129 -0.2175069,0.075091 -0.078199,-0.036919 -0.1407455,-0.048792 -0.250655,-0.048792 -0.2260486,0 -0.3921482,0.2042182 -0.3921482,0.4801409 0,0.2761822 0.1663188,0.4810688 0.3921482,0.4810688 0.1117901,0 0.2064255,-0.046133 0.255659,-0.1284198 l 0.00162,-0.00389 V 3.0534032 l -0.098011,1.75e-4 c -0.081844,0 -0.1495979,-0.059305 -0.1612403,-0.1365887 l -0.00175,-0.023683 c 0,-0.08047 0.060311,-0.1470874 0.1389194,-0.1585331 l 0.024085,-0.00195 h 0.2612303 c 0.081842,0 0.149598,0.059305 0.1612404,0.1365891 l 0.00175,0.023683 -3.398e-4,0.3968809 v 0 l -0.00168,0.014211 v 0 l -0.00553,0.023034 v 0 l -0.00532,0.014145 c -0.098178,0.22826 -0.3236506,0.3528713 -0.5706303,0.3528713 -0.4240855,0 -0.7181621,-0.3622714 -0.7181621,-0.8016063 0,-0.4391857 0.2940275,-0.8006848 0.7181621,-0.8006848 z m 1.2034759,0.031275 c 0.081843,0 0.1495977,0.059305 0.1612403,0.1365891 l 0.00175,0.023683 v 1.2211775 c 0,0.088516 -0.07298,0.1602721 -0.1630073,0.1602721 -0.081841,0 -0.1495972,-0.059305 -0.1612397,-0.1365892 L 3.040589,3.5049308 V 2.2837527 c 0,-0.088516 0.07298,-0.1602721 0.1630067,-0.1602714 z m 0.7813442,0 0.5209469,0.00195 c 0.090025,3.048e-4 0.1627543,0.072306 0.1624458,0.1608234 -2.809e-4,0.08047 -0.06083,0.1468798 -0.1394772,0.158066 l -0.024092,0.00195 -0.3575326,-0.0013 v 0.4497782 l 0.2928918,2.27e-4 c 0.081842,0 0.1495979,0.059305 0.1612403,0.136589 l 0.00175,0.023683 c 0,0.080469 -0.06031,0.1470871 -0.1389193,0.1585393 l -0.024092,0.00195 -0.2928919,-2.336e-4 1.563e-4,0.2860316 c 0,0.080471 -0.06031,0.1470873 -0.1389193,0.1585395 l -0.024085,0.00195 c -0.081843,0 -0.1495979,-0.059305 -0.1612403,-0.1365826 l -0.00175,-0.023691 V 2.2841354 c 2.798e-4,-0.08047 0.060829,-0.1468797 0.1394758,-0.1580594 z\\\"/>\\n    <path d=\\\"m 5.0894191,1.0943261 c 0,-0.21918999 -0.177687,-0.39686999 -0.396876,-0.39686999 h -3.43959 c -0.2191879,0 -0.391262,0.1777519 -0.3968759,0.39686999 l -0.027082,3.4379266 c 0.040152,0.2939927 0.4235456,0.409415 0.4235456,0.409415 l 3.4785583,-0.00851 c 0,0 0.3008506,-0.1402998 0.3236271,-0.4201576 0.042911,-0.5272495 0.034693,-1.6106146 0.034693,-3.4186761 z m -4.49792494,0 c 0,-0.36530999 0.29614504,-0.66145999 0.66145894,-0.66145999 h 3.43959 c 0.365314,0 0.66146,0.29615 0.66146,0.66145999 v 3.43959 c 0,0.36532 -0.296146,0.66146 -0.66146,0.66146 h -3.43959 c -0.3653139,0 -0.66145894,-0.29614 -0.66145894,-0.66146 z\\\"/>\\n  </g>\\n</svg>\\n\",\n  Qo = {\n    images: {\n      id: \"upload-images-icon\",\n      svgString: Yo,\n      dropupText: \"Image\"\n    },\n    gifs: {\n      id: \"upload-gifs-icon\",\n      svgString: Xo,\n      dropupText: \"GIF\"\n    },\n    audio: {\n      id: \"upload-audio-icon\",\n      svgString: Zo,\n      dropupText: \"Audio\"\n    },\n    mixedFiles: {\n      id: \"upload-mixed-files-icon\",\n      svgString: $o,\n      dropupText: \"File\"\n    }\n  };\nvar ue = /*#__PURE__*/function () {\n  // prettier-ignore\n  function ue(e, t, i, n) {\n    var _this43 = this;\n    _classCallCheck(this, ue);\n    this._attachments = [], this._fileCountLimit = 99, this._acceptedFormat = \"\", t.maxNumberOfFiles && (this._fileCountLimit = t.maxNumberOfFiles), this._toggleContainerDisplay = i, this._fileAttachmentsContainerRef = n, t.acceptedFormats && (this._acceptedFormat = t.acceptedFormats), setTimeout(function () {\n      _this43._validationHandler = e._validationHandler;\n    });\n  }\n  _createClass(ue, [{\n    key: \"attemptAddFile\",\n    value: function attemptAddFile(e, t) {\n      return ue.isFileTypeValid(e, this._acceptedFormat) ? (this.addAttachmentBasedOnType(e, t, !0), !0) : !1;\n    }\n  }, {\n    key: \"addAttachmentBasedOnType\",\n    value: function addAttachmentBasedOnType(e, t, i) {\n      var n = ue.getTypeFromBlob(e);\n      if (n === \"image\") {\n        var r = ue.createImageAttachment(t);\n        this.addFileAttachment(e, \"image\", r, i);\n      } else if (n === \"audio\") {\n        var _r2 = Ui.createAudioAttachment(t);\n        this.addFileAttachment(e, \"audio\", _r2, i);\n      } else {\n        var _r3 = ue.createAnyFileAttachment(e.name);\n        this.addFileAttachment(e, \"any\", _r3, i);\n      }\n    }\n  }, {\n    key: \"addFileAttachment\",\n    value: function addFileAttachment(e, t, i, n) {\n      var a;\n      var r = ue.createContainer(i);\n      if (this._attachments.length >= this._fileCountLimit) {\n        var l = this._attachments[this._attachments.length - 1].removeButton;\n        l == null || l.click();\n        var c = this._fileAttachmentsContainerRef.children;\n        this._fileAttachmentsContainerRef.insertBefore(r, c[0]);\n      } else this._fileAttachmentsContainerRef.appendChild(r);\n      var o = {\n        file: e,\n        attachmentContainerElement: r,\n        fileType: t\n      };\n      return n && (o.removeButton = this.createRemoveAttachmentButton(o), r.appendChild(o.removeButton)), this._toggleContainerDisplay(!0), this._attachments.push(o), this._fileAttachmentsContainerRef.scrollTop = this._fileAttachmentsContainerRef.scrollHeight, (a = this._validationHandler) == null || a.call(this), o;\n    }\n  }, {\n    key: \"createRemoveAttachmentButton\",\n    value: function createRemoveAttachmentButton(e) {\n      var t = document.createElement(\"div\");\n      t.classList.add(\"remove-file-attachment-button\"), t.onclick = this.removeAttachment.bind(this, e);\n      var i = document.createElement(\"div\");\n      return i.classList.add(\"x-icon\"), i.innerText = \"×\", t.appendChild(i), t;\n    }\n  }, {\n    key: \"removeAttachment\",\n    value: function removeAttachment(e) {\n      var n;\n      var t = this._attachments.findIndex(function (r) {\n          return r === e;\n        }),\n        i = this._attachments[t].attachmentContainerElement;\n      this._attachments.splice(t, 1), Ui.stopAttachmentPlayback(i), i.remove(), this._toggleContainerDisplay(!1), (n = this._validationHandler) == null || n.call(this);\n    }\n  }, {\n    key: \"getFiles\",\n    value: function getFiles() {\n      return Array.from(this._attachments).map(function (e) {\n        return {\n          file: e.file,\n          type: e.fileType\n        };\n      });\n    }\n  }, {\n    key: \"removeAllAttachments\",\n    value: function removeAllAttachments() {\n      this._attachments.forEach(function (e) {\n        setTimeout(function () {\n          var t;\n          return (t = e.removeButton) == null ? void 0 : t.click();\n        });\n      });\n    }\n  }], [{\n    key: \"isFileTypeValid\",\n    value: function isFileTypeValid(e, t) {\n      if (t === \"\") return !0;\n      var i = t.split(\",\");\n      for (var n = 0; n < i.length; n++) {\n        var r = i[n].trim();\n        if (e.type === r) return !0;\n        if (r.startsWith(\".\")) {\n          var o = r.slice(1);\n          if (e.name.endsWith(o)) return !0;\n        } else {\n          if (e.name.endsWith(r)) return !0;\n          if (r.endsWith(\"/*\") && e.type.startsWith(r.slice(0, -2))) return !0;\n        }\n      }\n      return !1;\n    }\n  }, {\n    key: \"getTypeFromBlob\",\n    value: function getTypeFromBlob(e) {\n      var t = e.type;\n      return t.startsWith(\"image\") ? \"image\" : t.startsWith(\"audio\") ? \"audio\" : \"any\";\n    }\n  }, {\n    key: \"createImageAttachment\",\n    value: function createImageAttachment(e) {\n      var t = new Image();\n      return t.src = e, t.classList.add(\"image-attachment\"), t;\n    }\n  }, {\n    key: \"createAnyFileAttachment\",\n    value: function createAnyFileAttachment(e) {\n      var t = document.createElement(\"div\");\n      t.classList.add(\"border-bound-attachment\"), ge.IS_SAFARI && t.classList.add(\"border-bound-attachment-safari\");\n      var i = document.createElement(\"div\");\n      i.classList.add(\"any-file-attachment-text\");\n      var n = document.createElement(\"div\");\n      return n.classList.add(\"file-attachment-text-container\"), n.appendChild(i), i.textContent = e, t.appendChild(n), t;\n    }\n  }, {\n    key: \"createContainer\",\n    value: function createContainer(e) {\n      var t = document.createElement(\"div\");\n      return t.classList.add(\"file-attachment\"), t.appendChild(e), t;\n    }\n  }]);\n  return ue;\n}();\nvar ea = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 32 32\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <title>play</title>\\n  <path d=\\\"M5.92 24.096q0 1.088 0.928 1.728 0.512 0.288 1.088 0.288 0.448 0 0.896-0.224l16.16-8.064q0.48-0.256 0.8-0.736t0.288-1.088-0.288-1.056-0.8-0.736l-16.16-8.064q-0.448-0.224-0.896-0.224-0.544 0-1.088 0.288-0.928 0.608-0.928 1.728v16.16z\\\"></path>\\n</svg>\",\n  wn = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 32 32\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n<title>stop</title>\\n<path d=\\\"M5.92 24.096q0 0.832 0.576 1.408t1.44 0.608h16.128q0.832 0 1.44-0.608t0.576-1.408v-16.16q0-0.832-0.576-1.44t-1.44-0.576h-16.128q-0.832 0-1.44 0.576t-0.576 1.44v16.16z\\\"></path>\\n</svg>\",\n  ps = /*#__PURE__*/function (_ue) {\n    _inherits(we, _ue);\n    var _super38 = _createSuper(we);\n    // prettier-ignore\n    function we(e, t, i, n) {\n      _classCallCheck(this, we);\n      return _super38.call(this, e, t, i, n);\n    }\n    _createClass(we, [{\n      key: \"createTimer\",\n      value: function createTimer(e, t) {\n        var _this44 = this;\n        var i = 0;\n        var n = t !== void 0 && t < we.TIMER_LIMIT_S ? t : we.TIMER_LIMIT_S;\n        return setInterval(function () {\n          var a;\n          i += 1, i === n && ((a = _this44.stopPlaceholderCallback) == null || a.call(_this44), _this44.clearTimer()), i === 600 && e.classList.add(\"audio-placeholder-text-4-digits\");\n          var r = Math.floor(i / 60),\n            o = (i % 60).toString().padStart(2, \"0\");\n          e.textContent = \"\".concat(r, \":\").concat(o);\n        }, 1e3);\n      }\n    }, {\n      key: \"createPlaceholderAudioAttachment\",\n      value: function createPlaceholderAudioAttachment(e) {\n        var t = we.createAudioContainer(),\n          i = document.createElement(\"div\");\n        i.classList.add(\"audio-placeholder-text-3-digits\");\n        var n = document.createElement(\"div\");\n        n.classList.add(\"file-attachment-text-container\", \"audio-placeholder-text-3-digits-container\"), n.appendChild(i);\n        var r = q.createSVGElement(wn);\n        return r.classList.add(\"attachment-icon\", \"stop-icon\", \"not-removable-attachment-icon\"), i.textContent = \"0:00\", this._activePlaceholderTimer = this.createTimer(i, e), t.appendChild(n), this.addPlaceholderAudioAttachmentEvents(t, r, n), t;\n      }\n    }, {\n      key: \"addPlaceholderAudioAttachmentEvents\",\n      value: function addPlaceholderAudioAttachmentEvents(e, t, i) {\n        var _this45 = this;\n        var n = function n() {\n          return e.replaceChildren(t);\n        };\n        e.addEventListener(\"mouseenter\", n);\n        var r = function r() {\n          return e.replaceChildren(i);\n        };\n        e.addEventListener(\"mouseleave\", r);\n        var o = function o() {\n          var a;\n          return (a = _this45.stopPlaceholderCallback) == null ? void 0 : a.call(_this45);\n        };\n        e.addEventListener(\"click\", o);\n      }\n    }, {\n      key: \"addPlaceholderAttachment\",\n      value: function addPlaceholderAttachment(e, t) {\n        var i = this.createPlaceholderAudioAttachment(t);\n        this._activePlaceholderAttachment = this.addFileAttachment(new File([], \"\"), \"audio\", i, !1), this.stopPlaceholderCallback = e;\n      }\n      // prettier-ignore\n    }, {\n      key: \"completePlaceholderAttachment\",\n      value: function completePlaceholderAttachment(e, t) {\n        var i = this._activePlaceholderAttachment;\n        i && (i.file = e, we.addAudioElements(i.attachmentContainerElement.children[0], t), i.removeButton = this.createRemoveAttachmentButton(i), i.attachmentContainerElement.appendChild(i.removeButton), this._activePlaceholderAttachment = void 0, this.clearTimer());\n      }\n    }, {\n      key: \"removePlaceholderAttachment\",\n      value: function removePlaceholderAttachment() {\n        this._activePlaceholderAttachment && (this.removeAttachment(this._activePlaceholderAttachment), this._activePlaceholderAttachment = void 0, this.clearTimer());\n      }\n    }, {\n      key: \"clearTimer\",\n      value: function clearTimer() {\n        this._activePlaceholderTimer !== void 0 && (clearInterval(this._activePlaceholderTimer), this._activePlaceholderTimer = void 0, this.stopPlaceholderCallback = void 0);\n      }\n    }], [{\n      key: \"createAudioContainer\",\n      value: function createAudioContainer() {\n        var e = document.createElement(\"div\");\n        return e.classList.add(\"border-bound-attachment\", \"audio-attachment-icon-container\"), ge.IS_SAFARI && e.classList.add(\"border-bound-attachment-safari\"), e;\n      }\n    }, {\n      key: \"addAudioElements\",\n      value: function addAudioElements(e, t) {\n        var i = e.parentElement ? Y.cloneElement(e) : e,\n          n = document.createElement(\"audio\");\n        n.src = t;\n        var r = q.createSVGElement(ea);\n        r.classList.add(\"attachment-icon\", \"play-icon\");\n        var o = q.createSVGElement(wn);\n        o.classList.add(\"attachment-icon\", \"stop-icon\"), i.replaceChildren(r), n.onplay = function () {\n          i.replaceChildren(o);\n        }, n.onpause = function () {\n          i.replaceChildren(r), n.currentTime = 0;\n        }, n.onended = function () {\n          i.replaceChildren(r);\n        }, i.onclick = function () {\n          n.paused ? n.play() : n.pause();\n        };\n      }\n    }, {\n      key: \"createAudioAttachment\",\n      value: function createAudioAttachment(e) {\n        var t = we.createAudioContainer();\n        return we.addAudioElements(t, e), t;\n      }\n    }, {\n      key: \"stopAttachmentPlayback\",\n      value: function stopAttachmentPlayback(e) {\n        var t, i, n;\n        (n = (i = (t = e.children[0]) == null ? void 0 : t.children) == null ? void 0 : i[0]) != null && n.classList.contains(\"stop-icon\") && e.children[0].click();\n      }\n    }]);\n    return we;\n  }(ue);\nps.TIMER_LIMIT_S = 5999;\nvar Ui = ps;\nvar ta = /*#__PURE__*/function () {\n  function ta() {\n    _classCallCheck(this, ta);\n  }\n  _createClass(ta, null, [{\n    key: \"create\",\n    value:\n    // prettier-ignore\n    function create(e, t, i, n, r) {\n      return r === \"audio\" ? new Ui(e, t, i, n) : new ue(e, t, i, n);\n    }\n  }]);\n  return ta;\n}();\nvar _t = /*#__PURE__*/function () {\n  function _t(e, t, i) {\n    _classCallCheck(this, _t);\n    this._fileAttachmentsTypes = [], this.elementRef = this.createAttachmentContainer();\n    var n = _typeof(i) == \"object\" && !!i.displayFileAttachmentContainer;\n    this.toggleContainerDisplay(n), e.appendChild(this.elementRef), t && Object.assign(this.elementRef.style, t);\n  }\n  // prettier-ignore\n  _createClass(_t, [{\n    key: \"addType\",\n    value: function addType(e, t, i) {\n      var n = ta.create(e, t, this.toggleContainerDisplay.bind(this), this.elementRef, i);\n      return this._fileAttachmentsTypes.push(n), n;\n    }\n  }, {\n    key: \"createAttachmentContainer\",\n    value: function createAttachmentContainer() {\n      var e = document.createElement(\"div\");\n      return e.id = \"file-attachment-container\", e;\n    }\n  }, {\n    key: \"toggleContainerDisplay\",\n    value: function toggleContainerDisplay(e) {\n      e ? this.elementRef.style.display = \"block\" : this.elementRef.children.length === 0 && (this.elementRef.style.display = \"none\");\n    }\n  }, {\n    key: \"getAllFileData\",\n    value: function getAllFileData() {\n      var e = this._fileAttachmentsTypes.map(function (t) {\n        return t.getFiles();\n      }).flat();\n      return e.length > 0 ? e : void 0;\n    }\n  }, {\n    key: \"completePlaceholders\",\n    value: function () {\n      var _completePlaceholders = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee91() {\n        return _regeneratorRuntime().wrap(function _callee91$(_context91) {\n          while (1) switch (_context91.prev = _context91.next) {\n            case 0:\n              _context91.next = 2;\n              return Promise.all(this._fileAttachmentsTypes.map( /*#__PURE__*/function () {\n                var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee90(e) {\n                  var t;\n                  return _regeneratorRuntime().wrap(function _callee90$(_context90) {\n                    while (1) switch (_context90.prev = _context90.next) {\n                      case 0:\n                        return _context90.abrupt(\"return\", (t = e.stopPlaceholderCallback) == null ? void 0 : t.call(e));\n                      case 1:\n                      case \"end\":\n                        return _context90.stop();\n                    }\n                  }, _callee90);\n                }));\n                return function (_x166) {\n                  return _ref11.apply(this, arguments);\n                };\n              }()));\n            case 2:\n            case \"end\":\n              return _context91.stop();\n          }\n        }, _callee91, this);\n      }));\n      function completePlaceholders() {\n        return _completePlaceholders.apply(this, arguments);\n      }\n      return completePlaceholders;\n    }()\n  }, {\n    key: \"addFilesToAnyType\",\n    value: function addFilesToAnyType(e) {\n      _t.addFilesToType(e, this._fileAttachmentsTypes);\n    }\n  }, {\n    key: \"removeAllFiles\",\n    value: function removeAllFiles() {\n      this._fileAttachmentsTypes.forEach(function (e) {\n        return e.removeAllAttachments();\n      }), this.elementRef.replaceChildren(), this.toggleContainerDisplay(!1);\n    }\n  }, {\n    key: \"getNumberOfTypes\",\n    value: function getNumberOfTypes() {\n      return this._fileAttachmentsTypes.length;\n    }\n  }], [{\n    key: \"addFilesToType\",\n    value: function addFilesToType(e, t) {\n      e.forEach(function (i) {\n        var n = new FileReader();\n        n.readAsDataURL(i), n.onload = function (r) {\n          for (var o = 0; o < t.length && !t[o].attemptAddFile(i, r.target.result); o += 1);\n        };\n      });\n    }\n  }]);\n  return _t;\n}();\nvar fs = /*#__PURE__*/function () {\n  function le(e, t, i) {\n    _classCallCheck(this, le);\n    this._isOpen = !1, this._contentRef = le.createModalContent(t, i == null ? void 0 : i.backgroundColor), this._buttonPanel = le.createButtonPanel(i == null ? void 0 : i.backgroundColor), this._elementRef = le.createContainer(this._contentRef, i), this._elementRef.appendChild(this._buttonPanel), e.appendChild(this._elementRef), this._backgroundPanelRef = le.createDarkBackgroundPanel(), e.appendChild(this._backgroundPanelRef), this.addWindowEvents(e);\n  }\n  _createClass(le, [{\n    key: \"isOpen\",\n    value: function isOpen() {\n      return this._isOpen;\n    }\n  }, {\n    key: \"addButtons\",\n    value: function addButtons() {\n      var _this46 = this;\n      for (var _len2 = arguments.length, e = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        e[_key2] = arguments[_key2];\n      }\n      e.forEach(function (t) {\n        return _this46._buttonPanel.appendChild(t);\n      });\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var _this47 = this;\n      this._elementRef.classList.remove(\"show-modal\"), this._elementRef.classList.add(\"hide-modal\"), this._backgroundPanelRef.classList.remove(\"show-modal-background\"), this._backgroundPanelRef.classList.add(\"hide-modal-background\"), this._isOpen = !1, setTimeout(function () {\n        _this47._elementRef.style.display = \"none\", _this47._backgroundPanelRef.style.display = \"none\";\n      }, le.MODAL_CLOSE_TIMEOUT_MS);\n    }\n  }, {\n    key: \"displayModalElements\",\n    value: function displayModalElements() {\n      this._elementRef.style.display = \"flex\", this._elementRef.classList.remove(\"hide-modal\"), this._elementRef.classList.add(\"show-modal\"), this._backgroundPanelRef.style.display = \"block\", this._backgroundPanelRef.classList.remove(\"hide-modal-background\"), this._backgroundPanelRef.classList.add(\"show-modal-background\"), this._isOpen = !0;\n    }\n  }, {\n    key: \"openTextModal\",\n    value: function openTextModal(e) {\n      this._contentRef.innerHTML = e, this.displayModalElements();\n    }\n  }, {\n    key: \"addCloseButton\",\n    value: function addCloseButton(e, t, i) {\n      var _this48 = this;\n      var n = t ? le.createSVGButton(e) : le.createTextButton(e);\n      return this.addButtons(n), n.onclick = function () {\n        _this48.close(), setTimeout(function () {\n          i == null || i();\n        }, 140);\n      }, n;\n    }\n  }, {\n    key: \"addWindowEvents\",\n    value: function addWindowEvents(e) {\n      this.keyDownEvent = this.windowKeyDown.bind(this, e), window.addEventListener(\"keydown\", this.keyDownEvent);\n    }\n  }, {\n    key: \"windowKeyDown\",\n    value: function windowKeyDown(e, t) {\n      var i, n;\n      !e.isConnected && this.keyDownEvent ? window.removeEventListener(\"keydown\", this.keyDownEvent) : this._isOpen && (t.key === R.ESCAPE ? (this.close(), (i = this.extensionCloseCallback) == null || i.call(this)) : t.key === R.ENTER && (this.close(), (n = this.extensionCloseCallback) == null || n.call(this)));\n    }\n  }], [{\n    key: \"createContainer\",\n    value: function createContainer(e, t) {\n      var i = document.createElement(\"div\");\n      return i.classList.add(\"modal\"), i.appendChild(e), t && delete t.backgroundColor, Object.assign(i.style, t), i;\n    }\n  }, {\n    key: \"createModalContent\",\n    value: function createModalContent(e, t) {\n      var _i$classList;\n      var i = document.createElement(\"div\");\n      return (_i$classList = i.classList).add.apply(_i$classList, _toConsumableArray(e)), t && (i.style.backgroundColor = t), document.createElement(\"div\").appendChild(i), i;\n    }\n  }, {\n    key: \"createButtonPanel\",\n    value: function createButtonPanel(e) {\n      var t = document.createElement(\"div\");\n      return t.classList.add(\"modal-button-panel\"), e && (t.style.backgroundColor = e), t;\n    }\n  }, {\n    key: \"createDarkBackgroundPanel\",\n    value: function createDarkBackgroundPanel() {\n      var e = document.createElement(\"div\");\n      return e.id = \"modal-background-panel\", e;\n    }\n  }, {\n    key: \"createTextButton\",\n    value: function createTextButton(e) {\n      var t = document.createElement(\"div\");\n      return t.classList.add(\"modal-button\"), t.textContent = e, t;\n    }\n  }, {\n    key: \"createSVGButton\",\n    value: function createSVGButton(e) {\n      var t = document.createElement(\"div\");\n      t.classList.add(\"modal-button\", \"modal-svg-button\");\n      var i = q.createSVGElement(e);\n      return i.classList.add(\"modal-svg-button-icon\"), t.appendChild(i), t;\n    }\n  }, {\n    key: \"createTextModalFunc\",\n    value: function createTextModalFunc(e, t, i) {\n      var n;\n      if (_typeof(t) == \"object\" && (n = t.files) != null && n.infoModal) {\n        var r = new le(e, [\"modal-content\"], t.files.infoModal.containerStyle);\n        return r.addCloseButton(\"OK\", !1, i), r.openTextModal.bind(r, t.infoModalTextMarkUp || \"\");\n      }\n    }\n  }]);\n  return le;\n}();\nfs.MODAL_CLOSE_TIMEOUT_MS = 190;\nvar at = fs;\nvar ut = /*#__PURE__*/function (_wt2) {\n  _inherits(ut, _wt2);\n  var _super39 = _createSuper(ut);\n  // prettier-ignore\n  function ut(e, t, i, n, r, o) {\n    var _this49;\n    _classCallCheck(this, ut);\n    var l, c, d, u, h, p;\n    _this49 = _super39.call(this, ut.createButtonElement(), (l = i.button) == null ? void 0 : l.position, i.button, o);\n    var a = _this49.createInnerElements(n, r, _this49._customStyles);\n    _this49._inputElement = ut.createInputElement((c = i == null ? void 0 : i.files) == null ? void 0 : c.acceptedFormats), _this49.addClickEvent(e, i), _this49.elementRef.replaceChildren(a.styles), _this49.reapplyStateStyle(\"styles\"), _this49._fileAttachmentsType = t, _this49._openModalOnce = ((u = (d = i.files) == null ? void 0 : d.infoModal) == null ? void 0 : u.openModalOnce) === !1 || (p = (h = i.files) == null ? void 0 : h.infoModal) == null ? void 0 : p.openModalOnce;\n    return _this49;\n  }\n  _createClass(ut, [{\n    key: \"createInnerElements\",\n    value: function createInnerElements(e, t, i) {\n      var n = ut.createSVGIconElement(e, t);\n      return {\n        styles: this.createInnerElement(n, \"styles\", i)\n      };\n    }\n  }, {\n    key: \"triggerImportPrompt\",\n    value: function triggerImportPrompt(e) {\n      e.onchange = this[\"import\"].bind(this, e), e.click();\n    }\n  }, {\n    key: \"import\",\n    value: function _import(e) {\n      _t.addFilesToType(Array.from(e.files || []), [this._fileAttachmentsType]), e.value = \"\";\n    }\n  }, {\n    key: \"createInnerElement\",\n    value: function createInnerElement(e, t, i) {\n      return j.createSpecificStateElement(this.elementRef, t, i) || e;\n    }\n  }, {\n    key: \"addClickEvent\",\n    value: function addClickEvent(e, t) {\n      var i = this.triggerImportPrompt.bind(this, this._inputElement),\n        n = at.createTextModalFunc(e, t, i);\n      this.elementRef.onclick = this.click.bind(this, n);\n    }\n  }, {\n    key: \"click\",\n    value: function click(e) {\n      e && (this._openModalOnce === void 0 || this._openModalOnce === !0) ? (e(), this._openModalOnce === !0 && (this._openModalOnce = !1)) : this.triggerImportPrompt(this._inputElement);\n    }\n  }], [{\n    key: \"createInputElement\",\n    value: function createInputElement(e) {\n      var t = document.createElement(\"input\");\n      return t.type = \"file\", t.accept = e || \"\", t.hidden = !0, t.multiple = !0, t;\n    }\n  }, {\n    key: \"createButtonElement\",\n    value: function createButtonElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"input-button\", \"upload-file-button\"), e;\n    }\n  }, {\n    key: \"createSVGIconElement\",\n    value: function createSVGIconElement(e, t) {\n      var i = q.createSVGElement(t);\n      return i.id = e, i;\n    }\n  }]);\n  return ut;\n}(wt);\nvar de = /*#__PURE__*/function () {\n  function de() {\n    _classCallCheck(this, de);\n  }\n  _createClass(de, null, [{\n    key: \"create\",\n    value: function create(e, t, i) {\n      var n = de.createElement(i);\n      de.addEvents(n, e, t), e.appendChild(n);\n    }\n  }, {\n    key: \"createElement\",\n    value: function createElement(e) {\n      var t = document.createElement(\"div\");\n      return t.id = \"drag-and-drop\", _typeof(e) == \"object\" && Object.assign(t.style, e), t;\n    }\n  }, {\n    key: \"addEvents\",\n    value: function addEvents(e, t, i) {\n      t.ondragenter = function (n) {\n        n.preventDefault(), de.display(e);\n      }, e.ondragleave = function (n) {\n        n.preventDefault(), de.hide(e);\n      }, e.ondragover = function (n) {\n        n.preventDefault();\n      }, e.ondrop = function (n) {\n        n.preventDefault(), de.uploadFile(i, n), de.hide(e);\n      };\n    }\n  }, {\n    key: \"uploadFile\",\n    value: function uploadFile(e, t) {\n      var n;\n      var i = (n = t.dataTransfer) == null ? void 0 : n.files;\n      i && e.addFilesToAnyType(Array.from(i));\n    }\n  }, {\n    key: \"display\",\n    value: function display(e) {\n      e.style.display = \"block\";\n    }\n  }, {\n    key: \"hide\",\n    value: function hide(e) {\n      e.style.display = \"none\";\n    }\n  }, {\n    key: \"isEnabled\",\n    value: function isEnabled(e, t) {\n      return t !== void 0 && t === !1 ? !1 : !!t || e.getNumberOfTypes() > 0;\n    }\n  }]);\n  return de;\n}();\nvar Me = /*#__PURE__*/function () {\n  function Me() {\n    _classCallCheck(this, Me);\n  }\n  _createClass(Me, null, [{\n    key: \"validate\",\n    value:\n    // prettier-ignore\n    function validate(e, t, i, n, r) {\n      var o = e(i, n, r);\n      return o ? t.changeToSubmitIcon() : t.changeToDisabledIcon(), o;\n    }\n    // prettier-ignore\n  }, {\n    key: \"useValidationFunc\",\n    value: function () {\n      var _useValidationFunc = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee92(e, t, i, n) {\n        var r, o, a, l;\n        return _regeneratorRuntime().wrap(function _callee92$(_context92) {\n          while (1) switch (_context92.prev = _context92.next) {\n            case 0:\n              r = t.inputElementRef, o = r.classList.contains(\"text-input-placeholder\") ? \"\" : r.textContent;\n              _context92.next = 3;\n              return i.completePlaceholders();\n            case 3:\n              a = i.getAllFileData(), l = a == null ? void 0 : a.map(function (c) {\n                return c.file;\n              });\n              return _context92.abrupt(\"return\", Me.validate(e, n, o, l));\n            case 5:\n            case \"end\":\n              return _context92.stop();\n          }\n        }, _callee92);\n      }));\n      function useValidationFunc(_x167, _x168, _x169, _x170) {\n        return _useValidationFunc.apply(this, arguments);\n      }\n      return useValidationFunc;\n    }() // prettier-ignore\n  }, {\n    key: \"useValidationFuncProgrammatic\",\n    value: function () {\n      var _useValidationFuncProgrammatic = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee93(e, t, i) {\n        var r, n;\n        return _regeneratorRuntime().wrap(function _callee93$(_context93) {\n          while (1) switch (_context93.prev = _context93.next) {\n            case 0:\n              n = (r = t.files) == null ? void 0 : r.map(function (o) {\n                return o.file;\n              });\n              return _context93.abrupt(\"return\", Me.validate(e, i, t.text, n, !0));\n            case 2:\n            case \"end\":\n              return _context93.stop();\n          }\n        }, _callee93);\n      }));\n      function useValidationFuncProgrammatic(_x171, _x172, _x173) {\n        return _useValidationFuncProgrammatic.apply(this, arguments);\n      }\n      return useValidationFuncProgrammatic;\n    }()\n  }, {\n    key: \"validateWebsocket\",\n    value: function validateWebsocket(e, t) {\n      return e.websocket && !$.canSendMessage(e.websocket) ? (t.changeToDisabledIcon(), !1) : !0;\n    }\n    // prettier-ignore\n  }, {\n    key: \"attach\",\n    value: function attach(e, t, i, n, r) {\n      var o = e.validateInput || ke.processValidateInput(e);\n      e._validationHandler = /*#__PURE__*/function () {\n        var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee94(a) {\n          var l;\n          return _regeneratorRuntime().wrap(function _callee94$(_context94) {\n            while (1) switch (_context94.prev = _context94.next) {\n              case 0:\n                if (!(r.status.loadingActive || r.status.requestInProgress || t.isSubmitProgrammaticallyDisabled === !0 || !Me.validateWebsocket(t, r))) {\n                  _context94.next = 2;\n                  break;\n                }\n                return _context94.abrupt(\"return\", !1);\n              case 2:\n                l = o || t.canSendMessage;\n                return _context94.abrupt(\"return\", l ? a ? Me.useValidationFuncProgrammatic(l, a, r) : Me.useValidationFunc(l, i, n, r) : null);\n              case 4:\n              case \"end\":\n                return _context94.stop();\n            }\n          }, _callee94);\n        }));\n        return function (_x174) {\n          return _ref12.apply(this, arguments);\n        };\n      }();\n    }\n  }]);\n  return Me;\n}();\nvar ia = \"<?xml version=\\\"1.0\\\" encoding=\\\"iso-8859-1\\\"?>\\n<svg height=\\\"1.4em\\\" width=\\\"1.4em\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\n\\t viewBox=\\\"0 0 490.9 490.9\\\" xml:space=\\\"preserve\\\">\\n\\t<g>\\n\\t\\t<g>\\n\\t\\t\\t<path d=\\\"M245.5,322.9c53,0,96.2-43.2,96.2-96.2V96.2c0-53-43.2-96.2-96.2-96.2s-96.2,43.2-96.2,96.2v130.5\\n\\t\\t\\t\\tC149.3,279.8,192.5,322.9,245.5,322.9z M173.8,96.2c0-39.5,32.2-71.7,71.7-71.7s71.7,32.2,71.7,71.7v130.5\\n\\t\\t\\t\\tc0,39.5-32.2,71.7-71.7,71.7s-71.7-32.2-71.7-71.7V96.2z\\\"/>\\n\\t\\t\\t<path d=\\\"M94.4,214.5c-6.8,0-12.3,5.5-12.3,12.3c0,85.9,66.7,156.6,151.1,162.8v76.7h-63.9c-6.8,0-12.3,5.5-12.3,12.3\\n\\t\\t\\t\\ts5.5,12.3,12.3,12.3h152.3c6.8,0,12.3-5.5,12.3-12.3s-5.5-12.3-12.3-12.3h-63.9v-76.7c84.4-6.3,151.1-76.9,151.1-162.8\\n\\t\\t\\t\\tc0-6.8-5.5-12.3-12.3-12.3s-12.3,5.5-12.3,12.3c0,76.6-62.3,138.9-138.9,138.9s-138.9-62.3-138.9-138.9\\n\\t\\t\\t\\tC106.6,220,101.2,214.5,94.4,214.5z\\\"/>\\n\\t\\t</g>\\n\\t</g>\\n</svg>\\n\";\nvar bt = /*#__PURE__*/function (_wt3) {\n  _inherits(bt, _wt3);\n  var _super40 = _createSuper(bt);\n  function bt(e) {\n    var _this50;\n    _classCallCheck(this, bt);\n    (e == null ? void 0 : e.position) === \"dropup-menu\" && (e.position = \"outside-right\"), _this50 = _super40.call(this, bt.createMicrophoneElement(), e == null ? void 0 : e.position, e), _this50.isActive = !1, _this50._innerElements = _this50.createInnerElements(_this50._customStyles), _this50.changeToDefault();\n    return _this50;\n  }\n  _createClass(bt, [{\n    key: \"createInnerElements\",\n    value: function createInnerElements(e) {\n      var t = bt.createSVGIconElement();\n      return {\n        \"default\": this.createInnerElement(t, \"default\", e),\n        active: this.createInnerElement(t, \"active\", e),\n        unsupported: this.createInnerElement(t, \"unsupported\", e),\n        commandMode: this.createInnerElement(t, \"commandMode\", e)\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"createInnerElement\",\n    value: function createInnerElement(e, t, i) {\n      return j.createSpecificStateElement(this.elementRef, t, i) || e;\n    }\n  }, {\n    key: \"changeToActive\",\n    value: function changeToActive() {\n      this.elementRef.replaceChildren(this._innerElements.active), this.toggleIconFilter(\"active\"), this.reapplyStateStyle(\"active\", [\"default\", \"commandMode\"]), this.isActive = !0;\n    }\n  }, {\n    key: \"changeToDefault\",\n    value: function changeToDefault() {\n      this.elementRef.replaceChildren(this._innerElements[\"default\"]), this.toggleIconFilter(\"default\"), this.reapplyStateStyle(\"default\", [\"active\", \"commandMode\"]), this.isActive = !1;\n    }\n  }, {\n    key: \"changeToCommandMode\",\n    value: function changeToCommandMode() {\n      this.elementRef.replaceChildren(this._innerElements.unsupported), this.toggleIconFilter(\"command\"), this.reapplyStateStyle(\"commandMode\", [\"active\"]);\n    }\n  }, {\n    key: \"changeToUnsupported\",\n    value: function changeToUnsupported() {\n      this.elementRef.replaceChildren(this._innerElements.unsupported), this.elementRef.classList.add(\"unsupported-microphone\"), this.reapplyStateStyle(\"unsupported\", [\"active\"]);\n    }\n  }, {\n    key: \"toggleIconFilter\",\n    value: function toggleIconFilter(e) {\n      var t = this.elementRef.children[0];\n      if (t.tagName.toLocaleLowerCase() === \"svg\") switch (e) {\n        case \"default\":\n          t.classList.remove(\"active-microphone-icon\", \"command-microphone-icon\"), t.classList.add(\"default-microphone-icon\");\n          break;\n        case \"active\":\n          t.classList.remove(\"default-microphone-icon\", \"command-microphone-icon\"), t.classList.add(\"active-microphone-icon\");\n          break;\n        case \"command\":\n          t.classList.remove(\"active-microphone-icon\", \"default-microphone-icon\"), t.classList.add(\"command-microphone-icon\");\n          break;\n      }\n    }\n  }], [{\n    key: \"createMicrophoneElement\",\n    value: function createMicrophoneElement() {\n      var e = document.createElement(\"div\");\n      return e.id = \"microphone-button\", e.classList.add(\"input-button\"), e;\n    }\n  }, {\n    key: \"createSVGIconElement\",\n    value: function createSVGIconElement() {\n      var e = q.createSVGElement(ia);\n      return e.id = \"microphone-icon\", e;\n    }\n  }]);\n  return bt;\n}(wt);\nvar ms = {},\n  oi = {},\n  ai = {},\n  Mt = {},\n  De = {};\nObject.defineProperty(De, \"__esModule\", {\n  value: !0\n});\nDe.Text = void 0;\nvar ye = /*#__PURE__*/function () {\n  function ye() {\n    _classCallCheck(this, ye);\n  }\n  _createClass(ye, null, [{\n    key: \"capitalize\",\n    value: function capitalize(e) {\n      return e.replace(ye.FIRST_CHAR_REGEX, function (t) {\n        return t.toUpperCase();\n      });\n    }\n  }, {\n    key: \"lineBreak\",\n    value: function lineBreak(e) {\n      return e.replace(ye.DOUBLE_LINE, \"<p></p>\").replace(ye.ONE_LINE, \"<br>\");\n    }\n  }, {\n    key: \"isCharDefined\",\n    value: function isCharDefined(e) {\n      return e !== void 0 && e !== \" \" && e !== \" \" && e !== \"\\n\" && e !== \"\";\n    }\n    // WORK - can optimize to not not have to do it multiple times\n  }, {\n    key: \"breakupIntoWordsArr\",\n    value: function breakupIntoWordsArr(e) {\n      return e.split(/(\\W+)/);\n    }\n  }]);\n  return ye;\n}();\nDe.Text = ye;\nye.FIRST_CHAR_REGEX = /\\S/;\nye.DOUBLE_LINE = /\\n\\n/g;\nye.ONE_LINE = /\\n/g;\nObject.defineProperty(Mt, \"__esModule\", {\n  value: !0\n});\nMt.Translate = void 0;\nvar na = De;\nvar sa = /*#__PURE__*/function () {\n  function sa() {\n    _classCallCheck(this, sa);\n  }\n  _createClass(sa, null, [{\n    key: \"translate\",\n    value: function translate(e, t) {\n      var i = na.Text.breakupIntoWordsArr(e);\n      for (var n = 0; n < i.length; n += 1) t[i[n]] && (i[n] = t[i[n]]);\n      return i.join(\"\");\n    }\n  }]);\n  return sa;\n}();\nMt.Translate = sa;\nObject.defineProperty(ai, \"__esModule\", {\n  value: !0\n});\nai.WebSpeechTranscript = void 0;\nvar _n = Mt;\nvar ra = /*#__PURE__*/function () {\n  function ra() {\n    _classCallCheck(this, ra);\n  }\n  _createClass(ra, null, [{\n    key: \"extract\",\n    value: function extract(e, t, i) {\n      var n = \"\";\n      for (var r = e.resultIndex; r < e.results.length; ++r) {\n        var o = e.results[r][0].transcript;\n        i && (o = _n.Translate.translate(o, i)), e.results[r].isFinal ? t += o : n += o;\n      }\n      return {\n        interimTranscript: n,\n        finalTranscript: t,\n        newText: n || t\n      };\n    }\n  }, {\n    key: \"extractSafari\",\n    value: function extractSafari(e, t, i) {\n      var n = \"\";\n      var r = \"\";\n      for (var o = e.resultIndex; o < e.results.length; ++o) {\n        var a = e.results[o][0].transcript;\n        i && (a = _n.Translate.translate(a, i)), n += a;\n      }\n      return {\n        interimTranscript: r,\n        finalTranscript: n,\n        newText: r || n\n      };\n    }\n  }]);\n  return ra;\n}();\nai.WebSpeechTranscript = ra;\nvar tt = {};\nObject.defineProperty(tt, \"__esModule\", {\n  value: !0\n});\ntt.Browser = void 0;\nvar lt = /*#__PURE__*/_createClass(function lt() {\n  _classCallCheck(this, lt);\n});\ntt.Browser = lt;\nlt.IS_SAFARI = function () {\n  return lt._IS_SAFARI === void 0 && (lt._IS_SAFARI = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)), lt._IS_SAFARI;\n};\nvar Tt = {},\n  li = {};\nObject.defineProperty(li, \"__esModule\", {\n  value: !0\n});\nli.EventListeners = void 0;\nvar J = /*#__PURE__*/function () {\n  function J() {\n    _classCallCheck(this, J);\n  }\n  _createClass(J, null, [{\n    key: \"getElementIfFocusedOnAvailable\",\n    value: function getElementIfFocusedOnAvailable(e, t) {\n      return Array.isArray(e) ? e.find(function (i) {\n        return t === i;\n      }) : t === e ? e : void 0;\n    }\n  }, {\n    key: \"keyDownWindow\",\n    value: function keyDownWindow(e) {\n      var _this51 = this;\n      e.element && J.getElementIfFocusedOnAvailable(e.element, document.activeElement) && (J.KEY_DOWN_TIMEOUT !== null && clearTimeout(J.KEY_DOWN_TIMEOUT), J.KEY_DOWN_TIMEOUT = setTimeout(function () {\n        J.KEY_DOWN_TIMEOUT = null, _this51.resetRecording(e);\n      }, 500));\n    }\n  }, {\n    key: \"mouseDownWindow\",\n    value: function mouseDownWindow(e, t) {\n      this.mouseDownElement = J.getElementIfFocusedOnAvailable(e, t.target);\n    }\n  }, {\n    key: \"mouseUpWindow\",\n    value: function mouseUpWindow(e) {\n      this.mouseDownElement && this.resetRecording(e), this.mouseDownElement = void 0;\n    }\n  }, {\n    key: \"add\",\n    value: function add(e, t) {\n      var i = (t == null ? void 0 : t.insertInCursorLocation) === void 0 || (t == null ? void 0 : t.insertInCursorLocation);\n      t != null && t.element && i && (e.mouseDownEvent = J.mouseDownWindow.bind(e, t.element), document.addEventListener(\"mousedown\", e.mouseDownEvent), e.mouseUpEvent = J.mouseUpWindow.bind(e, t), document.addEventListener(\"mouseup\", e.mouseUpEvent), e.keyDownEvent = J.keyDownWindow.bind(e, t), document.addEventListener(\"keydown\", e.keyDownEvent));\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(e) {\n      document.removeEventListener(\"mousedown\", e.mouseDownEvent), document.removeEventListener(\"mouseup\", e.mouseUpEvent), document.removeEventListener(\"keydown\", e.keyDownEvent);\n    }\n  }]);\n  return J;\n}();\nli.EventListeners = J;\nJ.KEY_DOWN_TIMEOUT = null;\nvar ci = {};\nObject.defineProperty(ci, \"__esModule\", {\n  value: !0\n});\nci.PreResultUtils = void 0;\nvar oa = /*#__PURE__*/function () {\n  function oa() {\n    _classCallCheck(this, oa);\n  }\n  _createClass(oa, null, [{\n    key: \"process\",\n    value: function process(e, t, i, n, r) {\n      var o = n == null ? void 0 : n(t, i);\n      return o ? (setTimeout(function () {\n        o.restart ? e.resetRecording(r) : o.stop && e.stop();\n      }), (o.stop || o.restart) && o.removeNewText) : !1;\n    }\n  }]);\n  return oa;\n}();\nci.PreResultUtils = oa;\nvar Ct = {},\n  At = {};\nObject.defineProperty(At, \"__esModule\", {\n  value: !0\n});\nAt.AutoScroll = void 0;\nvar nn = /*#__PURE__*/function () {\n  function nn() {\n    _classCallCheck(this, nn);\n  }\n  _createClass(nn, null, [{\n    key: \"changeStateIfNeeded\",\n    value: function changeStateIfNeeded(e, t) {\n      t && !e.isCursorAtEnd && (e.endPadding = \"\", e.scrollingSpan.innerHTML = \"&nbsp;\");\n    }\n  }, {\n    key: \"scrollGeneric\",\n    value: function scrollGeneric(e, t) {\n      e.isCursorAtEnd ? t.scrollTop = t.scrollHeight : e.scrollingSpan.scrollIntoView({\n        block: \"nearest\"\n      });\n    }\n    // primitives don't need to be scrolled except in safari\n    // they can only safely be scrolled to the end\n  }, {\n    key: \"scrollSafariPrimitiveToEnd\",\n    value: function scrollSafariPrimitiveToEnd(e) {\n      e.scrollLeft = e.scrollWidth, e.scrollTop = e.scrollHeight;\n    }\n  }, {\n    key: \"isElementOverflown\",\n    value: function isElementOverflown(e) {\n      return e.scrollHeight > e.clientHeight || e.scrollWidth > e.clientWidth;\n    }\n  }, {\n    key: \"isRequired\",\n    value: function isRequired(e, t) {\n      return e && nn.isElementOverflown(t);\n    }\n  }]);\n  return nn;\n}();\nAt.AutoScroll = nn;\nvar je = {};\nObject.defineProperty(je, \"__esModule\", {\n  value: !0\n});\nje.Elements = void 0;\nvar aa = /*#__PURE__*/function () {\n  function aa() {\n    _classCallCheck(this, aa);\n  }\n  _createClass(aa, null, [{\n    key: \"isPrimitiveElement\",\n    value: function isPrimitiveElement(e) {\n      return e.tagName === \"INPUT\" || e.tagName === \"TEXTAREA\";\n    }\n  }, {\n    key: \"createInterimSpan\",\n    value: function createInterimSpan() {\n      var e = document.createElement(\"span\");\n      return e.style.color = \"grey\", e.style.pointerEvents = \"none\", e;\n    }\n  }, {\n    key: \"createGenericSpan\",\n    value: function createGenericSpan() {\n      var e = document.createElement(\"span\");\n      return e.style.pointerEvents = \"none\", e;\n    }\n  }, {\n    key: \"appendSpans\",\n    value: function appendSpans(e, t) {\n      if (e.spansPopulated = !0, e.insertInCursorLocation && document.activeElement === t) {\n        var _i16 = window.getSelection();\n        if (_i16 != null && _i16.focusNode) {\n          var n = _i16.getRangeAt(0);\n          n.insertNode(e.scrollingSpan), n.insertNode(e.interimSpan), n.insertNode(e.finalSpan), n.collapse(!1), _i16.removeAllRanges(), _i16.addRange(n);\n          return;\n        }\n      }\n      t.appendChild(e.finalSpan), t.appendChild(e.interimSpan), t.appendChild(e.scrollingSpan);\n    }\n  }, {\n    key: \"applyCustomColors\",\n    value: function applyCustomColors(e, t) {\n      t.interim && (e.interimSpan.style.color = t.interim), t[\"final\"] && (e.finalSpan.style.color = t[\"final\"]);\n    }\n  }, {\n    key: \"isInsideShadowDOM\",\n    value: function isInsideShadowDOM(e) {\n      return e.getRootNode() instanceof ShadowRoot;\n    }\n  }]);\n  return aa;\n}();\nje.Elements = aa;\nvar Fe = {};\nObject.defineProperty(Fe, \"__esModule\", {\n  value: !0\n});\nFe.Cursor = void 0;\nvar ht = /*#__PURE__*/function () {\n  function ht() {\n    _classCallCheck(this, ht);\n  }\n  _createClass(ht, null, [{\n    key: \"setOffsetForGeneric\",\n    value: function setOffsetForGeneric(e, t) {\n      var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var n = 0;\n      for (var r = 0; r < e.childNodes.length; r += 1) {\n        var o = e.childNodes[r];\n        if (o.childNodes.length > 0) {\n          var a = ht.setOffsetForGeneric(o, t, i);\n          if (a === -1) return -1;\n          i += a;\n        } else if (o.textContent !== null) {\n          if (i + o.textContent.length > t) {\n            var _a2 = document.createRange();\n            _a2.setStart(o, t - i), _a2.collapse(!0);\n            var l = window.getSelection();\n            return l == null || l.removeAllRanges(), l == null || l.addRange(_a2), e.focus(), -1;\n          }\n          i += o.textContent.length, n += o.textContent.length;\n        }\n      }\n      return n;\n    }\n  }, {\n    key: \"focusEndOfGeneric\",\n    value: function focusEndOfGeneric(e) {\n      var t = document.createRange();\n      t.selectNodeContents(e), t.collapse(!1);\n      var i = window.getSelection();\n      i && (i.removeAllRanges(), i.addRange(t));\n    }\n  }, {\n    key: \"setOffsetForSafariGeneric\",\n    value: function setOffsetForSafariGeneric(e, t) {\n      var i = window.getSelection();\n      if (i) {\n        var n = ht.getGenericElementCursorOffset(e, i, !0);\n        console.log(n), setTimeout(function () {}, 100), ht.setOffsetForGeneric(e, n + t);\n      }\n    }\n    // set to automatically scroll to cursor (scroll does not work in Safari)\n  }, {\n    key: \"setOffsetForPrimitive\",\n    value: function setOffsetForPrimitive(e, t, i) {\n      i && e.blur(), e.setSelectionRange(t, t), e.focus();\n    }\n    // Scroll Input in Safari - does not work for TextArea and uses span which can have a different style\n    // private static getCursorOffsetFromLeft(inputElement: HTMLInputElement, position: number) {\n    //   // Get the value of the input element up to the cursor position\n    //   const valueUpToCursor = inputElement.value.substring(0, position);\n    //   // Create a temporary span element to measure the width of the text\n    //   const tempSpan = document.createElement('span');\n    //   tempSpan.textContent = valueUpToCursor;\n    //   tempSpan.style.visibility = 'hidden';\n    //   tempSpan.style.position = 'absolute';\n    //   document.body.appendChild(tempSpan);\n    //   // Measure the width of the text up to the cursor position\n    //   const offsetWidth = tempSpan.offsetWidth;\n    //   const offsetHeight = tempSpan.offsetHeight;\n    //   // Clean up the temporary span element\n    //   document.body.removeChild(tempSpan);\n    //   return {left: offsetWidth, top: offsetHeight};\n    // }\n  }, {\n    key: \"getGenericElementCursorOffset\",\n    value: function getGenericElementCursorOffset(e, t, i) {\n      var n = 0;\n      if (t.rangeCount > 0) {\n        var r = t.getRangeAt(0),\n          o = r.cloneRange();\n        o.selectNodeContents(e), i ? o.setEnd(r.startContainer, r.startOffset) : o.setEnd(r.endContainer, r.endOffset), n = o.toString().length;\n      }\n      return n;\n    }\n  }]);\n  return ht;\n}();\nFe.Cursor = ht;\nObject.defineProperty(Ct, \"__esModule\", {\n  value: !0\n});\nCt.CommandUtils = void 0;\nvar Mn = At,\n  la = je,\n  ca = tt,\n  Tn = Fe,\n  Cn = De;\nvar K = /*#__PURE__*/function () {\n  function K() {\n    _classCallCheck(this, K);\n  }\n  _createClass(K, null, [{\n    key: \"processCommand\",\n    value: function processCommand(e, t) {\n      return (!t || !t.caseSensitive) && (e = e.toLowerCase()), (t == null ? void 0 : t.substrings) === !1 ? Cn.Text.breakupIntoWordsArr(e) : e;\n    }\n  }, {\n    key: \"process\",\n    value: function process(e) {\n      var t;\n      return ((t = e.settings) === null || t === void 0 ? void 0 : t.caseSensitive) === !0 ? e : Object.keys(e).reduce(function (n, r) {\n        var o = e[r];\n        return n[r] = typeof o == \"string\" ? K.processCommand(o, e.settings) : o, n;\n      }, {});\n    }\n  }, {\n    key: \"toggleCommandModeOn\",\n    value: function toggleCommandModeOn(e) {\n      var t;\n      e.isWaitingForCommand = !0, (t = e.onCommandModeTrigger) === null || t === void 0 || t.call(e, !0);\n    }\n  }, {\n    key: \"toggleCommandModeOff\",\n    value: function toggleCommandModeOff(e) {\n      var t;\n      e.isWaitingForCommand && ((t = e.onCommandModeTrigger) === null || t === void 0 || t.call(e, !1), e.isWaitingForCommand = !1);\n    }\n  }, {\n    key: \"setText\",\n    value: function setText(e, t, i, n) {\n      K.toggleCommandModeOff(e), la.Elements.isPrimitiveElement(n) ? (n.value = i, e.isTargetInShadow || Tn.Cursor.setOffsetForPrimitive(n, i.length, !0), ca.Browser.IS_SAFARI() && e.autoScroll && Mn.AutoScroll.scrollSafariPrimitiveToEnd(n)) : (n.textContent = i, e.isTargetInShadow || Tn.Cursor.focusEndOfGeneric(n), setTimeout(function () {\n        return Mn.AutoScroll.scrollGeneric(e, n);\n      })), e.resetRecording(t);\n    }\n  }, {\n    key: \"checkIfMatchesSubstring\",\n    value: function checkIfMatchesSubstring(e, t) {\n      return t.includes(e);\n    }\n  }, {\n    key: \"checkIfMatchesWord\",\n    value: function checkIfMatchesWord(e, t, i) {\n      var n = e;\n      for (var r = i.length - 1; r >= 0; r -= 1) {\n        var o = r,\n          a = n.length - 1;\n        for (; i[o] === n[a] && a >= 0;) o -= 1, a -= 1;\n        if (a < 0) return !0;\n      }\n      return !1;\n    }\n    // prettier-ignore\n  }, {\n    key: \"execCommand\",\n    value: function execCommand(e, t, i, n, r) {\n      var o, a, l;\n      var c = e.commands;\n      if (!c || !n || !i) return;\n      var d = ((o = c.settings) === null || o === void 0 ? void 0 : o.caseSensitive) === !0 ? t : t.toLowerCase(),\n        u = Cn.Text.breakupIntoWordsArr(d),\n        h = ((a = c.settings) === null || a === void 0 ? void 0 : a.substrings) === !1 ? K.checkIfMatchesWord : K.checkIfMatchesSubstring;\n      if (c.commandMode && h(c.commandMode, d, u)) return e.setInterimColorToFinal(), setTimeout(function () {\n        return K.toggleCommandModeOn(e);\n      }), {\n        doNotProcessTranscription: !1\n      };\n      if (!(c.commandMode && !e.isWaitingForCommand)) {\n        if (c.stop && h(c.stop, d, u)) return K.toggleCommandModeOff(e), setTimeout(function () {\n          return e.stop();\n        }), {\n          doNotProcessTranscription: !1\n        };\n        if (c.pause && h(c.pause, d, u)) return K.toggleCommandModeOff(e), e.setInterimColorToFinal(), setTimeout(function () {\n          var p;\n          e.isPaused = !0, (p = e.onPauseTrigger) === null || p === void 0 || p.call(e, !0);\n        }), {\n          doNotProcessTranscription: !1\n        };\n        if (c.resume && h(c.resume, d, u)) return e.isPaused = !1, (l = e.onPauseTrigger) === null || l === void 0 || l.call(e, !1), K.toggleCommandModeOff(e), e.resetRecording(i), {\n          doNotProcessTranscription: !0\n        };\n        if (c.reset && h(c.reset, d, u)) return r !== void 0 && K.setText(e, i, r, n), {\n          doNotProcessTranscription: !0\n        };\n        if (c.removeAllText && h(c.removeAllText, d, u)) return K.setText(e, i, \"\", n), {\n          doNotProcessTranscription: !0\n        };\n      }\n    }\n  }]);\n  return K;\n}();\nCt.CommandUtils = K;\nvar di = {};\nObject.defineProperty(di, \"__esModule\", {\n  value: !0\n});\ndi.Highlight = void 0;\nvar da = je,\n  it = Fe;\nvar Wt = /*#__PURE__*/function () {\n  function Wt() {\n    _classCallCheck(this, Wt);\n  }\n  _createClass(Wt, null, [{\n    key: \"setStateForPrimitive\",\n    value: function setStateForPrimitive(e, t) {\n      var i, n;\n      t.selectionStart !== null && (i = t.selectionStart), t.selectionEnd !== null && (n = t.selectionEnd), e.isHighlighted = i !== n;\n    }\n  }, {\n    key: \"setStateForGeneric\",\n    value: function setStateForGeneric(e, t) {\n      var i = window.getSelection();\n      if (i != null && i.focusNode) {\n        var n = it.Cursor.getGenericElementCursorOffset(t, i, !0),\n          r = it.Cursor.getGenericElementCursorOffset(t, i, !1);\n        e.isHighlighted = n !== r;\n      }\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(e, t) {\n      document.activeElement === t && (da.Elements.isPrimitiveElement(t) ? Wt.setStateForPrimitive(e, t) : Wt.setStateForGeneric(e, t));\n    }\n  }, {\n    key: \"removeForGeneric\",\n    value: function removeForGeneric(e, t) {\n      var i = window.getSelection();\n      if (i) {\n        var n = it.Cursor.getGenericElementCursorOffset(t, i, !0);\n        i.deleteFromDocument(), it.Cursor.setOffsetForGeneric(t, n), e.isHighlighted = !1;\n      }\n    }\n  }, {\n    key: \"removeForPrimitive\",\n    value: function removeForPrimitive(e, t) {\n      var i = t.selectionStart,\n        n = t.selectionEnd,\n        r = t.value;\n      if (i && n) {\n        var o = r.substring(0, i) + r.substring(n);\n        t.value = o, it.Cursor.setOffsetForPrimitive(t, i, e.autoScroll);\n      }\n      e.isHighlighted = !1;\n    }\n  }]);\n  return Wt;\n}();\ndi.Highlight = Wt;\nvar ui = {};\nObject.defineProperty(ui, \"__esModule\", {\n  value: !0\n});\nui.Padding = void 0;\nvar ua = je,\n  An = Fe,\n  Ue = De;\nvar Kt = /*#__PURE__*/function () {\n  function Kt() {\n    _classCallCheck(this, Kt);\n  }\n  _createClass(Kt, null, [{\n    key: \"setStateForPrimitiveElement\",\n    value: function setStateForPrimitiveElement(e, t) {\n      if (document.activeElement === t && t.selectionStart !== null) {\n        var n = t.selectionStart,\n          r = t.value[n - 1],\n          o = t.selectionEnd === null ? n : t.selectionEnd,\n          a = t.value[o];\n        Ue.Text.isCharDefined(r) && (e.startPadding = \" \", e.numberOfSpacesBeforeNewText = 1), Ue.Text.isCharDefined(a) && (e.endPadding = \" \", e.numberOfSpacesAfterNewText = 1), e.isCursorAtEnd = t.value.length === o;\n        return;\n      }\n      var i = t.value[t.value.length - 1];\n      Ue.Text.isCharDefined(i) && (e.startPadding = \" \", e.numberOfSpacesBeforeNewText = 1), e.isCursorAtEnd = !0;\n    }\n  }, {\n    key: \"setStateForGenericElement\",\n    value: function setStateForGenericElement(e, t) {\n      var i, n, r;\n      if (document.activeElement === t) {\n        var a = window.getSelection();\n        if (a != null && a.focusNode) {\n          var l = An.Cursor.getGenericElementCursorOffset(t, a, !0),\n            c = (i = t.textContent) === null || i === void 0 ? void 0 : i[l - 1],\n            d = An.Cursor.getGenericElementCursorOffset(t, a, !1),\n            u = (n = t.textContent) === null || n === void 0 ? void 0 : n[d];\n          Ue.Text.isCharDefined(c) && (e.startPadding = \" \"), Ue.Text.isCharDefined(u) && (e.endPadding = \" \"), e.isCursorAtEnd = ((r = t.textContent) === null || r === void 0 ? void 0 : r.length) === d;\n          return;\n        }\n      }\n      var o = t.innerText.charAt(t.innerText.length - 1);\n      Ue.Text.isCharDefined(o) && (e.startPadding = \" \"), e.isCursorAtEnd = !0;\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(e, t) {\n      ua.Elements.isPrimitiveElement(t) ? Kt.setStateForPrimitiveElement(e, t) : Kt.setStateForGenericElement(e, t);\n    }\n  }, {\n    key: \"adjustStateAfterRecodingPrimitiveElement\",\n    value: function adjustStateAfterRecodingPrimitiveElement(e, t) {\n      if (e.primitiveTextRecorded = !0, e.insertInCursorLocation && document.activeElement === t && (t.selectionEnd !== null && (e.endPadding = e.endPadding + t.value.slice(t.selectionEnd)), t.selectionStart !== null)) {\n        e.startPadding = t.value.slice(0, t.selectionStart) + e.startPadding;\n        return;\n      }\n      e.startPadding = t.value + e.startPadding;\n    }\n  }, {\n    key: \"adjustSateForNoTextPrimitiveElement\",\n    value: function adjustSateForNoTextPrimitiveElement(e) {\n      e.numberOfSpacesBeforeNewText === 1 && (e.startPadding = e.startPadding.substring(0, e.startPadding.length - 1), e.numberOfSpacesBeforeNewText = 0), e.numberOfSpacesAfterNewText === 1 && (e.endPadding = e.endPadding.substring(1), e.numberOfSpacesAfterNewText = 0);\n    }\n  }]);\n  return Kt;\n}();\nui.Padding = Kt;\nObject.defineProperty(Tt, \"__esModule\", {\n  value: !0\n});\nTt.Speech = void 0;\nvar kn = li,\n  ha = ci,\n  In = Ct,\n  Rt = At,\n  Ti = di,\n  ie = je,\n  Ci = ui,\n  Ln = tt,\n  Rn = Fe,\n  Ai = De;\nvar pa = /*#__PURE__*/function () {\n  function pa() {\n    _classCallCheck(this, pa);\n    this.finalTranscript = \"\", this.interimSpan = ie.Elements.createInterimSpan(), this.finalSpan = ie.Elements.createGenericSpan(), this.scrollingSpan = ie.Elements.createGenericSpan(), this.isCursorAtEnd = !1, this.spansPopulated = !1, this.startPadding = \"\", this.endPadding = \"\", this.numberOfSpacesBeforeNewText = 0, this.numberOfSpacesAfterNewText = 0, this.isHighlighted = !1, this.primitiveTextRecorded = !1, this.recognizing = !1, this._displayInterimResults = !0, this.insertInCursorLocation = !0, this.autoScroll = !0, this.isRestarting = !1, this.isPaused = !1, this.isWaitingForCommand = !1, this.isTargetInShadow = !1, this.cannotBeStopped = !1, this.resetState();\n  }\n  _createClass(pa, [{\n    key: \"prepareBeforeStart\",\n    value: function prepareBeforeStart(e) {\n      var t, i;\n      if (e != null && e.element) if (kn.EventListeners.add(this, e), Array.isArray(e.element)) {\n        var r = e.element.find(function (o) {\n          return o === document.activeElement;\n        }) || e.element[0];\n        if (!r) return;\n        this.prepare(r);\n      } else this.prepare(e.element);\n      (e == null ? void 0 : e.displayInterimResults) !== void 0 && (this._displayInterimResults = e.displayInterimResults), e != null && e.textColor && (this._finalTextColor = (t = e == null ? void 0 : e.textColor) === null || t === void 0 ? void 0 : t[\"final\"], ie.Elements.applyCustomColors(this, e.textColor)), (e == null ? void 0 : e.insertInCursorLocation) !== void 0 && (this.insertInCursorLocation = e.insertInCursorLocation), (e == null ? void 0 : e.autoScroll) !== void 0 && (this.autoScroll = e.autoScroll), this._onResult = e == null ? void 0 : e.onResult, this._onPreResult = e == null ? void 0 : e.onPreResult, this._onStart = e == null ? void 0 : e.onStart, this._onStop = e == null ? void 0 : e.onStop, this._onError = e == null ? void 0 : e.onError, this.onCommandModeTrigger = e == null ? void 0 : e.onCommandModeTrigger, this.onPauseTrigger = e == null ? void 0 : e.onPauseTrigger, this._options = e, !((i = this._options) === null || i === void 0) && i.commands && (this.commands = In.CommandUtils.process(this._options.commands));\n    }\n  }, {\n    key: \"prepare\",\n    value: function prepare(e) {\n      Ci.Padding.setState(this, e), Ti.Highlight.setState(this, e), this.isTargetInShadow = ie.Elements.isInsideShadowDOM(e), ie.Elements.isPrimitiveElement(e) ? (this._primitiveElement = e, this._originalText = this._primitiveElement.value) : (this._genericElement = e, this._originalText = this._genericElement.textContent);\n    }\n    // there was an attempt to optimize this by not having to restart the service and just reset state:\n    // unfortunately it did not work because the service would still continue firing the intermediate and final results\n    // into the new position\n  }, {\n    key: \"resetRecording\",\n    value: function resetRecording(e) {\n      this.isRestarting = !0, this.stop(!0), this.resetState(!0), this.start(e, !0);\n    }\n    // prettier-ignore\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(e, t, i) {\n      var n;\n      var r = Ai.Text.capitalize(t);\n      if (this.finalTranscript === r && e === \"\") return;\n      ha.PreResultUtils.process(this, i, e === \"\", this._onPreResult, this._options) && (e = \"\", i = \"\");\n      var o = this.commands && In.CommandUtils.execCommand(this, i, this._options, this._primitiveElement || this._genericElement, this._originalText);\n      if (o) {\n        if (o.doNotProcessTranscription) return;\n        e = \"\", i = \"\";\n      }\n      if (this.isPaused || this.isWaitingForCommand) return;\n      (n = this._onResult) === null || n === void 0 || n.call(this, i, e === \"\"), this.finalTranscript = r, this._displayInterimResults || (e = \"\");\n      var a = this.finalTranscript === \"\" && e === \"\";\n      this._primitiveElement ? this.updatePrimitiveElement(this._primitiveElement, e, a) : this._genericElement && this.updateGenericElement(this._genericElement, e, a);\n    }\n    // prettier-ignore\n    // remember that padding values here contain actual text left and right\n  }, {\n    key: \"updatePrimitiveElement\",\n    value: function updatePrimitiveElement(e, t, i) {\n      this.isHighlighted && Ti.Highlight.removeForPrimitive(this, e), this.primitiveTextRecorded || Ci.Padding.adjustStateAfterRecodingPrimitiveElement(this, e), i && Ci.Padding.adjustSateForNoTextPrimitiveElement(this);\n      var n = this.startPadding + this.finalTranscript + t;\n      if (e.value = n + this.endPadding, !this.isTargetInShadow) {\n        var r = n.length + this.numberOfSpacesAfterNewText;\n        Rn.Cursor.setOffsetForPrimitive(e, r, this.autoScroll);\n      }\n      this.autoScroll && Ln.Browser.IS_SAFARI() && this.isCursorAtEnd && Rt.AutoScroll.scrollSafariPrimitiveToEnd(e);\n    }\n  }, {\n    key: \"updateGenericElement\",\n    value: function updateGenericElement(e, t, i) {\n      this.isHighlighted && Ti.Highlight.removeForGeneric(this, e), this.spansPopulated || ie.Elements.appendSpans(this, e);\n      var n = (i ? \"\" : this.startPadding) + Ai.Text.lineBreak(this.finalTranscript);\n      this.finalSpan.innerHTML = n;\n      var r = Rt.AutoScroll.isRequired(this.autoScroll, e);\n      Rt.AutoScroll.changeStateIfNeeded(this, r);\n      var o = Ai.Text.lineBreak(t) + (i ? \"\" : this.endPadding);\n      this.interimSpan.innerHTML = o, Ln.Browser.IS_SAFARI() && this.insertInCursorLocation && Rn.Cursor.setOffsetForSafariGeneric(e, n.length + o.length), r && Rt.AutoScroll.scrollGeneric(this, e), i && (this.scrollingSpan.innerHTML = \"\");\n    }\n  }, {\n    key: \"finalise\",\n    value: function finalise(e) {\n      this._genericElement && (e ? (this.finalSpan = ie.Elements.createGenericSpan(), this.setInterimColorToFinal(), this.interimSpan = ie.Elements.createInterimSpan(), this.scrollingSpan = ie.Elements.createGenericSpan()) : this._genericElement.textContent = this._genericElement.textContent, this.spansPopulated = !1), kn.EventListeners.remove(this);\n    }\n  }, {\n    key: \"setInterimColorToFinal\",\n    value: function setInterimColorToFinal() {\n      this.interimSpan.style.color = this._finalTextColor || \"black\";\n    }\n  }, {\n    key: \"resetState\",\n    value: function resetState(e) {\n      this._primitiveElement = void 0, this._genericElement = void 0, this.finalTranscript = \"\", this.finalSpan.innerHTML = \"\", this.interimSpan.innerHTML = \"\", this.scrollingSpan.innerHTML = \"\", this.startPadding = \"\", this.endPadding = \"\", this.isHighlighted = !1, this.primitiveTextRecorded = !1, this.numberOfSpacesBeforeNewText = 0, this.numberOfSpacesAfterNewText = 0, e || (this.stopTimeout = void 0);\n    }\n  }, {\n    key: \"setStateOnStart\",\n    value: function setStateOnStart() {\n      var e;\n      this.recognizing = !0, this.isRestarting ? this.isRestarting = !1 : (e = this._onStart) === null || e === void 0 || e.call(this);\n    }\n  }, {\n    key: \"setStateOnStop\",\n    value: function setStateOnStop() {\n      var e;\n      this.recognizing = !1, this.isRestarting || (e = this._onStop) === null || e === void 0 || e.call(this);\n    }\n  }, {\n    key: \"setStateOnError\",\n    value: function setStateOnError(e) {\n      var t;\n      (t = this._onError) === null || t === void 0 || t.call(this, e), this.recognizing = !1;\n    }\n  }]);\n  return pa;\n}();\nTt.Speech = pa;\nObject.defineProperty(oi, \"__esModule\", {\n  value: !0\n});\noi.WebSpeech = void 0;\nvar On = ai,\n  Nn = tt,\n  fa = Tt;\nvar Jt = /*#__PURE__*/function (_fa$Speech) {\n  _inherits(Jt, _fa$Speech);\n  var _super41 = _createSuper(Jt);\n  function Jt() {\n    _classCallCheck(this, Jt);\n    return _super41.call(this);\n  }\n  _createClass(Jt, [{\n    key: \"start\",\n    value: function start(e) {\n      var t;\n      this._extractText === void 0 && (this._extractText = Nn.Browser.IS_SAFARI() ? On.WebSpeechTranscript.extractSafari : On.WebSpeechTranscript.extract), this.validate() && (this.prepareBeforeStart(e), this.instantiateService(e), (t = this._service) === null || t === void 0 || t.start(), this._translations = e == null ? void 0 : e.translations);\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      return Jt.getAPI() ? !0 : (this.error(\"Speech Recognition is unsupported\"), !1);\n    }\n  }, {\n    key: \"instantiateService\",\n    value: function instantiateService(e) {\n      var t, i;\n      var n = Jt.getAPI();\n      this._service = new n(), this._service.continuous = !0, this._service.interimResults = (t = e == null ? void 0 : e.displayInterimResults) !== null && t !== void 0 ? t : !0, this._service.lang = ((i = e == null ? void 0 : e.language) === null || i === void 0 ? void 0 : i.trim()) || \"en-US\", this.setEvents();\n    }\n  }, {\n    key: \"setEvents\",\n    value: function setEvents() {\n      var _this52 = this;\n      this._service && (this._service.onstart = function () {\n        _this52.setStateOnStart();\n      }, this._service.onerror = function (e) {\n        Nn.Browser.IS_SAFARI() && e.message === \"Another request is started\" || e.error === \"aborted\" && _this52.isRestarting || e.error !== \"no-speech\" && _this52.error(e.message || e.error);\n      }, this._service.onaudioend = function () {\n        _this52.setStateOnStop();\n      }, this._service.onend = function () {\n        _this52._stopping = !1;\n      }, this._service.onresult = function (e) {\n        if (_typeof(e.results) > \"u\" && _this52._service) _this52._service.onend = null, _this52._service.stop();else if (_this52._extractText && !_this52._stopping) {\n          var _this52$_extractText = _this52._extractText(e, _this52.finalTranscript, _this52._translations),\n            t = _this52$_extractText.interimTranscript,\n            _i17 = _this52$_extractText.finalTranscript,\n            n = _this52$_extractText.newText;\n          _this52.updateElements(t, _i17, n);\n        }\n      });\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(e) {\n      var t;\n      this._stopping = !0, (t = this._service) === null || t === void 0 || t.stop(), this.finalise(e);\n    }\n  }, {\n    key: \"error\",\n    value: function error(e) {\n      console.error(e), this.setStateOnError(e), this.stop();\n    }\n  }], [{\n    key: \"getAPI\",\n    value: function getAPI() {\n      return window.webkitSpeechRecognition || window.SpeechRecognition;\n    }\n  }]);\n  return Jt;\n}(fa.Speech);\noi.WebSpeech = Jt;\nvar hi = {};\nObject.defineProperty(hi, \"__esModule\", {\n  value: !0\n});\nhi.GlobalState = void 0;\nvar $e = /*#__PURE__*/function () {\n  function $e() {\n    _classCallCheck(this, $e);\n  }\n  _createClass($e, null, [{\n    key: \"doubleClickDetector\",\n    value: function doubleClickDetector() {\n      return $e.doubleClickPending ? !0 : ($e.doubleClickPending = !0, setTimeout(function () {\n        $e.doubleClickPending = !1;\n      }, 300), !1);\n    }\n  }]);\n  return $e;\n}();\nhi.GlobalState = $e;\n$e.doubleClickPending = !1;\nvar pi = {},\n  fi = {};\nObject.defineProperty(fi, \"__esModule\", {\n  value: !0\n});\nfi.PreventConnectionStop = void 0;\nvar ma = /*#__PURE__*/function () {\n  function ma() {\n    _classCallCheck(this, ma);\n  }\n  _createClass(ma, null, [{\n    key: \"applyPrevention\",\n    value: function applyPrevention(e) {\n      clearTimeout(e._manualConnectionStopPrevention), e.cannotBeStopped = !0, e._manualConnectionStopPrevention = setTimeout(function () {\n        e.cannotBeStopped = !1;\n      }, 800);\n    }\n  }, {\n    key: \"clearPrevention\",\n    value: function clearPrevention(e) {\n      clearTimeout(e._manualConnectionStopPrevention), e.cannotBeStopped = !1;\n    }\n  }]);\n  return ma;\n}();\nfi.PreventConnectionStop = ma;\nvar mi = {},\n  gi = {};\nObject.defineProperty(gi, \"__esModule\", {\n  value: !0\n});\ngi.README_URL = void 0;\ngi.README_URL = \"https://github.com/OvidijusParsiunas/speech-to-element\";\nObject.defineProperty(mi, \"__esModule\", {\n  value: !0\n});\nmi.AzureSpeechConfig = void 0;\nvar ki = gi;\nvar $t = /*#__PURE__*/function () {\n  function $t() {\n    _classCallCheck(this, $t);\n  }\n  _createClass($t, null, [{\n    key: \"validateOptions\",\n    value: function validateOptions(e, t) {\n      return t ? !t.subscriptionKey && !t.token && !t.retrieveToken ? (e(\"Please define a 'subscriptionKey', 'token' or 'retrieveToken' property - more info: \".concat(ki.README_URL)), !1) : t.region ? !0 : (e(\"Please define a 'region' property - more info: \".concat(ki.README_URL)), !1) : (e(\"Please provide subscription details - more info: \".concat(ki.README_URL)), !1);\n    }\n  }, {\n    key: \"getNewSpeechConfig\",\n    value: function () {\n      var _getNewSpeechConfig = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee95(e, t) {\n        return _regeneratorRuntime().wrap(function _callee95$(_context95) {\n          while (1) switch (_context95.prev = _context95.next) {\n            case 0:\n              if (!t.region) {\n                _context95.next = 2;\n                break;\n              }\n              return _context95.abrupt(\"return\", t.subscriptionKey ? e.fromSubscription(t.subscriptionKey.trim(), t.region.trim()) : t.token ? e.fromAuthorizationToken(t.token.trim(), t.region.trim()) : t.retrieveToken ? t.retrieveToken().then(function (i) {\n                return t.region ? e.fromAuthorizationToken((i == null ? void 0 : i.trim()) || \"\", t.region.trim()) : null;\n              })[\"catch\"](function (i) {\n                return console.error(i), null;\n              }) : null);\n            case 2:\n            case \"end\":\n              return _context95.stop();\n          }\n        }, _callee95);\n      }));\n      function getNewSpeechConfig(_x175, _x176) {\n        return _getNewSpeechConfig.apply(this, arguments);\n      }\n      return getNewSpeechConfig;\n    }()\n  }, {\n    key: \"process\",\n    value: function process(e, t) {\n      t.language && (e.speechRecognitionLanguage = t.language.trim());\n    }\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee96(e, t) {\n        var i;\n        return _regeneratorRuntime().wrap(function _callee96$(_context96) {\n          while (1) switch (_context96.prev = _context96.next) {\n            case 0:\n              _context96.next = 2;\n              return $t.getNewSpeechConfig(e, t);\n            case 2:\n              i = _context96.sent;\n              return _context96.abrupt(\"return\", (i && $t.process(i, t), i));\n            case 4:\n            case \"end\":\n              return _context96.stop();\n          }\n        }, _callee96);\n      }));\n      function get(_x177, _x178) {\n        return _get.apply(this, arguments);\n      }\n      return get;\n    }()\n  }]);\n  return $t;\n}();\nmi.AzureSpeechConfig = $t;\nvar bi = {};\nObject.defineProperty(bi, \"__esModule\", {\n  value: !0\n});\nbi.StopTimeout = void 0;\nvar vt = /*#__PURE__*/function () {\n  function vt() {\n    _classCallCheck(this, vt);\n  }\n  _createClass(vt, null, [{\n    key: \"set\",\n    value: function set(e) {\n      e.stopTimeout = setTimeout(function () {\n        return e.stop();\n      }, e.stopTimeoutMS);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset(e, t) {\n      e.stopTimeoutMS = t || vt.DEFAULT_MS, e.stopTimeout && clearTimeout(e.stopTimeout), vt.set(e);\n    }\n  }]);\n  return vt;\n}();\nbi.StopTimeout = vt;\nvt.DEFAULT_MS = 2e4;\nvar vi = {};\nObject.defineProperty(vi, \"__esModule\", {\n  value: !0\n});\nvi.AzureTranscript = void 0;\nvar ga = Mt;\nvar ba = /*#__PURE__*/function () {\n  function ba() {\n    _classCallCheck(this, ba);\n  }\n  _createClass(ba, null, [{\n    key: \"extract\",\n    value:\n    // newText is used to only send new text in onResult as finalTranscript is continuously accumulated\n    function extract(e, t, i, n) {\n      return n && (e = ga.Translate.translate(e, n)), i ? {\n        interimTranscript: \"\",\n        finalTranscript: t + e,\n        newText: e\n      } : {\n        interimTranscript: e,\n        finalTranscript: t,\n        newText: e\n      };\n    }\n  }]);\n  return ba;\n}();\nvi.AzureTranscript = ba;\nObject.defineProperty(pi, \"__esModule\", {\n  value: !0\n});\npi.Azure = void 0;\nvar Pn = fi,\n  Dn = mi,\n  Ii = bi,\n  jn = vi,\n  va = Tt;\nvar Yt = /*#__PURE__*/function (_va$Speech) {\n  _inherits(Yt, _va$Speech);\n  var _super42 = _createSuper(Yt);\n  function Yt() {\n    var _this53;\n    _classCallCheck(this, Yt);\n    _this53 = _super42.apply(this, arguments), _this53._newTextPadding = \"\";\n    return _this53;\n  }\n  _createClass(Yt, [{\n    key: \"start\",\n    value: function start(e, t) {\n      this._newTextPadding = \"\", this.stopTimeout === void 0 && Ii.StopTimeout.reset(this, e == null ? void 0 : e.stopAfterSilenceMs), this.prepareBeforeStart(e), this.startAsync(e), t || Pn.PreventConnectionStop.applyPrevention(this);\n    }\n  }, {\n    key: \"startAsync\",\n    value: function () {\n      var _startAsync = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee97(e) {\n        var t;\n        return _regeneratorRuntime().wrap(function _callee97$(_context97) {\n          while (1) switch (_context97.prev = _context97.next) {\n            case 0:\n              _context97.t0 = this.validate(e);\n              if (!_context97.t0) {\n                _context97.next = 6;\n                break;\n              }\n              _context97.next = 4;\n              return this.instantiateService(e);\n            case 4:\n              this._translations = e == null ? void 0 : e.translations;\n              (t = this._service) === null || t === void 0 || t.startContinuousRecognitionAsync(function () {}, this.error);\n            case 6:\n            case \"end\":\n              return _context97.stop();\n          }\n        }, _callee97, this);\n      }));\n      function startAsync(_x179) {\n        return _startAsync.apply(this, arguments);\n      }\n      return startAsync;\n    }()\n  }, {\n    key: \"validate\",\n    value: function validate(e) {\n      return Yt.getAPI() ? Dn.AzureSpeechConfig.validateOptions(this.error.bind(this), e) : (this.moduleNotFound(), !1);\n    }\n  }, {\n    key: \"instantiateService\",\n    value: function () {\n      var _instantiateService = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee98(e) {\n        var t, i, n, r;\n        return _regeneratorRuntime().wrap(function _callee98$(_context98) {\n          while (1) switch (_context98.prev = _context98.next) {\n            case 0:\n              t = Yt.getAPI();\n              i = t.AudioConfig.fromDefaultMicrophoneInput();\n              _context98.next = 4;\n              return Dn.AzureSpeechConfig.get(t.SpeechConfig, e);\n            case 4:\n              n = _context98.sent;\n              if (n) {\n                r = new t.SpeechRecognizer(n, i);\n                this.setEvents(r), this._service = r, e.retrieveToken && this.retrieveTokenInterval(e.retrieveToken);\n              } else this.error(\"Unable to contact Azure server\");\n            case 6:\n            case \"end\":\n              return _context98.stop();\n          }\n        }, _callee98, this);\n      }));\n      function instantiateService(_x180) {\n        return _instantiateService.apply(this, arguments);\n      }\n      return instantiateService;\n    }()\n  }, {\n    key: \"setEvents\",\n    value: function setEvents(e) {\n      e.recognizing = this.onRecognizing.bind(this), e.recognized = this.onRecognized.bind(this), e.sessionStarted = this.onSessionStarted.bind(this), e.canceled = this.onCanceled.bind(this), e.sessionStopped = this.onSessionStopped.bind(this);\n    }\n    // prettier-ignore\n  }, {\n    key: \"onRecognizing\",\n    value: function onRecognizing(e, t) {\n      if (this._stopping) return;\n      var _jn$AzureTranscript$e = jn.AzureTranscript.extract(this._newTextPadding + t.result.text, this.finalTranscript, !1, this._translations),\n        i = _jn$AzureTranscript$e.interimTranscript,\n        n = _jn$AzureTranscript$e.finalTranscript,\n        r = _jn$AzureTranscript$e.newText;\n      Ii.StopTimeout.reset(this, this.stopTimeoutMS), this.updateElements(i, n, r);\n    }\n    // WORK - huge opportunity to fix this in the repo!!!!!\n    //   function onRecognized(sender, recognitionEventArgs) {\n    //     var result = recognitionEventArgs.result;\n    //     onRecognizedResult(recognitionEventArgs.result);\n    // }\n    // prettier-ignore\n  }, {\n    key: \"onRecognized\",\n    value: function onRecognized(e, t) {\n      var i = t.result;\n      switch (i.reason) {\n        case window.SpeechSDK.ResultReason.Canceled:\n          break;\n        case window.SpeechSDK.ResultReason.RecognizedSpeech:\n          if (i.text && !this._stopping) {\n            var _jn$AzureTranscript$e2 = jn.AzureTranscript.extract(this._newTextPadding + i.text, this.finalTranscript, !0, this._translations),\n              n = _jn$AzureTranscript$e2.interimTranscript,\n              r = _jn$AzureTranscript$e2.finalTranscript,\n              o = _jn$AzureTranscript$e2.newText;\n            Ii.StopTimeout.reset(this, this.stopTimeoutMS), this.updateElements(n, r, o), r !== \"\" && (this._newTextPadding = \" \");\n          }\n          break;\n      }\n    }\n  }, {\n    key: \"onCanceled\",\n    value: function onCanceled(e, t) {\n      t.reason === window.SpeechSDK.CancellationReason.Error && this.error(t.errorDetails);\n    }\n  }, {\n    key: \"onSessionStarted\",\n    value: function onSessionStarted() {\n      Pn.PreventConnectionStop.clearPrevention(this), this.setStateOnStart();\n    }\n  }, {\n    key: \"onSessionStopped\",\n    value: function onSessionStopped() {\n      this._retrieveTokenInterval || clearInterval(this._retrieveTokenInterval), this._stopping = !1, this.setStateOnStop();\n    }\n  }, {\n    key: \"retrieveTokenInterval\",\n    value: function retrieveTokenInterval(e) {\n      var _this54 = this;\n      this._retrieveTokenInterval = setInterval(function () {\n        e == null || e().then(function (t) {\n          _this54._service && (_this54._service.authorizationToken = (t == null ? void 0 : t.trim()) || \"\");\n        })[\"catch\"](function (t) {\n          _this54.error(t);\n        });\n      }, 1e4);\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(e) {\n      var t;\n      !e && this._retrieveTokenInterval && clearInterval(this._retrieveTokenInterval), this._stopping = !0, (t = this._service) === null || t === void 0 || t.stopContinuousRecognitionAsync(), this.finalise(e);\n    }\n  }, {\n    key: \"moduleNotFound\",\n    value: function moduleNotFound() {\n      console.error(\"speech recognition module not found:\"), console.error(\"please install the 'microsoft-cognitiveservices-speech-sdk' npm package or add a script tag: <script src=\\\"https://aka.ms/csspeech/jsbrowserpackageraw\\\"></script>\"), this.setStateOnError(\"speech recognition module not found\");\n    }\n  }, {\n    key: \"error\",\n    value: function error(e) {\n      this._retrieveTokenInterval && clearInterval(this._retrieveTokenInterval), console.error(e), this.setStateOnError(e), this.stop();\n    }\n  }], [{\n    key: \"getAPI\",\n    value: function getAPI() {\n      return window.SpeechSDK;\n    }\n  }]);\n  return Yt;\n}(va.Speech);\npi.Azure = Yt;\nObject.defineProperty(ms, \"__esModule\", {\n  value: !0\n});\nvar Fn = oi,\n  ya = Ct,\n  ee = hi,\n  xa = pi;\nvar We = /*#__PURE__*/function () {\n  function We() {\n    _classCallCheck(this, We);\n  }\n  _createClass(We, null, [{\n    key: \"toggle\",\n    value: function toggle(e, t) {\n      var i, n;\n      var r = e.toLocaleLowerCase().trim();\n      !((i = ee.GlobalState.service) === null || i === void 0) && i.recognizing ? this.stop() : r === \"webspeech\" ? We.startWebSpeech(t) : r === \"azure\" ? We.startAzure(t) : (console.error(\"service not found - must be either 'webspeech' or 'azure'\"), (n = t == null ? void 0 : t.onError) === null || n === void 0 || n.call(t, \"service not found - must be either 'webspeech' or 'azure'\"));\n    }\n  }, {\n    key: \"startWebSpeech\",\n    value: function startWebSpeech(e) {\n      We.stop() || (ee.GlobalState.service = new Fn.WebSpeech(), ee.GlobalState.service.start(e));\n    }\n  }, {\n    key: \"isWebSpeechSupported\",\n    value: function isWebSpeechSupported() {\n      return !!Fn.WebSpeech.getAPI();\n    }\n  }, {\n    key: \"startAzure\",\n    value: function startAzure(e) {\n      var t;\n      We.stop() || !((t = ee.GlobalState.service) === null || t === void 0) && t.cannotBeStopped || (ee.GlobalState.service = new xa.Azure(), ee.GlobalState.service.start(e));\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var e;\n      return ee.GlobalState.doubleClickDetector() ? !0 : (!((e = ee.GlobalState.service) === null || e === void 0) && e.recognizing && ee.GlobalState.service.stop(), !1);\n    }\n  }, {\n    key: \"endCommandMode\",\n    value: function endCommandMode() {\n      ee.GlobalState.service && ya.CommandUtils.toggleCommandModeOff(ee.GlobalState.service);\n    }\n  }]);\n  return We;\n}();\nvar Li = ms[\"default\"] = We;\nvar Zt = /*#__PURE__*/function (_bt) {\n  _inherits(Zt, _bt);\n  var _super43 = _createSuper(Zt);\n  function Zt(e, t, i) {\n    var _this55;\n    _classCallCheck(this, Zt);\n    var o;\n    _this55 = _super43.call(this, _typeof(e.speechToText) == \"object\" ? (o = e.speechToText) == null ? void 0 : o.button : {});\n    var _Zt$processConfigurat = Zt.processConfiguration(t, e.speechToText),\n      n = _Zt$processConfigurat.serviceName,\n      r = _Zt$processConfigurat.processedConfig;\n    if (_this55._addErrorMessage = i, n === \"webspeech\" && !Li.isWebSpeechSupported()) _this55.changeToUnsupported();else {\n      var a = !e.textInput || !e.textInput.disabled;\n      _this55.elementRef.onclick = _this55.buttonClick.bind(_assertThisInitialized(_this55), t, a, n, r);\n    }\n    return _this55;\n  }\n  // prettier-ignore\n  _createClass(Zt, [{\n    key: \"buttonClick\",\n    value: function buttonClick(e, t, i, n) {\n      e.removeTextIfPlaceholder(), Li.toggle(i, _objectSpread({\n        insertInCursorLocation: !1,\n        element: t ? e.inputElementRef : void 0,\n        onError: this.onError.bind(this),\n        onStart: this.changeToActive.bind(this),\n        onStop: this.changeToDefault.bind(this),\n        onCommandModeTrigger: this.onCommandModeTrigger.bind(this)\n      }, n));\n    }\n  }, {\n    key: \"onCommandModeTrigger\",\n    value: function onCommandModeTrigger(e) {\n      e ? this.changeToCommandMode() : this.changeToActive();\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      this._addErrorMessage(\"speechToText\", \"speech input error\");\n    }\n  }], [{\n    key: \"processConfiguration\",\n    value: function processConfiguration(e, t) {\n      var _i$displayInterimResu, _i$textColor, _i$translations, _i$commands;\n      var c;\n      var i = _typeof(t) == \"object\" ? t : {},\n        n = _typeof(i.webSpeech) == \"object\" ? i.webSpeech : {},\n        r = i.azure || {},\n        o = _objectSpread(_objectSpread({\n          displayInterimResults: (_i$displayInterimResu = i.displayInterimResults) !== null && _i$displayInterimResu !== void 0 ? _i$displayInterimResu : void 0,\n          textColor: (_i$textColor = i.textColor) !== null && _i$textColor !== void 0 ? _i$textColor : void 0,\n          translations: (_i$translations = i.translations) !== null && _i$translations !== void 0 ? _i$translations : void 0,\n          commands: (_i$commands = i.commands) !== null && _i$commands !== void 0 ? _i$commands : void 0\n        }, n), r),\n        a = (c = i.commands) == null ? void 0 : c.submit;\n      return a && (o.onPreResult = function (d) {\n        return d.toLowerCase().includes(a) ? (setTimeout(function () {\n          var u;\n          return (u = e.submit) == null ? void 0 : u.call(e);\n        }), Li.endCommandMode(), {\n          restart: !0,\n          removeNewText: !0\n        }) : null;\n      }), {\n        serviceName: Zt.getServiceName(i),\n        processedConfig: o\n      };\n    }\n  }, {\n    key: \"getServiceName\",\n    value: function getServiceName(e) {\n      return e.webSpeech ? \"webspeech\" : e.azure ? \"azure\" : \"webspeech\";\n    }\n  }]);\n  return Zt;\n}(bt);\nvar gs = /*#__PURE__*/function () {\n  function gs() {\n    _classCallCheck(this, gs);\n  }\n  _createClass(gs, null, [{\n    key: \"getFileName\",\n    value: function getFileName(e, t) {\n      var i = /* @__PURE__ */new Date(),\n        n = String(i.getHours()).padStart(2, \"0\"),\n        r = String(i.getMinutes()).padStart(2, \"0\"),\n        o = String(i.getSeconds()).padStart(2, \"0\");\n      return \"\".concat(e, \"-\").concat(n, \"-\").concat(r, \"-\").concat(o, \".\").concat(t);\n    }\n  }]);\n  return gs;\n}();\nvar Ea = /*#__PURE__*/function (_bt2) {\n  _inherits(Ea, _bt2);\n  var _super44 = _createSuper(Ea);\n  function Ea(e, t) {\n    var _this56;\n    _classCallCheck(this, Ea);\n    var i, n;\n    _this56 = _super44.call(this, t.button), _this56._waitingForBrowserApproval = !1, _this56._audioType = e, _this56._extension = ((i = t.files) == null ? void 0 : i.format) || \"mp3\", _this56._maxDurationSeconds = (n = t.files) == null ? void 0 : n.maxDurationSeconds, _this56.elementRef.onclick = _this56.buttonClick.bind(_assertThisInitialized(_this56));\n    return _this56;\n  }\n  _createClass(Ea, [{\n    key: \"buttonClick\",\n    value: function buttonClick() {\n      this._waitingForBrowserApproval || (this.isActive ? this.stop() : (this._waitingForBrowserApproval = !0, this.record()));\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var _this57 = this;\n      return new Promise(function (e) {\n        var t, i;\n        _this57.changeToDefault(), (t = _this57._mediaRecorder) == null || t.stop(), (i = _this57._mediaStream) == null || i.getTracks().forEach(function (n) {\n          return n.stop();\n        }), setTimeout(function () {\n          e();\n        }, 10);\n      });\n    }\n  }, {\n    key: \"record\",\n    value: function record() {\n      var _this58 = this;\n      navigator.mediaDevices.getUserMedia({\n        audio: !0\n      }).then(function (e) {\n        _this58.changeToActive(), _this58._mediaRecorder = new MediaRecorder(e), _this58._audioType.addPlaceholderAttachment(_this58.stop.bind(_this58), _this58._maxDurationSeconds), _this58._mediaStream = e, _this58._mediaRecorder.addEventListener(\"dataavailable\", function (t) {\n          _this58.createFile(t);\n        }), _this58._mediaRecorder.start();\n      })[\"catch\"](function (e) {\n        console.error(e), _this58.stop();\n      })[\"finally\"](function () {\n        _this58._waitingForBrowserApproval = !1;\n      });\n    }\n  }, {\n    key: \"createFile\",\n    value: function createFile(e) {\n      var _this59 = this;\n      var t = new Blob([e.data], {\n          type: \"audio/\".concat(this._extension)\n        }),\n        i = gs.getFileName(this._newFilePrefix || \"audio\", this._extension),\n        n = new File([t], i, {\n          type: t.type\n        }),\n        r = new FileReader();\n      r.readAsDataURL(n), r.onload = function (o) {\n        _this59._audioType.completePlaceholderAttachment(n, o.target.result);\n      };\n    }\n  }]);\n  return Ea;\n}(bt);\nvar Sa = \"<?xml version=\\\"1.0\\\" standalone=\\\"no\\\"?>\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.0//EN\\\" \\\"http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd\\\">\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" stroke=\\\"currentColor\\\" fill=\\\"none\\\" stroke-width=\\\"1\\\" viewBox=\\\"0 0 24 24\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n  <line x1=\\\"22\\\" y1=\\\"2\\\" x2=\\\"11\\\" y2=\\\"14\\\"></line>\\n  <polygon points=\\\"22 2 15 22 11 14 2 10 22 2\\\"></polygon>\\n</svg>\\n\";\nvar B = /*#__PURE__*/function () {\n  function B() {\n    _classCallCheck(this, B);\n  }\n  _createClass(B, null, [{\n    key: \"setPropertyValueIfDoesNotExist\",\n    value: function setPropertyValueIfDoesNotExist(e, t, i) {\n      var _e$n, _e$n2;\n      var n = t[0];\n      t.length === 1 ? (_e$n = e[n]) !== null && _e$n !== void 0 ? _e$n : e[n] = i : ((_e$n2 = e[n]) !== null && _e$n2 !== void 0 ? _e$n2 : e[n] = {}, t.shift(), B.setPropertyValueIfDoesNotExist(e[n], t, i));\n    }\n  }, {\n    key: \"setPropertyValue\",\n    value: function setPropertyValue(e, t, i) {\n      var _e$n3;\n      var n = t[0];\n      t.length === 1 ? e[n] = i : ((_e$n3 = e[n]) !== null && _e$n3 !== void 0 ? _e$n3 : e[n] = {}, t.shift(), B.setPropertyValue(e[n], t, i));\n    }\n  }, {\n    key: \"getObjectValue\",\n    value: function getObjectValue(e, t) {\n      var i = t[0],\n        n = e[i];\n      return n === void 0 || t.length === 1 ? n : B.getObjectValue(n, t.slice(1));\n    }\n  }, {\n    key: \"overwritePropertyObjectFromAnother\",\n    value: function overwritePropertyObjectFromAnother(e, t, i) {\n      var n = B.getObjectValue(t, i);\n      if (n) {\n        var r = _objectSpread(_objectSpread({}, n), B.getObjectValue(e, i) || {});\n        B.setPropertyValue(e, i, r);\n      }\n    }\n  }]);\n  return B;\n}();\nvar Ce = /*#__PURE__*/function () {\n  function Ce() {\n    _classCallCheck(this, Ce);\n  }\n  _createClass(Ce, null, [{\n    key: \"resetSubmit\",\n    value: function resetSubmit(e, t) {\n      t ? e.unsetCustomStateStyles([\"loading\", \"submit\"]) : e.unsetCustomStateStyles([\"stop\", \"loading\", \"submit\"]), e.reapplyStateStyle(\"submit\");\n    }\n  }, {\n    key: \"overwriteDefaultStyleWithSubmit\",\n    value: function overwriteDefaultStyleWithSubmit(e, t) {\n      if (!e.submit) return;\n      var i = JSON.parse(JSON.stringify(e[t] || {}));\n      B.overwritePropertyObjectFromAnother(i, e.submit, [\"container\", \"default\"]), B.overwritePropertyObjectFromAnother(i, e.submit, [\"text\", \"styles\", \"default\"]), B.overwritePropertyObjectFromAnother(i, e.submit, [\"svg\", \"styles\", \"default\"]), e[t] = i;\n    }\n    // prettier-ignore\n  }, {\n    key: \"setUpDisabledButton\",\n    value: function setUpDisabledButton(e) {\n      B.setPropertyValueIfDoesNotExist(e, [\"submit\", \"container\", \"default\", \"backgroundColor\"], \"\"), B.setPropertyValueIfDoesNotExist(e, [\"disabled\", \"container\", \"default\", \"backgroundColor\"], \"unset\"), B.setPropertyValueIfDoesNotExist(e.submit, [\"svg\", \"styles\", \"default\", \"filter\"], \"\"), B.setPropertyValueIfDoesNotExist(e.disabled, [\"svg\", \"styles\", \"default\", \"filter\"], \"brightness(0) saturate(100%) invert(70%) sepia(0%) saturate(5564%) hue-rotate(207deg) brightness(100%) contrast(97%)\"), Ce.overwriteDefaultStyleWithSubmit(e, \"disabled\");\n    }\n  }, {\n    key: \"process\",\n    value: function process(e) {\n      var t = JSON.parse(JSON.stringify(e || {}));\n      return Ce.overwriteDefaultStyleWithSubmit(t, \"loading\"), Ce.overwriteDefaultStyleWithSubmit(t, \"stop\"), e != null && e.alwaysEnabled || Ce.setUpDisabledButton(t), t;\n    }\n  }]);\n  return Ce;\n}();\nvar yi = /*#__PURE__*/function (_wt4) {\n  _inherits(k, _wt4);\n  var _super45 = _createSuper(k);\n  // prettier-ignore\n  function k(e, t, i, n, r) {\n    var _this60;\n    _classCallCheck(this, k);\n    var o = Ce.process(e.submitButtonStyles);\n    _this60 = _super45.call(this, k.createButtonContainerElement(), o == null ? void 0 : o.position, o), _this60._isSVGLoadingIconOverriden = !1, _this60.status = {\n      requestInProgress: !1,\n      loadingActive: !1\n    }, _this60._messages = i, _this60._inputElementRef = t, _this60._fileAttachments = r, _this60._innerElements = _this60.createInnerElements(), _this60._abortStream = new AbortController(), _this60._stopClicked = {\n      listener: function listener() {}\n    }, _this60._serviceIO = n, _this60._alwaysEnabled = !!(o != null && o.alwaysEnabled), e.disableSubmitButton = _this60.disableSubmitButton.bind(_assertThisInitialized(_this60), n), _this60.attemptOverwriteLoadingStyle(e), setTimeout(function () {\n      var a;\n      _this60._validationHandler = e._validationHandler, _this60.assignHandlers(_this60._validationHandler), (a = _this60._validationHandler) == null || a.call(_assertThisInitialized(_this60));\n    });\n    return _this60;\n  }\n  // prettier-ignore\n  _createClass(k, [{\n    key: \"createInnerElements\",\n    value: function createInnerElements() {\n      var _j$create = j.create(this.elementRef, [\"submit\", \"loading\", \"stop\"], this._customStyles),\n        e = _j$create.submit,\n        t = _j$create.loading,\n        i = _j$create.stop,\n        n = e || k.createSubmitIconElement();\n      return {\n        submit: n,\n        loading: t || k.createLoadingIconElement(),\n        stop: i || k.createStopIconElement(),\n        disabled: this.createDisabledIconElement(n)\n      };\n    }\n  }, {\n    key: \"createDisabledIconElement\",\n    value: function createDisabledIconElement(e) {\n      return j.createCustomElement(\"disabled\", this._customStyles) || e.cloneNode(!0);\n    }\n    // prettier-ignore\n  }, {\n    key: \"attemptOverwriteLoadingStyle\",\n    value: function attemptOverwriteLoadingStyle(e) {\n      var t, i, n, r, o, a, l, c, d;\n      if (!((i = (t = this._customStyles) == null ? void 0 : t.submit) != null && i.svg || (o = (r = (n = this._customStyles) == null ? void 0 : n.loading) == null ? void 0 : r.svg) != null && o.content || (c = (l = (a = this._customStyles) == null ? void 0 : a.loading) == null ? void 0 : l.text) != null && c.content) && (e.displayLoadingBubble === void 0 || e.displayLoadingBubble === !0)) {\n        var u = document.createElement(\"style\");\n        u.textContent = \"\\n        .loading-button > * {\\n          filter: brightness(0) saturate(100%) invert(72%) sepia(0%) saturate(3044%) hue-rotate(322deg) brightness(100%)\\n            contrast(96%) !important;\\n        }\", (d = e.shadowRoot) == null || d.appendChild(u), this._isSVGLoadingIconOverriden = !0;\n      }\n    }\n  }, {\n    key: \"assignHandlers\",\n    value: function assignHandlers(e) {\n      this._serviceIO.completionsHandlers = {\n        onFinish: this.resetSubmit.bind(this, e)\n      }, this._serviceIO.streamHandlers = {\n        onOpen: this.changeToStopIcon.bind(this),\n        onClose: this.resetSubmit.bind(this, e),\n        abortStream: this._abortStream,\n        stopClicked: this._stopClicked\n      };\n      var t = this._serviceIO.deepChat.stream;\n      _typeof(t) == \"object\" && typeof t.simulation == \"number\" && (this._serviceIO.streamHandlers.simulationInterim = t.simulation);\n    }\n  }, {\n    key: \"resetSubmit\",\n    value: function resetSubmit(e) {\n      this.status.requestInProgress = !1, this.status.loadingActive = !1, e();\n    }\n  }, {\n    key: \"submitFromInput\",\n    value: function () {\n      var _submitFromInput = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee99() {\n        var t, e, _i18;\n        return _regeneratorRuntime().wrap(function _callee99$(_context99) {\n          while (1) switch (_context99.prev = _context99.next) {\n            case 0:\n              _context99.next = 2;\n              return this._fileAttachments.completePlaceholders();\n            case 2:\n              e = this._fileAttachments.getAllFileData();\n              if (this._inputElementRef.classList.contains(\"text-input-placeholder\")) this.attemptSubmit({\n                text: \"\",\n                files: e\n              });else {\n                _i18 = (t = this._inputElementRef.textContent) == null ? void 0 : t.trim();\n                this.attemptSubmit({\n                  text: _i18,\n                  files: e\n                });\n              }\n            case 4:\n            case \"end\":\n              return _context99.stop();\n          }\n        }, _callee99, this);\n      }));\n      function submitFromInput() {\n        return _submitFromInput.apply(this, arguments);\n      }\n      return submitFromInput;\n    }()\n  }, {\n    key: \"programmaticSubmit\",\n    value: function () {\n      var _programmaticSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee100(e) {\n        var _this61 = this;\n        var t;\n        return _regeneratorRuntime().wrap(function _callee100$(_context100) {\n          while (1) switch (_context100.prev = _context100.next) {\n            case 0:\n              typeof e == \"string\" && (e = ke.processSubmitUserMessage(e));\n              t = {\n                text: e.text\n              };\n              e.files && (t.files = Array.from(e.files).map(function (i) {\n                return {\n                  file: i,\n                  type: ue.getTypeFromBlob(i)\n                };\n              })), setTimeout(function () {\n                return _this61.attemptSubmit(t, !0);\n              });\n            case 3:\n            case \"end\":\n              return _context100.stop();\n          }\n        }, _callee100);\n      }));\n      function programmaticSubmit(_x181) {\n        return _programmaticSubmit.apply(this, arguments);\n      }\n      return programmaticSubmit;\n    }() // TO-DO - should be disabled when loading history\n  }, {\n    key: \"attemptSubmit\",\n    value: function () {\n      var _attemptSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee101(e) {\n        var t,\n          r,\n          o,\n          a,\n          i,\n          n,\n          _args101 = arguments;\n        return _regeneratorRuntime().wrap(function _callee101$(_context101) {\n          while (1) switch (_context101.prev = _context101.next) {\n            case 0:\n              t = _args101.length > 1 && _args101[1] !== undefined ? _args101[1] : !1;\n              _context101.next = 3;\n              return (r = this._validationHandler) == null ? void 0 : r.call(this, t ? e : void 0);\n            case 3:\n              _context101.t0 = _context101.sent;\n              _context101.t1 = !1;\n              if (!(_context101.t0 === _context101.t1)) {\n                _context101.next = 7;\n                break;\n              }\n              return _context101.abrupt(\"return\");\n            case 7:\n              this.changeToLoadingIcon();\n              _context101.next = 10;\n              return this.addNewMessage(e);\n            case 10:\n              this._serviceIO.isWebModel() || this._messages.addLoadingMessage();\n              qi.clear(this._inputElementRef);\n              i = (o = e.files) == null ? void 0 : o.map(function (l) {\n                return l.file;\n              }), n = {\n                text: e.text === \"\" ? void 0 : e.text,\n                files: i\n              };\n              _context101.next = 15;\n              return this._serviceIO.callAPI(n, this._messages);\n            case 15:\n              (a = this._fileAttachments) == null || a.removeAllFiles();\n            case 16:\n            case \"end\":\n              return _context101.stop();\n          }\n        }, _callee101, this);\n      }));\n      function attemptSubmit(_x182) {\n        return _attemptSubmit.apply(this, arguments);\n      }\n      return attemptSubmit;\n    }()\n  }, {\n    key: \"addNewMessage\",\n    value: function () {\n      var _addNewMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee102(_ref13) {\n        var e, t, i;\n        return _regeneratorRuntime().wrap(function _callee102$(_context102) {\n          while (1) switch (_context102.prev = _context102.next) {\n            case 0:\n              e = _ref13.text, t = _ref13.files;\n              i = {\n                role: v.USER_ROLE\n              };\n              e && (i.text = e);\n              _context102.t0 = t;\n              if (!_context102.t0) {\n                _context102.next = 8;\n                break;\n              }\n              _context102.next = 7;\n              return this._messages.addMultipleFiles(t);\n            case 7:\n              i.files = _context102.sent;\n            case 8:\n              this._serviceIO.sessionId && (i._sessionId = this._serviceIO.sessionId);\n              Object.keys(i).length > 0 && this._messages.addNewMessage(i);\n            case 10:\n            case \"end\":\n              return _context102.stop();\n          }\n        }, _callee102, this);\n      }));\n      function addNewMessage(_x183) {\n        return _addNewMessage.apply(this, arguments);\n      }\n      return addNewMessage;\n    }()\n  }, {\n    key: \"stopStream\",\n    value: function stopStream() {\n      var e;\n      this._abortStream.abort(), (e = this._stopClicked) == null || e.listener(), this._validationHandler && this.resetSubmit(this._validationHandler);\n    }\n  }, {\n    key: \"changeToStopIcon\",\n    value: function changeToStopIcon() {\n      this._serviceIO.websocket || (this.elementRef.classList.remove(k.LOADING_CLASS, k.DISABLED_CLASS, k.SUBMIT_CLASS), this.elementRef.replaceChildren(this._innerElements.stop), this.reapplyStateStyle(\"stop\", [\"loading\", \"submit\"]), this.elementRef.onclick = this.stopStream.bind(this), this.status.loadingActive = !1);\n    }\n    // WORK - animation needs to be lowered\n  }, {\n    key: \"changeToLoadingIcon\",\n    value: function changeToLoadingIcon() {\n      this._serviceIO.websocket || (this._isSVGLoadingIconOverriden || this.elementRef.replaceChildren(this._innerElements.loading), this.elementRef.classList.remove(k.SUBMIT_CLASS, k.DISABLED_CLASS), this.elementRef.classList.add(k.LOADING_CLASS), this.reapplyStateStyle(\"loading\", [\"submit\"]), this.elementRef.onclick = function () {}, this.status.requestInProgress = !0, this.status.loadingActive = !0);\n    }\n    // called every time when user triggers an input via ValidationHandler - hence use class to check if not already present\n  }, {\n    key: \"changeToSubmitIcon\",\n    value: function changeToSubmitIcon() {\n      this.elementRef.classList.contains(k.SUBMIT_CLASS) || (this.elementRef.classList.remove(k.LOADING_CLASS, k.DISABLED_CLASS), this.elementRef.classList.add(k.SUBMIT_CLASS), this.elementRef.replaceChildren(this._innerElements.submit), Ce.resetSubmit(this, this.status.loadingActive), this.elementRef.onclick = this.submitFromInput.bind(this));\n    }\n    // called every time when user triggers an input via ValidationHandler - hence use class to check if not already present\n  }, {\n    key: \"changeToDisabledIcon\",\n    value: function changeToDisabledIcon() {\n      var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n      this._alwaysEnabled && !e ? this.changeToSubmitIcon() : this.elementRef.classList.contains(k.DISABLED_CLASS) || (this.elementRef.classList.remove(k.LOADING_CLASS, k.SUBMIT_CLASS), this.elementRef.classList.add(k.DISABLED_CLASS), this.elementRef.replaceChildren(this._innerElements.disabled), this.reapplyStateStyle(\"disabled\", [\"submit\"]), this.elementRef.onclick = function () {});\n    }\n  }, {\n    key: \"disableSubmitButton\",\n    value: function disableSubmitButton(e, t) {\n      var i;\n      e.isSubmitProgrammaticallyDisabled = t !== !1, !(this.status.requestInProgress || this.status.loadingActive) && (t === !1 ? (i = this._validationHandler) == null || i.call(this) : this.changeToDisabledIcon(!0));\n    }\n  }], [{\n    key: \"createButtonContainerElement\",\n    value: function createButtonContainerElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"input-button\"), e;\n    }\n  }, {\n    key: \"createSubmitIconElement\",\n    value: function createSubmitIconElement() {\n      var e = q.createSVGElement(Sa);\n      return e.id = \"submit-icon\", e;\n    }\n  }, {\n    key: \"createLoadingIconElement\",\n    value: function createLoadingIconElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"dots-jumping\"), e;\n    }\n  }, {\n    key: \"createStopIconElement\",\n    value: function createStopIconElement() {\n      var e = document.createElement(\"div\");\n      return e.id = \"stop-icon\", e;\n    }\n  }]);\n  return k;\n}(wt);\nyi.SUBMIT_CLASS = \"submit-button\";\nyi.LOADING_CLASS = \"loading-button\";\nyi.DISABLED_CLASS = \"disabled-button\";\nvar wa = yi;\nvar _a = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 32 32\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path d=\\\"M27.1 14.313V5.396L24.158 8.34c-2.33-2.325-5.033-3.503-8.11-3.503C9.902 4.837 4.901 9.847 4.899 16c.001 6.152 5.003 11.158 11.15 11.16 4.276 0 9.369-2.227 10.836-8.478l.028-.122h-3.23l-.022.068c-1.078 3.242-4.138 5.421-7.613 5.421a8 8 0 0 1-5.691-2.359A7.993 7.993 0 0 1 8 16.001c0-4.438 3.611-8.049 8.05-8.049 2.069 0 3.638.58 5.924 2.573l-3.792 3.789H27.1z\\\"/>\\n</svg>\\n\",\n  Ma = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 32 32\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <title>capture</title>\\n  <path d=\\\"M0 16q0 3.264 1.28 6.208t3.392 5.12 5.12 3.424 6.208 1.248 6.208-1.248 5.12-3.424 3.392-5.12 1.28-6.208-1.28-6.208-3.392-5.12-5.088-3.392-6.24-1.28q-3.264 0-6.208 1.28t-5.12 3.392-3.392 5.12-1.28 6.208zM4 16q0-3.264 1.6-6.016t4.384-4.352 6.016-1.632 6.016 1.632 4.384 4.352 1.6 6.016-1.6 6.048-4.384 4.352-6.016 1.6-6.016-1.6-4.384-4.352-1.6-6.048z\\\"></path>\\n</svg>\\n\",\n  Ta = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path d=\\\"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z\\\"/>\\n</svg>\",\n  Ca = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path d=\\\"M4.89163 13.2687L9.16582 17.5427L18.7085 8\\\" stroke=\\\"#000000\\\" stroke-width=\\\"2.5\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\"/>\\n</svg>\";\nvar sn = /*#__PURE__*/function (_at) {\n  _inherits(sn, _at);\n  var _super46 = _createSuper(sn);\n  // prettier-ignore\n  function sn(e, t, i, n) {\n    var _this62;\n    _classCallCheck(this, sn);\n    _this62 = _super46.call(this, e, [\"modal-content\", \"modal-camera-content\"], i), _this62._stopped = !1, _this62._format = \"image/png\", _this62._canvas = document.createElement(\"canvas\"), _this62._canvas.classList.add(\"camera-modal-canvas\");\n    var _this62$addButtonsAnd = _this62.addButtonsAndTheirEvents(t),\n      r = _this62$addButtonsAnd.captureButton,\n      o = _this62$addButtonsAnd.submitButton;\n    _this62._captureButton = r, _this62._submitButton = o, _this62._captureIcon = _this62._captureButton.children[0], _this62._refreshIcon = q.createSVGElement(_a), _this62._refreshIcon.classList.add(\"modal-svg-button-icon\", \"modal-svg-refresh-icon\"), (n == null ? void 0 : n.format) === \"jpeg\" && (_this62._format = \"image/jpeg\"), n != null && n.dimensions && (_this62._dimensions = n.dimensions), _this62._contentRef.appendChild(_this62._canvas), _this62.extensionCloseCallback = _this62.stop;\n    return _this62;\n  }\n  _createClass(sn, [{\n    key: \"addButtonsAndTheirEvents\",\n    value: function addButtonsAndTheirEvents(e) {\n      var t = at.createSVGButton(Ma);\n      t.classList.add(\"modal-svg-camera-button\"), t.children[0].classList.add(\"modal-svg-camera-icon\");\n      var i = this.addCloseButton(Ta, !0);\n      i.classList.add(\"modal-svg-close-button\"), i.children[0].classList.add(\"modal-svg-close-icon\");\n      var n = at.createSVGButton(Ca);\n      return n.classList.add(\"modal-svg-submit-button\"), this.addButtons(t, n), this.addButtonEvents(t, i, n, e), {\n        captureButton: t,\n        submitButton: n\n      };\n    }\n    // prettier-ignore\n  }, {\n    key: \"addButtonEvents\",\n    value: function addButtonEvents(e, t, i, n) {\n      var _this63 = this;\n      e.onclick = function () {\n        _this63.capture();\n      }, t.addEventListener(\"click\", this.stop.bind(this)), i.onclick = function () {\n        var r = _this63.getFile();\n        r && _t.addFilesToType([r], [n]), _this63.stop(), _this63.close();\n      };\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      var _this64 = this;\n      this._mediaStream && this._mediaStream.getTracks().forEach(function (e) {\n        return e.stop();\n      }), this._stopped = !0, setTimeout(function () {\n        _this64._captureButton.replaceChildren(_this64._captureIcon), _this64._captureButton.classList.replace(\"modal-svg-refresh-button\", \"modal-svg-camera-button\");\n        var e = _this64._canvas.getContext(\"2d\");\n        e == null || e.clearRect(0, 0, _this64._canvas.width, _this64._canvas.height);\n      }, at.MODAL_CLOSE_TIMEOUT_MS);\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this65 = this;\n      this._dataURL = void 0, this._submitButton.classList.add(\"modal-svg-submit-disabled\"), this._stopped = !1, navigator.mediaDevices.getUserMedia({\n        video: this._dimensions || !0\n      }).then(function (e) {\n        if (_this65._mediaStream = e, !_this65.isOpen()) return _this65.stop();\n        var t = document.createElement(\"video\");\n        t.srcObject = e, t.play(), requestAnimationFrame(_this65.updateCanvas.bind(_this65, t, _this65._canvas));\n      })[\"catch\"](function (e) {\n        console.error(e), _this65.stop(), _this65.close();\n      });\n    }\n  }, {\n    key: \"capture\",\n    value: function capture() {\n      this._dataURL ? (this._captureButton.replaceChildren(this._captureIcon), this._captureButton.classList.replace(\"modal-svg-refresh-button\", \"modal-svg-camera-button\"), this._submitButton.classList.add(\"modal-svg-submit-disabled\"), this._dataURL = void 0) : (this._captureButton.replaceChildren(this._refreshIcon), this._captureButton.classList.replace(\"modal-svg-camera-button\", \"modal-svg-refresh-button\"), this._submitButton.classList.remove(\"modal-svg-submit-disabled\"), this._dataURL = this._canvas.toDataURL());\n    }\n  }, {\n    key: \"getFile\",\n    value: function getFile() {\n      if (this._dataURL) {\n        var e = atob(this._dataURL.split(\",\")[1]),\n          t = new Array(e.length);\n        for (var a = 0; a < e.length; a++) t[a] = e.charCodeAt(a);\n        var _i19 = new Uint8Array(t),\n          n = new Blob([_i19], {\n            type: this._format\n          }),\n          r = this._format === \"image/jpeg\" ? \"jpeg\" : \"png\",\n          o = gs.getFileName(this._newFilePrefix || \"photo\", r);\n        return new File([n], o, {\n          type: n.type\n        });\n      }\n    }\n  }, {\n    key: \"updateCanvas\",\n    value: function updateCanvas(e, t) {\n      if (!this._stopped) {\n        if (!this._dataURL) {\n          t.width = e.videoWidth, t.height = e.videoHeight;\n          var _i20 = t.getContext(\"2d\");\n          _i20 == null || _i20.drawImage(e, 0, 0, t.width, t.height);\n        }\n        requestAnimationFrame(this.updateCanvas.bind(this, e, t));\n      }\n    }\n  }, {\n    key: \"openCameraModal\",\n    value: function openCameraModal(e) {\n      this.displayModalElements(), e.start();\n    }\n    // prettier-ignore\n  }], [{\n    key: \"createCameraModalFunc\",\n    value: function createCameraModalFunc(e, t, i, n) {\n      var r = new sn(e, t, i, n);\n      return r.openCameraModal.bind(r, r);\n    }\n  }]);\n  return sn;\n}(at);\nvar Aa = \"<?xml version=\\\"1.0\\\" encoding=\\\"utf-8\\\"?>\\n<svg viewBox=\\\"0 0 32 32\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path d=\\\"M29 7h-4.599l-2.401-4h-12l-2.4 4h-4.6c-1 0-3 1-3 2.969v16.031c0 1.657 1.5 3 2.792 3h26.271c1.313 0 2.938-1.406 2.938-2.968v-16.032c0-1-1-3-3-3zM30 26.032c0 0.395-0.639 0.947-0.937 0.969h-26.265c-0.232-0.019-0.797-0.47-0.797-1v-16.031c0-0.634 0.851-0.953 1-0.969h5.732l2.4-4h9.802l1.785 3.030 0.55 0.97h5.731c0.705 0 0.99 0.921 1 1v16.032zM16 10c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7zM16 22c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z\\\"></path>\\n</svg>\";\nvar Xt = /*#__PURE__*/function (_wt5) {\n  _inherits(Xt, _wt5);\n  var _super47 = _createSuper(Xt);\n  function Xt(e, t, i) {\n    var _this66;\n    _classCallCheck(this, Xt);\n    var r;\n    _this66 = _super47.call(this, Xt.createButtonElement(), (r = i == null ? void 0 : i.button) == null ? void 0 : r.position, (i == null ? void 0 : i.button) || {}, \"Photo\");\n    var n = _this66.createInnerElements(_this66._customStyles);\n    i && _this66.addClickEvent(e, t, i.modalContainerStyle, i.files), _this66.elementRef.classList.add(\"upload-file-button\"), _this66.elementRef.appendChild(n.styles), _this66.reapplyStateStyle(\"styles\");\n    return _this66;\n  }\n  _createClass(Xt, [{\n    key: \"createInnerElements\",\n    value: function createInnerElements(e) {\n      return {\n        styles: this.createInnerElement(Xt.createSVGIconElement(), \"styles\", e)\n      };\n    }\n  }, {\n    key: \"createInnerElement\",\n    value: function createInnerElement(e, t, i) {\n      return j.createSpecificStateElement(this.elementRef, t, i) || e;\n    }\n  }, {\n    key: \"addClickEvent\",\n    value:\n    // prettier-ignore\n    function addClickEvent(e, t, i, n) {\n      var r = sn.createCameraModalFunc(e, t, i, n);\n      this.elementRef.onclick = r;\n    }\n  }], [{\n    key: \"createButtonElement\",\n    value: function createButtonElement() {\n      var e = document.createElement(\"div\");\n      return e.classList.add(\"input-button\"), e;\n    }\n  }, {\n    key: \"createSVGIconElement\",\n    value: function createSVGIconElement() {\n      var e = q.createSVGElement(Aa);\n      return e.id = \"camera-icon\", e;\n    }\n  }]);\n  return Xt;\n}(wt);\nvar pt = /*#__PURE__*/function () {\n  // prettier-ignore\n  function pt(e, t, i, n) {\n    _classCallCheck(this, pt);\n    this.elementRef = pt.createPanelElement(e.inputAreaStyle);\n    var r = new qi(e, i),\n      o = {},\n      a = this.createFileUploadComponents(e, i, n, o);\n    e.speechToText && !o.microphone && (o.microphone = {\n      button: new Zt(e, r, t.addNewErrorMessage.bind(t))\n    });\n    var l = new wa(e, r.inputElementRef, t, i, a);\n    r.submit = l.submitFromInput.bind(l), Me.attach(e, i, r, a, l), e.submitUserMessage = l.programmaticSubmit.bind(l), o.submit = {\n      button: l\n    }, pt.addElements(this.elementRef, r, o, n, a, e.dropupStyles);\n  }\n  _createClass(pt, [{\n    key: \"createFileUploadComponents\",\n    value:\n    // prettier-ignore\n    function createFileUploadComponents(e, t, i, n) {\n      var o, a, l, c;\n      var r = new _t(this.elementRef, e.attachmentContainerStyle, t.demo);\n      if (pt.createUploadButtons(e, t.fileTypes || {}, r, i, n), (o = t.camera) != null && o.files) {\n        var d = ((a = n.images) == null ? void 0 : a.fileType) || r.addType(e, t.camera.files, \"images\");\n        n.camera = {\n          button: new Xt(i, d, t.camera)\n        };\n      }\n      if ((l = t.recordAudio) != null && l.files) {\n        var _d = ((c = n.audio) == null ? void 0 : c.fileType) || r.addType(e, t.recordAudio.files, \"audio\");\n        n.microphone = {\n          button: new Ea(_d, t.recordAudio)\n        };\n      }\n      return de.isEnabled(r, e.dragAndDrop) && de.create(i, r, e.dragAndDrop), r;\n    }\n    // prettier-ignore\n  }], [{\n    key: \"createPanelElement\",\n    value: function createPanelElement(e) {\n      var t = document.createElement(\"div\");\n      return t.id = \"input\", Object.assign(t.style, e), t;\n    }\n  }, {\n    key: \"createUploadButtons\",\n    value: function createUploadButtons(e, t, i, n, r) {\n      Object.keys(t).forEach(function (o) {\n        var a = o,\n          l = t[a];\n        if (l.files) {\n          var c = i.addType(e, l.files, a),\n            _Qo$a = Qo[a],\n            d = _Qo$a.id,\n            u = _Qo$a.svgString,\n            h = _Qo$a.dropupText,\n            p = new ut(n, c, l, d, u, h);\n          r[a] = {\n            button: p,\n            fileType: c\n          };\n        }\n      });\n    }\n    // prettier-ignore\n  }, {\n    key: \"addElements\",\n    value: function addElements(e, t, i, n, r, o) {\n      Y.addElements(e, t.elementRef);\n      var a = Qe.create(),\n        l = F.addButtons(a, i, n, o);\n      Ko.set(t.inputElementRef, a, r.elementRef, l), Qe.add(e, a);\n    }\n  }]);\n  return pt;\n}();\nvar rn = /*#__PURE__*/function () {\n  function rn() {\n    _classCallCheck(this, rn);\n  }\n  _createClass(rn, null, [{\n    key: \"createElements\",\n    value: function createElements(e, t, i) {\n      var n = document.createElement(\"div\");\n      n.id = \"chat-view\";\n      var r = new me(e, t, i);\n      t.websocket && $.createConnection(t, r);\n      var o = new pt(e, r, t, n);\n      return Y.addElements(n, r.elementRef, o.elementRef), n;\n    }\n  }, {\n    key: \"render\",\n    value: function render(e, t, i, n) {\n      var r = rn.createElements(e, i, n);\n      t.replaceChildren(r);\n    }\n  }]);\n  return rn;\n}();\nvar ka = \"#validate-property-key-view{height:100%;position:relative;display:flex;justify-content:center;align-items:center;padding:8px}#large-loading-ring{display:inline-block;width:50px;height:50px}#large-loading-ring:after{content:\\\" \\\";display:block;width:38px;height:38px;margin:1px;border-radius:50%;border:5px solid #5fb2ff;border-color:#5fb2ff transparent #5fb2ff transparent;animation:large-loading-ring 1.4s linear infinite}@keyframes large-loading-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#insert-key-view{height:100%;position:relative}#insert-key-contents{text-align:center;position:absolute;top:44%;left:50%;transform:translate(-50%,-50%);width:82%;display:flex;max-width:700px}#insert-key-title{margin-bottom:15px}#insert-key-input-container{margin-right:2.7em;width:calc(100% - 80px)}#insert-key-input{padding:.3em 1.7em .3em .3em;border-width:1px;border-style:solid;border-radius:3px;width:100%;font-size:inherit}.insert-key-input-valid{border-color:gray}.insert-key-input-invalid{border-color:red}#visibility-icon-container{position:relative;float:right;cursor:pointer;-webkit-user-select:none;user-select:none}.visibility-icon{filter:brightness(0) saturate(100%) invert(63%) sepia(1%) saturate(9%) hue-rotate(43deg) brightness(98%) contrast(92%);position:absolute;right:-1.7em;top:-1.43em}#visible-icon{top:-1.4em}.visibility-icon:hover{filter:unset}.visibility-icon>*{pointer-events:none}#start-button{border:1px solid grey;color:#454545;border-radius:4px;width:3em;display:flex;justify-content:center;align-items:center;cursor:pointer;padding:.28em .3em;-webkit-user-select:none;user-select:none;background-color:#fff}#start-button:hover{background-color:#f2f2f2}#start-button:active{background-color:#d2d2d2}#insert-key-help-text-container{width:100%;position:absolute;margin-top:32px;margin-bottom:20px}#insert-key-help-text-contents{width:100%;position:absolute}#insert-key-input-invalid-text{display:block;margin-top:1em;margin-bottom:.5em;color:red}.insert-key-input-help-text{display:block;margin-top:16px}#loading-ring{display:inline-block;width:16px;height:16px}#loading-ring:after{content:\\\" \\\";display:block;width:11px;height:11px;margin:1px;border-radius:50%;border:2px solid #0084ff;border-color:#0084ff transparent #0084ff transparent;animation:loading-ring 1.2s linear infinite}@keyframes loading-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}#error-view{color:red;font-size:1.2em;line-height:1.3em;margin-top:-5px;text-align:center;height:100%;display:flex;justify-content:center;align-items:center;padding-left:8px;padding-right:8px}.intro-panel{position:absolute;display:flex;justify-content:center;right:0;bottom:0;left:0;margin:auto;height:fit-content;top:-2.5em}#internal-intro-panel{width:250px;height:min-content;display:block;border-radius:5px;overflow:auto;border:1px solid rgb(203,203,203);padding:10px;max-height:calc(100% - 6.8em)}#internal-intro-panel>p{margin-block-start:.8em;margin-block-end:.8em}pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!\\n  Theme: a11y-dark\\n  Author: @ericwbailey\\n  Maintainer: @ericwbailey\\n\\n  Based on the Tomorrow Night Eighties theme: https://github.com/isagalaev/highlight.js/blob/master/src/styles/tomorrow-night-eighties.css\\n*/.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast: active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}#messages{overflow:auto}.outer-message-container:last-child{margin-bottom:5px}.inner-message-container{display:flex;margin-left:auto;margin-right:auto;width:calc(97.5% - 24px);max-width:100%}.message-bubble{margin-top:10px;word-wrap:break-word;width:fit-content;max-width:60%;border-radius:10px;padding:.42em .55em;height:fit-content;line-height:1.26em}.user-message-text{color:#fff;background-color:#0084ff;margin-right:0;margin-left:auto}.ai-message-text{color:#000;background-color:#e4e6eb;margin-left:0;margin-right:auto}.html-message{max-width:unset}.error-message-text{margin:14px auto 10px;background-color:#f4c0c0;color:#474747;text-align:center;max-width:95%}.loading-message-text{width:1em;padding:.6em .75em .6em 1.3em}.message-bubble>p:first-child{margin-top:0}.message-bubble>p:last-child{margin-bottom:0}pre{overflow:auto;display:block;word-break:break-all;word-wrap:break-word;border-radius:7px;background:#2b2b2b;color:#f8f8f2;margin-top:.8em;margin-bottom:.8em;padding:.6em;font-size:.9em;line-height:1.5em}.image-message{padding:0;display:flex;background-color:#ddd}.image-message>*,.image-message>*>*{width:100%;border-radius:8px;display:flex}.audio-message{width:60%;max-width:300px;height:2.2em;max-height:54px;padding:0;background-color:unset}.audio-player{width:100%;height:100%}.audio-player-safari{height:fit-content;width:40px}.audio-player-safari-left{float:left}.audio-player-safari-right{float:right}.any-file-message-bubble{padding:1px}.any-file-message-contents{display:flex}.any-file-message-icon-container{width:1.3em;min-width:1.3em;position:relative;border-radius:4px;margin-left:6px;margin-right:2px}.any-file-message-icon{background-color:#fff;border-radius:4px;position:absolute;width:1em;height:1.25em;padding:1px;margin-top:auto;margin-bottom:auto;top:0;bottom:0}.any-file-message-text{padding-top:5px;overflow-wrap:anywhere;padding-bottom:5px;padding-right:7px}.message-bubble>a{color:inherit}.left-item-position{margin-right:10px}.right-item-position{margin-left:10px}.deep-chat-web-model-button{margin-top:10px;margin-bottom:5px;margin-left:1px}.avatar{padding-top:5px;width:1.5em;height:1.5em;border-radius:1px}.avatar-container{margin-top:9px}.name{margin-top:16px;font-size:15px}#drag-and-drop{position:absolute;display:none;z-index:10;height:calc(100% - 10px);width:calc(100% - 10px);background-color:#70c6ff4d;border:5px dashed #6dafff}#file-attachment-container{position:absolute;height:3.6em;width:calc(80% - 4px);top:-2.5em;border-radius:5px;overflow:auto;text-align:left;background-color:#d7d7d73b;padding-left:4px}.file-attachment{width:2.85em;height:2.85em;display:inline-flex;margin-right:.6em;margin-bottom:.44em;margin-top:4px;position:relative;background-color:#fff;border-radius:5px}.image-attachment{width:100%;height:100%;object-fit:cover;border-radius:5px}.border-bound-attachment{width:calc(100% - 2px);height:calc(100% - 2px);border:1px solid #c3c3c3;border-radius:5px;overflow:hidden}.border-bound-attachment-safari{width:calc(100% - 1px);height:calc(100% - 1px)}.audio-attachment-icon-container{cursor:pointer}.audio-attachment-icon-container:hover{background-color:#f8f8f8}.attachment-icon{left:0;right:0;bottom:0;top:2px;margin:auto;position:absolute;width:25px;-webkit-user-select:none;user-select:none}.not-removable-attachment-icon{top:0;right:0;bottom:0;left:0}.play-icon{filter:brightness(0) saturate(100%) invert(17%) sepia(0%) saturate(1392%) hue-rotate(67deg) brightness(98%) contrast(97%)}.stop-icon{filter:brightness(0) saturate(100%) invert(29%) sepia(90%) saturate(1228%) hue-rotate(198deg) brightness(93%) contrast(98%)}.audio-placeholder-text-3-digits{padding-left:.26rem}.audio-placeholder-text-4-digits{padding-left:.1rem}.any-file-attachment{padding:2px 0}.file-attachment-text-container{position:absolute;width:inherit;display:flex;align-items:center;height:100%;top:-1px}.audio-placeholder-text-3-digits-container{padding-top:1px;cursor:default}.any-file-attachment-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding-left:.13em;margin-left:auto;margin-right:auto}.remove-file-attachment-button{height:1.25em;width:1.25em;border:1px solid #cfcfcf;border-radius:25px;background-color:#fff;top:-4px;right:-5px;position:absolute;display:flex;justify-content:center;cursor:pointer;-webkit-user-select:none;user-select:none}.remove-file-attachment-button:hover{background-color:#e4e4e4}.remove-file-attachment-button:active{background-color:#d7d7d7}.x-icon{color:#4e4e4e;top:-.075em;position:relative;font-size:1.05em}.modal{display:none;flex-direction:column;align-items:center;justify-content:center;position:absolute;width:80%;max-width:420px;max-height:80%;margin:auto;top:0;right:0;bottom:0;left:0;z-index:2}.modal-content{border-top:1px solid rgb(217,217,217);border-left:1px solid rgb(217,217,217);border-right:1px solid rgb(217,217,217);border-top-left-radius:inherit;border-top-right-radius:inherit;background-color:#fff;overflow-y:auto;height:fit-content;max-height:calc(100% - 3.3em);width:100%}.modal-content>p{margin-left:1em;margin-right:1em}.modal-content>ul{margin-right:1em}.modal-button-panel{height:3.3em;border:1px solid;border-color:rgb(223,223,223) rgb(217,217,217) rgb(217,217,217);border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;background-color:#fff;text-align:center;justify-content:center;display:flex;width:100%}.modal-button{min-width:2.5em;text-align:center;color:#fff;border-radius:5px;padding:.4em .4em .3em;height:1.25em;background-color:#3279b2;top:0;bottom:0;cursor:pointer;-webkit-user-select:none;user-select:none;margin:auto .31em}.modal-button:hover{background-color:#276da7}.modal-button:active{background-color:#1b5687}.modal-svg-button{padding:0 0 2px;width:2em;height:1.8em}.modal-svg-button-icon{width:100%;height:100%;filter:brightness(0) saturate(100%) invert(100%) sepia(15%) saturate(4%) hue-rotate(346deg) brightness(101%) contrast(102%)}#modal-background-panel{position:absolute;width:100%;height:100%;background-color:#00000042;z-index:1;display:none}.show-modal-background{animation:fadeInBackground .3s ease-in-out}@keyframes fadeInBackground{0%{opacity:0}to{opacity:1}}.show-modal{animation:fadeInModal .3s ease-in-out}@keyframes fadeInModal{0%{opacity:0;scale:.95}to{opacity:1;scale:1}}.hide-modal-background{animation:fadeOutBackground .2s ease-in-out}@keyframes fadeOutBackground{0%{opacity:1}to{opacity:0}}.hide-modal{animation:fadeOutModal .2s ease-in-out}@keyframes fadeOutModal{0%{opacity:1;scale:1}to{opacity:0;scale:.95}}.modal-camera-content{overflow:hidden;text-align:center;border:unset;height:100%;background-color:#2a2a2a;display:flex;justify-content:center}.camera-modal-canvas{max-width:100%;max-height:100%;margin-top:auto;margin-bottom:auto}.modal-svg-submit-button{background-color:green}.modal-svg-submit-button:hover{background-color:#007500}.modal-svg-submit-button:active{background-color:#006500}.modal-svg-submit-disabled{pointer-events:none;background-color:#747474}.modal-svg-close-button{height:1.56em;padding-top:.37em;padding-bottom:0;background-color:#c13e3e}.modal-svg-close-button:hover{background-color:#b43434}.modal-svg-close-button:active{background-color:#972929}.modal-svg-close-icon{width:80%;height:80%}.modal-svg-camera-button{height:1.6em;padding-top:.38em;padding-bottom:0}.modal-svg-camera-icon{height:76%}.modal-svg-refresh-icon{height:105%}.modal-svg-refresh-button{height:1.66em;padding-top:.11em;padding-bottom:.21em}.input-button-container{position:relative;z-index:1}.inside-right{position:absolute;right:calc(10% + .35em);bottom:.85em}.inside-left{position:absolute;left:calc(10% + .35em);bottom:.85em}.outside-left{position:absolute;right:calc(11px - .55em);bottom:.88em}.outside-right{position:absolute;left:calc(11px - .55em);bottom:.88em}#upload-images-icon{position:absolute;pointer-events:none;width:1.45em;height:1.45em;left:.11em;bottom:.08em;filter:brightness(0) saturate(100%) invert(43%) sepia(0%) saturate(740%) hue-rotate(77deg) brightness(99%) contrast(92%)}#upload-gifs-icon{position:absolute;pointer-events:none;width:1.5em;height:1.48em;left:.07em;bottom:.08em;filter:brightness(0) saturate(100%) invert(49%) sepia(0%) saturate(2586%) hue-rotate(12deg) brightness(93%) contrast(90%)}#upload-audio-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.17em;bottom:.2em;filter:brightness(0) saturate(100%) invert(15%) sepia(0%) saturate(337%) hue-rotate(125deg) brightness(91%) contrast(94%);transform:scaleX(.95)}#camera-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.23em;bottom:.2em;filter:brightness(0) saturate(100%) invert(52%) sepia(0%) saturate(161%) hue-rotate(164deg) brightness(91%) contrast(92%);transform:scaleX(.95)}#upload-mixed-files-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.25em;bottom:.2em;filter:brightness(0) saturate(100%) invert(53%) sepia(0%) saturate(36%) hue-rotate(74deg) brightness(98%) contrast(93%);transform:scaleX(.95)}#interim-text{color:gray}#microphone-button{padding-top:.5px}.outer-button-container>#microphone-button{padding-bottom:1px}#microphone-icon{position:absolute;pointer-events:none;width:1.21em;height:1.21em;left:.25em;bottom:.25em}.default-microphone-icon{filter:brightness(0) saturate(100%) invert(32%) sepia(0%) saturate(924%) hue-rotate(46deg) brightness(95%) contrast(99%)}.active-microphone-icon{filter:brightness(0) saturate(100%) invert(10%) sepia(97%) saturate(7495%) hue-rotate(0deg) brightness(101%) contrast(107%);border-radius:10px}.command-microphone-icon{filter:brightness(0) saturate(100%) invert(42%) sepia(96%) saturate(1067%) hue-rotate(77deg) brightness(99%) contrast(102%)}.unsupported-microphone{display:none}#submit-icon{height:100%;filter:brightness(0) saturate(100%) invert(32%) sepia(0%) saturate(924%) hue-rotate(46deg) brightness(95%) contrast(99%);width:1.21em}#stop-icon{background-color:#acacac;position:absolute;width:.95em;height:.95em;left:.35em;bottom:.35em;border-radius:2px}.submit-button-enlarged{scale:1.1;margin-right:.3em;margin-left:.3em}.dots-jumping{position:relative;left:calc(-9990px + .275em);width:.22em;height:.22em;border-radius:5px;background-color:#848484;color:#848484;box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484;animation:dots-jumping 1.5s infinite linear;bottom:-.7em}@keyframes dots-jumping{0%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}16.667%{box-shadow:9990px -6px #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}33.333%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}50%{box-shadow:9990px 0 #848484,calc(9990px + .44em) -6px 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}66.667%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}83.333%{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) -6px 0 0 #848484}to{box-shadow:9990px 0 #848484,calc(9990px + .44em) 0 0 0 #848484,calc(9990px + .8em) 0 0 0 #848484}}.dots-flashing{position:relative;width:.45em;height:.45em;border-radius:5px;background-color:var(--message-dots-color);color:var(--message-dots-color);animation:dots-flashing 1s infinite linear alternate;animation-delay:.5s}.dots-flashing:before,.dots-flashing:after{content:\\\"\\\";display:inline-block;position:absolute;top:0}.dots-flashing:before{left:-.7em;width:.45em;height:.45em;border-radius:5px;background-color:var(--message-dots-color);color:var(--message-dots-color);animation:dots-flashing 1s infinite alternate;animation-delay:0s}.dots-flashing:after{left:.7em;width:.45em;height:.45em;border-radius:5px;background-color:var(--message-dots-color);color:var(--message-dots-color);animation:dots-flashing 1s infinite alternate;animation-delay:1s}@keyframes dots-flashing{0%{background-color:var(--message-dots-color)}50%,to{background-color:var(--message-dots-color-fade)}}.input-button{border-radius:4px;cursor:pointer;margin-bottom:.2em;-webkit-user-select:none;user-select:none}.input-button-svg{width:1.65em;height:1.65em}.input-button:hover{background-color:#9c9c9c2e}.input-button:active{background-color:#9c9c9c5e}.loading-button{cursor:auto}.loading-button:hover{background-color:unset}.text-button{filter:unset!important;display:flex;justify-content:center;align-items:center;margin-left:4px;margin-right:4px;height:1.6em}#text-input-container{background-color:#fff;width:80%;display:flex;border:1px solid #0000001a;border-radius:5px;margin-top:.8em;margin-bottom:.8em;box-shadow:#959da533 0 1px 12px;overflow-y:auto;max-height:200px;position:relative}.text-input-container-left-adjustment{margin-left:1.5em}.text-input-container-right-adjustment{margin-right:1.5em}.text-input-container-left-small-adjustment{margin-left:1.1em}.text-input-container-left-small-adjustment>.outside-left{right:calc(14px - .55em)}.text-input-container-right-small-adjustment{margin-right:1.1em}.text-input-container-right-small-adjustment>.outside-right{left:calc(14px - .55em)}#text-input{text-align:left;outline:none;word-wrap:break-word;line-break:auto}.text-input-styling{padding:.4em .5em;overflow:overlay;width:100%}.text-input-inner-left-adjustment{padding-left:2.2em}.text-input-inner-right-adjustment{padding-right:2em}.text-input-disabled{pointer-events:none;-webkit-user-select:none;user-select:none}.text-input-placeholder{color:gray}.outside-right>#dropup-menu,.inside-right>#dropup-menu{right:0}#dropup-icon{position:absolute;pointer-events:none;width:1.16em;height:1.2em;left:.265em;bottom:.43em;filter:brightness(0) saturate(100%) invert(54%) sepia(0%) saturate(724%) hue-rotate(6deg) brightness(92%) contrast(90%)}#dropup-menu{background-color:#fff;position:absolute;transform:translateY(-100%);border-radius:5px;z-index:1;top:-.49em;box-shadow:#0003 -1px 2px 10px,#0000001a 0 2px 4px;cursor:pointer;-webkit-user-select:none;user-select:none}.dropup-menu-item{height:1.4em;padding:.28em .84em .28em .35em;display:flex;position:relative}.dropup-menu-item:first-child{padding-top:.49em;border-top-left-radius:inherit;border-top-right-radius:inherit}.dropup-menu-item:last-child{padding-bottom:.45em;border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.dropup-menu-item-icon{width:1.39em;position:relative;margin-right:.56em}.dropup-menu-item-icon>svg{bottom:0!important;top:0!important;margin-bottom:auto;margin-top:auto}.dropup-menu-item-text{margin-top:.08em;width:max-content}#input{width:100%;display:inline-flex;text-align:center;margin-left:auto;margin-right:auto;margin-top:auto;position:relative;justify-content:center}#chat-view{height:100%;display:grid;grid-template-columns:100%}::-webkit-scrollbar{width:9px;height:9px}::-webkit-scrollbar-thumb{background-color:#d0d0d0;border-radius:5px}::-webkit-scrollbar-track{background-color:#f2f2f2}:host{all:initial;display:table-cell}#container{height:inherit;width:inherit;overflow:hidden}\\n\";\nvar Ia = Object.defineProperty,\n  La = Object.getOwnPropertyDescriptor,\n  x = function x(s, e, t, i) {\n    for (var n = i > 1 ? void 0 : i ? La(e, t) : e, r = s.length - 1, o; r >= 0; r--) (o = s[r]) && (n = (i ? o(e, t, n) : o(n)) || n);\n    return i && n && Ia(e, t, n), n;\n  };\nvar b = /*#__PURE__*/function (_vo) {\n  _inherits(b, _vo);\n  var _super48 = _createSuper(b);\n  function b() {\n    var _this67;\n    _classCallCheck(this, b);\n    _this67 = _super48.call(this), _this67.getMessages = function () {\n      return [];\n    }, _this67.submitUserMessage = function () {\n      return console.warn(\"submitUserMessage failed - please wait for chat view to render before calling this property.\");\n    }, _this67.focusInput = function () {\n      return Qt.focusFromParentElement(_this67._elementRef);\n    }, _this67.refreshMessages = function () {}, _this67.clearMessages = function () {}, _this67.scrollToBottom = function () {}, _this67.disableSubmitButton = function () {}, _this67._hasBeenRendered = !1, _this67._auxiliaryStyleApplied = !1, _this67._addMessage = function () {\n      return console.warn(\"addMessage failed - please wait for chat view to render before calling this property.\");\n    }, Go.appendStyleSheetToHead(), _this67._elementRef = document.createElement(\"div\"), _this67._elementRef.id = \"container\", _this67.attachShadow({\n      mode: \"open\"\n    }).appendChild(_this67._elementRef), Ei.apply(ka, _this67.shadowRoot), setTimeout(function () {\n      _this67._hasBeenRendered || _this67.onRender();\n    }, 20);\n    return _this67;\n  }\n  _createClass(b, [{\n    key: \"changeToChatView\",\n    value: function changeToChatView() {\n      this._activeService && (this._activeService.validateConfigKey = !1), this.onRender();\n    }\n    // prettier-ignore\n  }, {\n    key: \"onRender\",\n    value: function onRender() {\n      var _this$_childElement;\n      (!this._activeService || this._activeService.demo) && (this._activeService = Ho.create(this)), this.auxiliaryStyle && !this._auxiliaryStyleApplied && (Ei.apply(this.auxiliaryStyle, this.shadowRoot), this._auxiliaryStyleApplied = !0), Ei.applyDefaultStyleToComponent(this.style, this.chatStyle), ke.checkForContainerStyles(this, this._elementRef), this._activeService.key && this._activeService.validateConfigKey ? Dt.render(this._elementRef, this.changeToChatView.bind(this), this._activeService) : !(this._activeService instanceof U) || this._activeService.key ? ((_this$_childElement = this._childElement) !== null && _this$_childElement !== void 0 ? _this$_childElement : this._childElement = this.children[0], rn.render(this, this._elementRef, this._activeService, this._childElement)) : this._activeService instanceof U && P.render(this._elementRef, this.changeToChatView.bind(this), this._activeService), this._hasBeenRendered = !0, jt.onRender(this);\n    }\n  }, {\n    key: \"disconnectedCallback\",\n    value: function disconnectedCallback() {\n      $i.chat = void 0;\n    }\n  }]);\n  return b;\n}(vo);\nx([y(\"object\")], b.prototype, \"directConnection\", 2);\nx([y(\"object\")], b.prototype, \"request\", 2);\nx([y(\"object\")], b.prototype, \"webModel\", 2);\nx([y(\"object\")], b.prototype, \"stream\", 2);\nx([y(\"object\")], b.prototype, \"requestBodyLimits\", 2);\nx([y(\"function\")], b.prototype, \"requestInterceptor\", 2);\nx([y(\"function\")], b.prototype, \"responseInterceptor\", 2);\nx([y(\"function\")], b.prototype, \"validateInput\", 2);\nx([y(\"object\")], b.prototype, \"chatStyle\", 2);\nx([y(\"object\")], b.prototype, \"attachmentContainerStyle\", 2);\nx([y(\"object\")], b.prototype, \"dropupStyles\", 2);\nx([y(\"object\")], b.prototype, \"inputAreaStyle\", 2);\nx([y(\"object\")], b.prototype, \"textInput\", 2);\nx([y(\"object\")], b.prototype, \"submitButtonStyles\", 2);\nx([y(\"string\")], b.prototype, \"auxiliaryStyle\", 2);\nx([y(\"array\")], b.prototype, \"initialMessages\", 2);\nx([y(\"object\")], b.prototype, \"introMessage\", 2);\nx([y(\"object\")], b.prototype, \"avatars\", 2);\nx([y(\"object\")], b.prototype, \"names\", 2);\nx([y(\"boolean\")], b.prototype, \"displayLoadingBubble\", 2);\nx([y(\"object\")], b.prototype, \"errorMessages\", 2);\nx([y(\"object\")], b.prototype, \"messageStyles\", 2);\nx([y(\"object\")], b.prototype, \"textToSpeech\", 2);\nx([y(\"object\")], b.prototype, \"speechToText\", 2);\nx([y(\"object\")], b.prototype, \"images\", 2);\nx([y(\"object\")], b.prototype, \"gifs\", 2);\nx([y(\"object\")], b.prototype, \"camera\", 2);\nx([y(\"object\")], b.prototype, \"audio\", 2);\nx([y(\"object\")], b.prototype, \"microphone\", 2);\nx([y(\"object\")], b.prototype, \"mixedFiles\", 2);\nx([y(\"object\")], b.prototype, \"dragAndDrop\", 2);\nx([y(\"object\")], b.prototype, \"introPanelStyle\", 2);\nx([y(\"object\")], b.prototype, \"htmlClassUtilities\", 2);\nx([y(\"function\")], b.prototype, \"onNewMessage\", 2);\nx([y(\"function\")], b.prototype, \"onClearMessages\", 2);\nx([y(\"function\")], b.prototype, \"onComponentRender\", 2);\nx([y(\"function\")], b.prototype, \"onError\", 2);\nx([y(\"object\")], b.prototype, \"demo\", 2);\nx([y(\"object\")], b.prototype, \"_insertKeyViewStyles\", 2);\ncustomElements.define(\"deep-chat\", b);\nexport { b as DeepChat };\n","<!-- This is an example for a Svelte browser app, if you are using SvelteKit, please see the following example:\n  https://codesandbox.io/p/sandbox/deep-chat-sveltekit-fn8h6x -->\n\n  <script>\n    import { DeepChat } from \"deep-chat-dev\";\n  \n    const initialMessages = [\n      { role: \"ai\", text: \"Hi, I'm **BIDARA**, bio-inspired design and research assisant. I'm an OpenAI [GPT-4](https://openai.com/research/gpt-4) [assistant](https://platform.openai.com/docs/assistants/how-it-works), that was instructed by [NASA's PeTaL initiative](https://www1.grc.nasa.gov/research-and-engineering/vine/petal/) to help others understand, learn from, and emulate the strategies used by living things to create sustainable designs and technologies using the [Biomimicry Institute's design process](https://toolbox.biomimicry.org/methods/process/).\\n\\nBefore we begin, please be advised:\\n\\n- Do not share any sensitive information in your conversations including but not limited to, personal information, sensitive or non-public government/company data, ITAR, CUI, export controlled, or trade secrets.\\n- While OpenAI has safeguards in place, BIDARA may occasionally generate incorrect or misleading information and produce offensive or biased content.\\n\\nHow can I assist you today?\" }\n    ];\n\n    function getCurrentWeather(location) {\n      location = location.toLowerCase();\n      if (location.includes('tokyo')) {\n        return 'Good';\n      } else if (location.includes('san francisco')) {\n        return 'Mild';\n      } else {\n        return 'Very Hot';\n      }\n    }\n\n    function getCurrentTime(location) {\n      location = location.toLowerCase();\n      if (location.includes('tokyo')) {\n        return '10p';\n      } else if (location.includes('san francisco')) {\n        return '6p';\n      } else {\n        return '12p';\n      }\n    }\n  </script>\n  \n  <main>\n    <!--\n      <h1>BIDARA</h1>\n      <div\n        style=\"\n          width:100%;\n          background-color: #f3f3f3;\n          border-radius: 10px;\n          padding: 12px;\n          padding-bottom: 15px;\n          text-align: left;\n          margin-left: auto;\n          margin-right: auto;\n        \"\n      >\n        <div>\n          <div style=\"font-size: 15px; line-height: 20px\">\n            <p><strong>BIDARA</strong> is a GPT-4 chatbot that was instructed to help scientists and engineers understand, learn from, and emulate the strategies used by living things to create sustainable designs and technologies.</p>\n\n            <p>BIDARA can guide users through the Biomimicry Institute’s Design Process, a step-by-step method to propose biomimetic solutions to challenges. This process includes defining the problem, biologizing the challenge, discovering natural models, abstracting design strategies, and emulating nature's lessons.</p>\n\n            <p>\n              <strong>WARNING</strong><br/>\n              - Do not share any sensitive information in your conversations including but not limited to, personal information, sensitive or non-public government/company data, ITAR, CUI, export controlled, or trade secrets.<br/>\n              - While OpenAI has safeguards in place, BIDARA may occasionally generate incorrect or misleading information and produce offensive or biased content.<br/>\n              - The chatbot may produce inaccurate information about people, places, or facts.\n            </p>\n          </div>\n        </div>\n      </div>-->\n    <!-- demo/textInput are examples of passing an object directly into a property -->\n    <!-- initialMessages is an example of passing a state object into a property -->\n    <deep-chat\n      directConnection={{\n        openAI: {\n          validateKeyProperty: true,\n          assistant: {\n            assistant_id: \"asst_0qjNhzjIMuwfjJJ2e4Cl8vdY\",\n            function_handler: (functionsDetails) => {\n              return functionsDetails.map((functionDetails) => {\n                let tmp = null;\n                if(functionDetails.name == \"get_weather\") {\n                  tmp = getCurrentWeather(functionDetails.arguments);\n                }\n                else if(functionDetails.name == \"get_time\") {\n                  tmp = getCurrentTime(functionDetails.arguments);\n                }\n                return tmp;\n              });\n            }\n          }\n        }\n      }}\n      _insertKeyViewStyles={{displayCautionText: false}}\n      demo={false}\n      mixedFiles={true}\n      textInput={{placeholder:{text: \"Say something\"}}}\n      initialMessages={initialMessages}\n      chatStyle={{\n        width: \"100%\",\n        height: \"100dvh\",\n        position: \"absolute\",\n        backgroundColor: \"white\",\n        border: \"none\",\n        fontSize: \"16px\",\n        fontFamily: 'system-ui, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"'\n      }}\n      messageStyles={{\n        default: {\n          shared: {\n            bubble: {\n              maxWidth: \"75%\"\n            }\n          }\n        }\n      }}\n    />\n  </main>\n  \n  <style>\n    main {\n      font-family: system-ui, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n      display: grid;\n    }\n  </style>\n\n","import App from \"./App.svelte\";\n\nconst app = new App({\n  target: document.body\n});\n\nexport default app;\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","detach","node","parentNode","removeChild","element","name","document","createElement","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_custom_element_data","prop","current_component","set_current_component","component","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","push","seen_callbacks","Set","flushidx","flush","saved_component","length","update","$$","e","pop","i","callback","has","add","clear","fragment","before_update","dirty","p","ctx","after_update","outroing","destroy_component","detaching","filtered","targets","c","indexOf","flush_render_callbacks","on_destroy","d","make_dirty","then","fill","init","options","instance","create_fragment","not_equal","props","append_styles","parent_component","bound","on_mount","on_disconnect","context","Map","callbacks","skip_bound","root","target","ready","ret","rest","hydrate","nodes","Array","from","childNodes","l","intro","block","delete","local","anchor","customElement","m","new_on_destroy","map","filter","mount_component","SvelteComponent","[object Object]","this","$destroy","type","index","splice","$$props","obj","$$set","keys","_toConsumableArray","arr","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","_iterableToArray","_unsupportedIterableToArray","TypeError","_nonIterableSpread","_createForOfIteratorHelper","o","allowArrayLike","it","F","s","n","done","_e2","f","err","normalCompletion","didErr","call","step","next","_e3","minLen","prototype","toString","slice","constructor","test","len","arr2","_wrapNativeSuper","Class","_cache","undefined","Function","_isNativeFunction","get","set","Wrapper","_construct","arguments","_getPrototypeOf","enumerable","writable","configurable","_setPrototypeOf","Parent","args","_isNativeReflectConstruct","Reflect","construct","bind","apply","_inherits","subClass","superClass","defineProperty","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","result","Super","NewTarget","self","_typeof","_assertThisInitialized","_possibleConstructorReturn","ReferenceError","sham","Proxy","Boolean","valueOf","getPrototypeOf","_regeneratorRuntime","t","r","hasOwnProperty","asyncIterator","u","toStringTag","define","wrap","Generator","Context","makeInvokeMethod","tryCatch","arg","h","y","GeneratorFunction","GeneratorFunctionPrototype","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","__await","callInvokeWithMethodAndArg","Error","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","mark","awrap","async","reverse","prev","charAt","stop","rval","handle","complete","finish","catch","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","key","info","error","_asyncToGenerator","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_classCallCheck","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","toPrimitive","String","Number","_toPrimitive","bs","id","innerText","replaceChildren","Dt","innerHTML","createElements","onSuccess","onFail","render","onLoad","verifyKey","T","reduce","assign","style","click","unsetStyle","hover","unsetActivityCSSMouseStates","JSON","parse","stringify","default","Bn","Ot","applyStyleSheet","_unused","addStyleElement","CSSStyleSheet","replaceSync","adoptedStyleSheets","appendChild","applyToStyleIfNotDefined","DEFAULT_COMPONENT_STYLE","height","width","border","fontFamily","fontSize","backgroundColor","position","overflow","Ei","R","ESCAPE","ENTER","TAB","ARROW_UP","ARROW_DOWN","ARROW_RIGHT","ARROW_LEFT","BACKSPACE","DELETE","META","CONTROL","ge","IS_SAFARI","navigator","userAgent","IS_CHROMIUM","window","chrome","zn","nt","addEventListener","onKeyDown","oninput","onInput","textContent","PERMITTED_KEYS","isKeyCombinationPermitted","preventDefault","ctrlKey","metaKey","substring","Qt","focusEndOfInput","vs","ys","clipboardData","getData","execCommand","Un","qe","_this","processConfig","textInput","elementRef","createContainerElement","styles","container","inputElementRef","createInputElement","_config","setTimeout","characterLimit","_validationHandler","TEXT_INPUT_ID","classList","placeholder","text","preventAutomaticScrollUpOnNewLine","disabled","contentEditable","addEventListeners","contains","remove","onfocus","onFocus","focus","onblur","onBlur","onKeydown","onpaste","sanitizePastedTextContent","_this2","removeTextIfPlaceholder","shiftKey","submit","_t2","_t$disabled","_t$placeholder","_i$text","isTextInputDisabled","textInputPlaceholderText","scrollY","scrollTo","top","qi","createRange","selectNodeContents","collapse","getSelection","removeAllRanges","addRange","querySelector","concat","on","toUpperCase","Hi","xs","an","C","INVALID_KEY","CONNECTION_FAILED","INVALID_RESPONSE","INVALID_MODEL_REQUEST","INVALID_MODEL_RESPONSE","INVALID_STREAM_EVENT","INVALID_STREAM_EVENT_MIX","NO_VALID_STREAM_EVENTS_SENT","qn","Hn","_len","_key","scrollHeight","clientHeight","scrollTop","CODE_SNIPPET_GENERATION_JUMP","cloneNode","replaceChild","Y","Gn","Vn","SpeechSynthesisUtterance","speechSynthesis","speak","lang","pitch","rate","volume","voiceName","getVoices","find","toLocaleLowerCase","voice","LOAD_VOICES_MS","Nt","ke","containerStyle","console","file","files","validateMessageBeforeSending","children","ei","xe","_ret","_loop","bubbleElement","role","getLastElementsByClass","getRoleClass","getLastMessage","trim","EMPTY_MESSAGE_CLASS","getLastMessageElement","AI_ROLE","USER_ROLE","kt","Te","unsetAllCSSMouseStates","mouseEnter","mouseLeave","mouseDown","mouseUp","Ri","deep-chat-button","padding","paddingLeft","paddingRight","borderRadius","cursor","ln","be","submitUserMessage","events","overwriteDefaultWithAlreadyApplied","unshift","mergeStatefulStyles","processStateful","getElementsByClassName","getProcessedStyles","se","applyStylesToElement","applyEvents","applySuggestionEvent","applyEventsToElement","doesElementContainDeepChatClass","applyClassUtilitiesToElement","applyDeepChatUtilities","htmlClassUtilities","applyCustomClassUtilities","Ye","createNewMessageElement","messages","overwriteMessage","outerContainer","flagHTMLUpdateClass","status","overwrite","fillEmptyMessageElement","applyCustomStyles","messageStyles","html","addElement","Wn","Ts","Kn","As","ft","replace","Jn","Oi","fromCharCode","ks","Is","Ls","charCodeAt","toLowerCase","parseInt","Ie","Rs","Os","Ns","&","<",">","\"","Ps","z","blockquote_open","blockquote_close","Re","code","content","fence","langPrefix","params","split","join","Cs","rules","fence_custom","highlight","heading_open","hLevel","heading_close","hr","xhtmlOut","bullet_list_open","bullet_list_close","list_item_open","list_item_close","ordered_list_open","order","ordered_list_close","paragraph_open","tight","paragraph_close","link_open","title","linkTarget","href","link_close","image","src","alt","table_open","table_close","thead_open","thead_close","tbody_open","tbody_close","tr_open","tr_close","th_open","align","th_close","td_open","td_close","strong_open","strong_close","em_open","em_close","del_open","del_close","ins_open","ins_close","mark_open","mark_close","sub","sup","hardbreak","softbreak","breaks","htmlblock","htmltag","abbr_open","abbr_close","footnote_ref","subId","footnote_block_open","footnote_block_close","footnote_open","footnote_close","footnote_anchor","dl_open","dt_open","dd_open","dl_close","dt_close","dd_close","getBreak","$n","Gi","H","__rules__","__cache__","Oe","env","parser","tokens","pos","posMax","level","pending","pendingLevel","cache","isInLabel","linkLevel","linkContent","labelUnmatchedScopes","mt","skipToken","js","abbreviations","Ni","decodeURI","_unused2","encodeURI","Yn","validateLink","Zn","Xn","Bs","references","renderInline","__find__","__compile__","enabled","at","before","after","enable","disable","getRules","pushPending","cacheSet","cacheGet","cn","Si","Gs","Vs","Ws","tm","Ks","$s","dn","Ys","un","hn","ze","substr","wi","inlineMode","lines","inline","footnotes","label","list","count","abbrRegExp","sort","RegExp","lastIndex","exec","typographer","S","w","single","token","quotes","Qn","ruler","Ne","bMarks","eMarks","tShift","blkIndent","line","lineMax","parentType","ddIndent","pn","process","isEmpty","skipEmptyLines","skipSpaces","skipChars","skipCharsBack","getLines","Math","min","es","ar","lr","_i","It","Lt","maxNesting","tokenize","G","A","V","X","Q","N","Be","xi","oe","ir","refs","cr","match","Vi","mr","gr","br","vr","Wi","mn","gn","bn","can_open","can_close","delims","Cr","kr","Nr","Pr","Dr","ti","source","qr","Hr","Gr","Yr","Qr","eo","Mi","Zr","ii","io","oo","components","core","full","commonmark","ts","renderer","he","linkify","warn","configure","use","parseInline","Pi","hljs","getLanguage","_unused3","highlightAuto","_unused4","is","Pt","startsWith","wrapInLink","waitToLoadThenScroll","fetch","mode","_unused5","ref","message","DEFAULT_FILE_NAME","ne","jt","isInitial","reAddFileRefToObject","onNewMessage","dispatchEvent","CustomEvent","detail","onClearMessages","onComponentRender","onError","D","innerContainer","bubble","tagName","media","applyCustomStylesToElements","shared","user","ai","isMessageSideStyles","applySideStyles","ce","avatar","_i2","_i3","_i4","createAvatar","getPosition","insertAdjacentElement","Ve","_i5","_i6","_i7","getNameText","applyStyle","createName","Ke","_this3","messageElementRefs","textElementsToText","_remarkable","createNew","_avatars","avatars","_names","names","_onNewMessage","overwriteText","createAndAppendNewMessageElement","renderText","getLastTextToElement","_this4","scrollToBottom","_introPanel","hide","isTemporaryElement","createMessageElements","createBaseElements","addInnerContainerElements","_this5","isElementTemporary","_sessionId","Ki","st","_streamedContent","_streamType","_hasStreamEnded","_messages","isScrollbarAtBottomOfElement","_elements","updateBasedOnType","setInitialState","_i8","addNewTextMessage","MESSAGE_CLASS","_activeMessageRole","unfillEmptyMessageElement","updateText","updateHTML","HTML_CONTENT_PLACEHOLDER","_this$_messages","getLastMessageBubbleElement","textToSpeech","sendClientUpdate","createMessageContent","Ze","ns","rt","_tempRemoveContentHeader","_callee","_context","headers","CONTENT_TYPE","t0","_x5","_x6","_x7","addNewErrorMessage","_fetch","_x","_x2","_x3","_x4","requestSettings","body","credentials","url","includes","json","blob","_processRequestInterceptor","_callee2","_context2","requestInterceptor","_x8","_x9","E","co","_x10","_x11","_co","_callee103","_context103","getReader","read","uo","Uint8Array","po","subarray","ho","data","event","retry","TextDecoder","decode","fo","globalThis","__rest","propertyIsEnumerable","Di","mo","yn","go","signal","onopen","onmessage","onclose","onerror","openWhenHidden","abort","hidden","accept","removeEventListener","clearTimeout","bo","_X","_callee3","_context3","AbortController","aborted","ss","ot","customDemoResponse","getCustomResponse","generateResponse","getResponse","_callee4","_context4","deepChat","responseInterceptor","completionsHandlers","onFinish","I","isSimulation","stream","simulate","streamHandlers","addNewMessage","URL","ve","_request","_callee7","_yield$E$processReque","_e$streamHandlers","_args7","_context7","processRequestInterceptor","onOpen","onClose","abortStream","onInterceptorError","handler","Ae","requestStream","_callee5","_context5","ok","processResponseByType","_callee6","_context6","extractResultData","upsertStreamedMessage","displayError","finaliseStreamedMessage","_x12","_x13","_x14","sendUpdate","ignoreText","populateMessages","simulationInterim","simulation","_request2","_callee9","_context9","_ref2","_callee8","_context8","validateResponseFormat","_x18","generateOptionalSignals","onResponse","_x15","_x16","_x17","stopClicked","isOpen","newUserMessage","listener","websocket","_ref3","_callee10","_context10","isLastMessageError","_x19","removeError","_","_request3","_callee12","_yield$E$processReque2","_args12","_context12","request","_ref4","_callee11","_context11","makingAnotherRequest","_x23","_x20","_x21","_x22","_ref5","_callee13","_context13","extractPollResultData","t1","t2","timeoutMS","executePollRequest","_x24","_poll","_callee14","_yield$E$processReque3","_args14","_context14","_x25","_x26","_x27","Xe","max","getMaxMessages","getCharacterLimitMessages","$","permittedErrorPrefixes","WebSocket","assignListeners","retryConnection","createConnection","_ref6","_callee15","_context15","_x28","_sendWebsocket","_callee16","_yield$E$processReque4","_args16","_context16","isWebSocket","readyState","OPEN","send","_x29","_x30","_x31","L","button","infoModal","textMarkDown","infoModalTextMarkUp","acceptedFormats","maxNumberOfFiles","fileTypes","mixedFiles","parseConfig","_l$files","_h$maxNumberOfFiles","audio","mediaDevices","getUserMedia","recordAudio","format","maxDurationSeconds","gifs","_l$files2","images","camera","modalContainerStyle","dimensions","_e$files","_i$acceptedFormats","_n$maxNumberOfFiles","populateDefaultFileIO","processImagesConfig","processCamera","processGifConfig","processAudioConfig","processMicrophone","microphone","processMixedFiles","Le","_a$url","rawBody","validateConfigKey","canSendMessage","demo","additionalBodyProps","totalMessagesMaxCharLength","requestBodyLimits","maxMessages","setup","endsWith","_request4","_callee17","_args17","_context17","_x32","_x33","_callAPIWithText","_callee18","_o$headers","_a$ContentType","_context18","_x34","_x35","_callApiWithFiles","_callee19","_context19","createCustomFormDataBody","getServiceIOByType","_x36","_x37","_x38","_callServiceAPI","_callee20","_context20","callApiWithFiles","callAPIWithText","_x39","_x40","_x41","_callAPI","_callee21","_context21","processMessages","sendWebsocket","callServiceAPI","_x42","_x43","_extractResultData","_callee22","_context22","handleResponseProperty","_x44","FormData","append","U","_Le","_super","_this6","insertKeyPlaceholderText","getKeyLink","keyVerificationDetails","buildHeadersFunc","setApiKeyProperties","buildRequestSettings","validateKeyProperty","_i$headers","_this$keyVerification","handleVerificationResult","createHeaders","keyAuthenticated","Ft","_propUpdated_","waitForPropertiesToBeUpdatedBeforeRender","_waitingToRender_","onRender","Ji","_HTMLElement","He","HTMLElement","_super2","_this7","_attributeToProperty_","constructPropertyAccessors","attemptRender","_attributes_","vo","q","DOMParser","parseFromString","documentElement","rs","Ge","VISIBLE_ICON_ID","display","createSVGElement","createIconElement","onclick","changeVisibility","Eo","P","createFailText","createHelpLink","_o2","createCautionText","helpTextContainerElement","failTextElement","onkeydown","onInputFocus","createInput","createStartButton","_P$createHelpTextCont","createHelpTextContainer","_insertKeyViewStyles","displayCautionText","addVerificationEvents","createContents","yt","pe","webLLM","$i","MODULE_SEARCH_LIMIT_S","enableButtons","downloadClass","DOWNLOAD_BUTTON_CLASS","uploadClass","UPLOAD_BUTTON_CLASS","fileInputClass","FILE_INPUT_CLASS","onchange","initialHtml","_loop2","createObjectURL","download","revokeObjectURL","exportFilesClass","EXPORT_BUTTON_CLASS","exportFile","afterLoadHtml","xn","En","model_list","model_url","local_id","model_lib_url","required_features","use_web_worker","et","_Le2","M","_super3","_this8","_isModelLoaded","_isModelLoading","_loadOnFirstMessage","_webModel","MULTIPLE_MODELS_ERROR","WEB_LLM_NOT_FOUND_ERROR","GENERIC_ERROR","_conversationHistory","webModel","load","clearCache","clearAllCache","findModelInWindow","canSubmit","_chatEl","shadowRoot","initialMessages","setUpHistory","_this9","_removeIntro","removeIntroductoryMessage","_this10","configureInit","shouldAddInitialMessage","introMessage","displayed","_this11","autoScroll","scrollToTop","setUpInitial","worker","_configureInit","_callee23","_context23","onInit","onMessage","_x45","_init","_callee24","_context24","attemptToCreateChat","loadModel","_x46","chat","ChatWorkerClient","ChatModule","DEFAULT_MODEL","model","urls","wasm","skipCache","use_cache","appConfig","_loadModel","_callee25","_this$getConfig","_u","_this12","_context25","setInitProgressCallback","getConfig","instruction","conv_config","system","conversation_history","reload","unloadChat","removeAfterLoad","removeLastMessage","setUpAfterLoad","_x47","_x48","_unloadChat","_callee26","_context26","unload","_x49","_immediateResp","_callee27","_context27","generate","processResponse","_x50","_x51","_x52","_streamResp","_callee29","_this13","_context29","interruptGenerate","_ref7","_callee28","_context28","_x56","_x57","_x53","_x54","_x55","_generateRespByType","_callee30","_context30","streamResp","immediateResp","log","_x58","_x59","_x60","_x61","_generateResp","_callee31","_yield$E$processReque5","_context31","generateRespByType","_x62","_x63","_x64","_callServiceAPI2","_callee32","_context32","removeAfterMessage","addLoadingMessage","generateResp","_x65","_x66","_processResponse","_callee33","_context33","_x67","_x68","_x69","caches","open","Bt","Authorization","Content-Type","os","_U","ji","_super4","_this14","buildKeyVerificationDetails","buildHeaders","introPanelMarkUp","URL_PREFIX","parameters","_n$options","wait_for_model","inputs","_callServiceAPI3","_callee34","_context34","preprocessBody","_x70","_x71","_x72","Pe","xt","_Pe","_super5","_this15","canSendFile","_callServiceAPI4","_callee35","_context35","poll","_x73","_x74","_x75","So","_xt","_super6","directConnection","huggingFace","audioClassification","_extractPollResultData","_callee36","_context36","estimated_time","_x76","wo","_xt2","_super7","imageClassification","_extractPollResultData2","_callee37","_context37","_x77","Et","re","ni","_U2","_super8","_this16","zt","_ni","_super9","_this17","stabilityAI","imageToImageUpscale","engine_id","cleanConfig","canSendFileMessage","_callServiceAPI5","_callee38","_context38","createFormDataBody","tempRemoveContentHeader","_x78","_x79","_x80","_extractResultData2","_callee39","_context39","artifacts","base64","_x81","Ut","_ni2","_super10","_this18","_maskSource","imageToImageMasking","weight","_imageWeight","mask_source","canSendFileTextMessage","_callServiceAPI6","_callee40","_context40","_x82","_x83","_x84","_extractResultData3","_callee41","_context41","_x85","_o","_xt3","_super11","audioSpeechRecognition","_extractPollResultData3","_callee42","_context42","_x86","Mo","_Pe2","_super12","textGeneration","_extractResultData4","_callee43","_context43","generated_text","_x87","To","_Pe3","_super13","_this19","questionAnswer","question","_extractResultData5","_callee44","_context44","answer","_x88","Co","_Pe4","_super14","summarization","_extractResultData6","_callee45","_context45","summary_text","_x89","Ao","_Pe5","_super15","_this20$maxMessages","_this20","conversation","past_user_inputs","generated_responses","mostRecentMessageText","_i$options","_extractResultData7","_callee46","_context46","_x90","qt","_ni3","_super16","_this21","imageToImage","_callServiceAPI7","_callee47","_context47","_x91","_x92","_x93","_extractResultData8","_callee48","_context48","_x94","ko","_Pe6","_super17","translation","_extractResultData9","_callee49","_context49","translation_text","_x95","Ht","_ni4","_super18","_this22","textToImage","canSendTextMessage","text_prompts","_callServiceAPI8","_callee50","_context50","_x96","_x97","_extractResultData10","_callee51","_context51","_x98","Io","_Pe7","_super19","_this23","fillMask","_extractResultData11","_callee52","_context52","sequence","_x99","Gt","prompt","Yi","_U3","_super20","_this24","Lo","_Yi","_super21","cohere","_callServiceAPI9","_callee53","_context53","_x100","_x101","_extractResultData12","_callee54","_context54","generations","_x102","Ro","_Yi2","_super22","_callServiceAPI10","_callee55","_context55","_x103","_x104","_extractResultData13","_callee56","_context56","summary","_x105","O","_storeFiles","_callee58","_context58","_ref8","_callee57","_context57","directFetch","_x109","all","_x106","_x107","_x108","_directFetch","_callee59","_args59","_context59","_x110","_x111","_x112","Zi","_U4","Fi","_super23","_o$model","_a$voice","_this25","openAI","DEFAULT_VOIDE","response_format","input","_callServiceAPI11","_callee60","_context60","_x113","_x114","_extractResultData14","_callee61","_context61","Blob","FileReader","readAsDataURL","onload","_x115","Oo","si","_U5","Ee","_super24","_o$model2","_this26","_service_url","AUDIO_TRANSCRIPTIONS_URL","AUDIO_TRANSLATIONS_URL","language","_callServiceAPI12","_callee62","_context62","_x116","_x117","_x118","_extractResultData15","_callee63","_context63","_x119","No","Z","Ocp-Apim-Subscription-Key","X-Microsoft-OutputFormat","Accept","handleSpeechVerificationResult","handleLanguageVerificationResult","buildTranslationHeaders","handleTranslationVerificationResult","Po","_U6","_super25","_this27","buildLanguageKeyVerificationDetails","Do","_Po","_super26","_a$language","_this28","azure","buildSummarizationHeader","endpoint","analysisInput","documents","tasks","kind","_callServiceAPI13","_callee64","_context64","_x120","_x121","_extractResultData16","_callee65","_i9","_context65","_x122","_extractPollResultData4","_callee66","_iterator","_step","_i10","_context66","errors","items","results","sentences","_x123","ct","_poll2","_callee67","_context67","authorization","content-type","audio_url","_x124","_x125","Xi","_U7","_super27","_this29","assemblyAI","canFileSendMessage","_callServiceAPI14","_callee68","_context68","_x126","_x127","_x128","_extractResultData17","_callee69","_context69","upload_url","_x129","as","_U8","_super28","_this30","buildSpeechKeyVerificationDetails","ls","_as","cs","_super29","_a$lang","_l$name","_c$gender","_this31","buildTextToSpeechHeaders","outputFormat","region","HELP_LINK","gender","_callServiceAPI15","_callee70","_context70","_x130","_x131","_extractResultData18","_callee71","_context71","_x132","jo","ds","_as2","Bi","_super30","_this32","speechToText","buildSpeechToTextHeaders","_callServiceAPI16","_callee72","_context72","_x133","_x134","_x135","_extractResultData19","_callee73","_context73","DisplayText","_x136","Fo","Bo","_U9","_super31","_this33","buildTranslationKeyVerificationDetails","Text","_callServiceAPI17","_callee74","_context74","_x137","_x138","_extractResultData20","_callee75","_context75","translations","_x139","Qi","_U10","ae","_super32","_l$headers","_c$OpenAIBeta","_this34","searchedForThreadId","assistant","assistant_id","function_handler","_functionHandler","file_ids","processMessage","thread","sessionId","THREAD_PREFIX","_n2","createNewThreadMessages","_callServiceAPI18","_callee76","_context76","searchPreviousMessagesForThreadId","storeFiles","callService","_x140","_x141","_x142","_extractResultData21","_callee77","_context77","assignThreadAndRun","run_id","_x143","_assignThreadAndRun","_callee78","_context78","thread_id","_x144","_extractPollResultData5","_callee79","_context79","required_action","POLLING_TIMEOUT_MS","submit_tool_outputs","tool_calls","handleTools","_x145","_handleTools","_callee80","_context80","tool_call_id","output","tool_outputs","_x146","zo","ri","_U11","Se","_super33","_this35","size","IMAGE_EDIT_URL","IMAGE_VARIATIONS_URL","_callServiceAPI19","_callee81","_context81","callApiWithImage","IMAGE_GENERATION_URL","_x147","_x148","_x149","_extractResultData22","_callee82","_context82","b64_json","_x150","Uo","dt","_U12","_super34","_this36$maxMessages","_l$model","_this36","_systemMessage","generateSystemMessage","system_prompt","_i$max_tokens","getContent","max_tokens","_callServiceAPI20","_callee83","_context83","_x151","_x152","_extractResultData23","_callee84","_context84","choices","delta","_x153","_x154","_x155","_handleTools2","_callee85","_context85","response","tools","tool_choice","_x156","_x157","_x158","image_url","qo","_Yi3","_super35","_this37$maxMessages","_this37","query","chat_history","user_name","_callServiceAPI21","_callee86","_context86","_x159","_x160","_extractResultData24","_callee87","_context87","_x161","Ho","us","zi","getElementsByTagName","some","FONT_URL","_i11","rel","Go","hs","attibutes","string","number","parseFloat","boolean","object","array","function","en","color","getComputedStyle","padStart","loading","colorToHex","setProperty","Vt","_isDisplayed","_elementRef","createIntroPanelWithChild","createInternalIntroPanel","createIntroPanel","Vo","isDirectConnection","fe","Image","scrollDownOnImageLoad","processContent","_addNewImageMessage","_callee88","_context88","createImage","addMessage","_x162","_x163","_x164","controls","createAudioElement","createAnyFile","removeFileRef","addNewAudioMessage","addNewImageMessage","addNewAnyFileMessage","me","_Ke","_super36","_this38","_errorMessageOverrides","errorMessages","overrides","_onClearMessages","_onError","_displayLoadingMessage","getDisplayLoadingMessage","_permittedErrorPrefixes","addSetupMessageIfNeeded","populateIntroPanel","introPanelStyle","addIntroductoryMessage","populateInitialMessages","_displayServiceErrorMessages","displayServiceErrorMessages","getMessages","clearMessages","refreshMessages","refreshTextMessages","_addMessage","isWebModel","setUpMessages","prepareDemo","displayErrors","service","displayLoadingBubble","getText","_i12","_introMessage","getIntroMessage","shift","_this39","processInitialMessageFile","addMessages","isValidMessageContent","updateStateOnMessage","removeMessageOnError","getPermittedMessage","extractParticularSharedStyles","checkPermittedErrorPrefixes","_t3","_i13","_addMultipleFiles","_callee89","_context89","_n3","_x165","_e$displayLoadingBubb","_i14","St","W","INPUT_OUTSIDE_LEFT_SMALL_ADJUSTMENT_CLASS","INPUT_OUTSIDE_RIGHT_SMALL_ADJUSTMENT_CLASS","INPUT_OUTSIDE_LEFT_ADJUSTMENT_CLASS","INPUT_OUTSIDE_RIGHT_ADJUSTMENT_CLASS","adjustOutsideSubmit","adjustForOutsideButton","adjustInputPadding","Ko","Qe","insertBefore","firstChild","getContainerIndex","Sn","j","createTextElement","svg","createCustomElement","processElement","createSpecificStateElement","te","setElementsCSS","wt","_mouseState","state","_customStyles","dropupText","unsetAllCSS","unsetActionCSS","buttonMouseEnter","onmousedown","buttonMouseDown","onmouseup","buttonMouseUp","onmouseenter","onmouseleave","buttonMouseLeave","_i15","unsetCustomStateStyles","setElementCssUpToState","setEvents","gt","focusSiblingItem","MouseEvent","focusItemWhenOnEdge","_e","highlightedItem","createItemText","createItemIcon","iconContainer","item","populateItem","addItemEvents","tn","_this40","_isOpen","_styles","close","addWindowEvents","createItem","clickEvent","windowClick","keyDownEvent","windowKeyDown","isConnected","parentElement","Je","_wt","_super37","_this41","createButtonElement","createInnerElements","_menu","menu","addClickEvent","buttonContainer","createButtonContainer","reapplyStateStyle","addContainerEvents","createInnerElement","createSVGIconElement","toggle","addItem","_this42","findIndex","buttonType","addButton","dropup-menu","outside-left","inside-left","inside-right","outside-right","createPositionsObj","setPosition","generatePositions","addToSideContainer","addToDropup","Qo","svgString","ue","_this43","_attachments","_fileCountLimit","_acceptedFormat","_toggleContainerDisplay","_fileAttachmentsContainerRef","isFileTypeValid","addAttachmentBasedOnType","getTypeFromBlob","createImageAttachment","addFileAttachment","_r2","Ui","createAudioAttachment","_r3","createAnyFileAttachment","createContainer","removeButton","attachmentContainerElement","fileType","createRemoveAttachmentButton","removeAttachment","stopAttachmentPlayback","wn","ps","_ue","we","_super38","_this44","TIMER_LIMIT_S","setInterval","stopPlaceholderCallback","clearTimer","floor","createAudioContainer","_activePlaceholderTimer","createTimer","addPlaceholderAudioAttachmentEvents","_this45","createPlaceholderAudioAttachment","_activePlaceholderAttachment","File","addAudioElements","clearInterval","cloneElement","onplay","onpause","currentTime","onended","paused","play","pause","ta","_t","_fileAttachmentsTypes","createAttachmentContainer","displayFileAttachmentContainer","toggleContainerDisplay","getFiles","flat","_completePlaceholders","_callee91","_context91","_ref11","_callee90","_context90","_x166","addFilesToType","removeAllAttachments","attemptAddFile","fs","le","_contentRef","createModalContent","_buttonPanel","createButtonPanel","_backgroundPanelRef","createDarkBackgroundPanel","_this46","_len2","_key2","_this47","MODAL_CLOSE_TIMEOUT_MS","displayModalElements","_this48","createSVGButton","createTextButton","addButtons","extensionCloseCallback","_i$classList","addCloseButton","openTextModal","ut","_wt2","_super39","_this49","_inputElement","_fileAttachmentsType","_openModalOnce","openModalOnce","triggerImportPrompt","createTextModalFunc","multiple","de","addEvents","ondragenter","ondragleave","ondragover","ondrop","uploadFile","dataTransfer","addFilesToAnyType","getNumberOfTypes","Me","changeToSubmitIcon","changeToDisabledIcon","_useValidationFunc","_callee92","_context92","completePlaceholders","getAllFileData","validate","_x167","_x168","_x169","_x170","_useValidationFuncProgrammatic","_callee93","_context93","_x171","_x172","_x173","validateInput","processValidateInput","_ref12","_callee94","_context94","loadingActive","requestInProgress","isSubmitProgrammaticallyDisabled","validateWebsocket","useValidationFuncProgrammatic","useValidationFunc","_x174","bt","_wt3","_super40","_this50","createMicrophoneElement","isActive","_innerElements","changeToDefault","active","unsupported","commandMode","toggleIconFilter","ms","oi","Mt","De","ye","FIRST_CHAR_REGEX","DOUBLE_LINE","ONE_LINE","Translate","na","sa","breakupIntoWordsArr","WebSpeechTranscript","_n","ra","resultIndex","transcript","translate","isFinal","interimTranscript","finalTranscript","newText","tt","Browser","lt","_IS_SAFARI","Tt","li","EventListeners","J","_this51","getElementIfFocusedOnAvailable","activeElement","KEY_DOWN_TIMEOUT","resetRecording","mouseDownElement","insertInCursorLocation","mouseDownEvent","mouseDownWindow","mouseUpEvent","mouseUpWindow","keyDownWindow","ci","PreResultUtils","oa","restart","removeNewText","Ct","At","AutoScroll","nn","isCursorAtEnd","endPadding","scrollingSpan","scrollIntoView","scrollLeft","scrollWidth","clientWidth","isElementOverflown","je","Elements","aa","pointerEvents","spansPopulated","_i16","focusNode","getRangeAt","insertNode","interimSpan","finalSpan","interim","getRootNode","ShadowRoot","Fe","Cursor","ht","setOffsetForGeneric","_a2","setStart","getGenericElementCursorOffset","blur","setSelectionRange","rangeCount","cloneRange","setEnd","startContainer","startOffset","endContainer","endOffset","CommandUtils","Mn","la","ca","Tn","Cn","K","caseSensitive","substrings","settings","processCommand","isWaitingForCommand","onCommandModeTrigger","toggleCommandModeOff","isPrimitiveElement","isTargetInShadow","setOffsetForPrimitive","scrollSafariPrimitiveToEnd","focusEndOfGeneric","scrollGeneric","commands","checkIfMatchesWord","checkIfMatchesSubstring","setInterimColorToFinal","toggleCommandModeOn","doNotProcessTranscription","isPaused","onPauseTrigger","resume","setText","removeAllText","di","Highlight","da","Wt","selectionStart","selectionEnd","isHighlighted","setStateForPrimitive","setStateForGeneric","deleteFromDocument","ui","Padding","ua","An","Ue","Kt","isCharDefined","startPadding","numberOfSpacesBeforeNewText","numberOfSpacesAfterNewText","setStateForPrimitiveElement","setStateForGenericElement","primitiveTextRecorded","Speech","kn","ha","In","Rt","Ti","ie","Ci","Ln","Rn","Ai","pa","createInterimSpan","createGenericSpan","recognizing","_displayInterimResults","isRestarting","cannotBeStopped","resetState","prepare","displayInterimResults","textColor","_finalTextColor","applyCustomColors","_onResult","onResult","_onPreResult","onPreResult","_onStart","onStart","_onStop","onStop","_options","setState","isInsideShadowDOM","_primitiveElement","_originalText","_genericElement","start","capitalize","updatePrimitiveElement","updateGenericElement","removeForPrimitive","adjustStateAfterRecodingPrimitiveElement","adjustSateForNoTextPrimitiveElement","removeForGeneric","appendSpans","lineBreak","isRequired","changeStateIfNeeded","setOffsetForSafariGeneric","stopTimeout","WebSpeech","On","Nn","fa","Jt","_fa$Speech","_super41","_extractText","extractSafari","extract","prepareBeforeStart","instantiateService","_service","_translations","getAPI","continuous","interimResults","_this52","onstart","setStateOnStart","onaudioend","setStateOnStop","onend","_stopping","onresult","_this52$_extractText","_i17","updateElements","finalise","setStateOnError","webkitSpeechRecognition","SpeechRecognition","hi","GlobalState","$e","doubleClickPending","pi","fi","PreventConnectionStop","ma","_manualConnectionStopPrevention","mi","gi","README_URL","AzureSpeechConfig","ki","$t","subscriptionKey","retrieveToken","_getNewSpeechConfig","_callee95","_context95","fromSubscription","fromAuthorizationToken","_x175","_x176","speechRecognitionLanguage","_get","_callee96","_context96","getNewSpeechConfig","_x177","_x178","bi","StopTimeout","vt","stopTimeoutMS","DEFAULT_MS","vi","AzureTranscript","ga","ba","Azure","Pn","Dn","Ii","jn","va","Yt","_va$Speech","_super42","_this53","_newTextPadding","stopAfterSilenceMs","startAsync","applyPrevention","_startAsync","_callee97","_context97","startContinuousRecognitionAsync","_x179","validateOptions","moduleNotFound","_instantiateService","_callee98","_context98","AudioConfig","fromDefaultMicrophoneInput","SpeechConfig","SpeechRecognizer","retrieveTokenInterval","_x180","onRecognizing","recognized","onRecognized","sessionStarted","onSessionStarted","canceled","onCanceled","sessionStopped","onSessionStopped","_jn$AzureTranscript$e","reason","SpeechSDK","ResultReason","Canceled","RecognizedSpeech","_jn$AzureTranscript$e2","CancellationReason","errorDetails","clearPrevention","_retrieveTokenInterval","_this54","authorizationToken","stopContinuousRecognitionAsync","Fn","ya","ee","xa","We","startWebSpeech","startAzure","doubleClickDetector","Li","Zt","_bt","_super43","_this55","_Zt$processConfigurat","processConfiguration","serviceName","processedConfig","_addErrorMessage","isWebSpeechSupported","buttonClick","changeToUnsupported","changeToActive","changeToCommandMode","_i$displayInterimResu","_i$textColor","_i$translations","_i$commands","webSpeech","endCommandMode","getServiceName","gs","Date","getHours","getMinutes","getSeconds","Ea","_bt2","_super44","_this56","_waitingForBrowserApproval","_audioType","_extension","_maxDurationSeconds","record","_this57","_mediaRecorder","_mediaStream","getTracks","_this58","MediaRecorder","addPlaceholderAttachment","createFile","_this59","getFileName","_newFilePrefix","completePlaceholderAttachment","B","_e$n","_e$n2","setPropertyValueIfDoesNotExist","_e$n3","setPropertyValue","getObjectValue","Ce","overwritePropertyObjectFromAnother","overwriteDefaultStyleWithSubmit","alwaysEnabled","setUpDisabledButton","yi","_wt4","k","_super45","_this60","submitButtonStyles","createButtonContainerElement","_isSVGLoadingIconOverriden","_inputElementRef","_fileAttachments","_abortStream","_stopClicked","_serviceIO","_alwaysEnabled","disableSubmitButton","attemptOverwriteLoadingStyle","assignHandlers","_j$create","createSubmitIconElement","createLoadingIconElement","createStopIconElement","createDisabledIconElement","resetSubmit","changeToStopIcon","_submitFromInput","_callee99","_i18","_context99","attemptSubmit","_programmaticSubmit","_callee100","_this61","_context100","processSubmitUserMessage","_x181","_attemptSubmit","_callee101","_args101","_context101","changeToLoadingIcon","callAPI","removeAllFiles","_x182","_addNewMessage","_callee102","_ref13","_context102","addMultipleFiles","_x183","LOADING_CLASS","DISABLED_CLASS","SUBMIT_CLASS","stopStream","submitFromInput","wa","_a","sn","_at","_super46","_this62","_stopped","_format","_canvas","_this62$addButtonsAnd","addButtonsAndTheirEvents","captureButton","submitButton","_captureButton","_submitButton","_captureIcon","_refreshIcon","_dimensions","addButtonEvents","_this63","capture","getFile","_this64","getContext","clearRect","_this65","_dataURL","video","srcObject","requestAnimationFrame","updateCanvas","toDataURL","atob","_i19","videoWidth","videoHeight","_i20","drawImage","openCameraModal","Xt","_wt5","_super47","_this66","createCameraModalFunc","pt","createPanelElement","inputAreaStyle","createFileUploadComponents","attach","programmaticSubmit","addElements","dropupStyles","attachmentContainerStyle","createUploadButtons","addType","_d","isEnabled","dragAndDrop","_Qo$a","rn","ka","Ia","La","x","_vo","_super48","_this67","focusInput","focusFromParentElement","_hasBeenRendered","_auxiliaryStyleApplied","appendStyleSheetToHead","attachShadow","_activeService","_this$_childElement","auxiliaryStyle","applyDefaultStyleToComponent","chatStyle","checkForContainerStyles","changeToChatView","_childElement","maxWidth","insert","functionsDetails","functionDetails","tmp","location","getCurrentWeather","getCurrentTime","customElements"],"mappings":"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"}